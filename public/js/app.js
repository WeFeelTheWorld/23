(function(){
	"use strict";

	var app = angular.module('app',
		[
		'app.controllers',
		'app.filters',
		'app.services',
		'app.directives',
		'app.routes',
		'app.config',
		]);


	angular.module('app.routes', ['ui.router', 'ngStorage', 'satellizer']);
	angular.module('app.controllers', ['ui.router', 'ngMaterial', 'ngStorage', 'restangular', 'ngMdIcons', 'angular-loading-bar', 'ngMessages', "leaflet-directive",'nvd3', 'ngCsvImport']);
	angular.module('app.filters', []);
	angular.module('app.services', ['ui.router', 'ngStorage', 'restangular']);
	angular.module('app.directives', []);
	angular.module('app.config', []);

})();

(function(){
	"use strict";

	angular.module('app.routes').config(["$stateProvider", "$urlRouterProvider", function($stateProvider, $urlRouterProvider){

		var getView = function(viewName){
			return '/views/app/' + viewName + '/' + viewName + '.html';
		};

		$urlRouterProvider.otherwise('/');

		$stateProvider
			.state('app', {
				abstract: true,
				views: {
				/*	sidebar: {
						templateUrl: getView('sidebar')
					},*/
					header: {
						templateUrl: getView('header')
					},
					main: {}
				}
			})
			.state('app.epi', {
				url: '/epi',
				data: {pageName: 'Environment Performance Index'},
				views: {
					'main@': {
						templateUrl: getView('epi')
					},
					'map@':{
						templateUrl: getView('map')
					}
				}
			})
			.state('app.epi.selected',{
				url: '/:item'
			})
			.state('app.importcsv', {
				url: '/importer',
				data: {pageName: 'Import CSV'},
				views: {
					'main@': {
						templateUrl: getView('importcsv')
					},
					'map':{}
				}
			});



	}]);
})();

(function(){
	"use strict";

	angular.module('app.routes').run(["$rootScope", function($rootScope){
		$rootScope.$on("$stateChangeStart", function(event, toState){

			if (toState.data && toState.data.pageName){
				$rootScope.current_page = toState.data.pageName;
			}


		});
		$rootScope.$on("$viewContentLoaded", function(event, toState){
			window.Prism.highlightAll();
		});
	}]);

})();

(function (){
    "use strict";

    angular.module('app.config').config(["$authProvider", function ($authProvider){
        // Satellizer configuration that specifies which API
        // route the JWT should be retrieved from
        $authProvider.loginUrl = '/api/1/authenticate/auth';
    }]);

})();

(function (){
	"use strict";

	angular.module('app.config').config(["cfpLoadingBarProvider", function (cfpLoadingBarProvider){
		cfpLoadingBarProvider.includeSpinner = false;
	}]);

})();

(function(){
	"use strict";

	angular.module('app.config').config( ["RestangularProvider", function(RestangularProvider) {
		RestangularProvider
		.setBaseUrl('/api/1/');
	}]);

})();

(function(){
	"use strict";

	angular.module('app.config').config(["$mdThemingProvider", function($mdThemingProvider) {
		/* For more info, visit https://material.angularjs.org/#/Theming/01_introduction */
		$mdThemingProvider.theme('default')
		.primaryPalette('indigo')
		.accentPalette('grey')
		.warnPalette('red');
	}]);

})();

(function(){
	"use strict";

	angular.module('app.filters').filter( 'capitalize', function(){
		return function(input, all) {
			return (!!input) ? input.replace(/([^\W_]+[^\s-]*) */g,function(txt){
				return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
			}) : '';
		};
	});
})();

(function(){
	"use strict";

	angular.module('app.filters').filter( 'humanReadable', function(){
		return function humanize(str) {
			if ( !str ){
				return '';
			}
			var frags = str.split('_');
			for (var i=0; i<frags.length; i++) {
				frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);
			}
			return frags.join(' ');
		};
	});
})();
(function(){
	"use strict";

	angular.module('app.filters').filter( 'trustHtml', ["$sce", function( $sce ){
		return function( html ){
			return $sce.trustAsHtml(html);
		};
	}]);
})();
(function(){
	"use strict";

	angular.module('app.filters').filter('ucfirst', function() {
		return function( input ) {
			if ( !input ){
				return null;
			}
			return input.substring(0, 1).toUpperCase() + input.substring(1);
		};
	});

})();

(function(){
    "use strict";

    angular.module('app.services').factory('MapService', ["leafletData", function(leafletData){
        //
        var leaflet = {};
        return {
          setLeafletData: function(leaf){
            leaflet = leaflet;
          },
          getLeafletData: function(){
            return leaflet;
          }
        }
    }]);

})();

(function(){
	"use strict";

	angular.module("app.services").factory('DialogService', ["$mdDialog", function($mdDialog){

		return {
			fromTemplate: function(template, $scope){

				var options = {
					templateUrl: '/views/dialogs/' + template + '/' + template + '.html'
				};

				if ($scope){
					options.scope = $scope.$new();
				}

				return $mdDialog.show(options);
			},

			hide: function(){
				return $mdDialog.hide();
			},

			alert: function(title, content){
				$mdDialog.show(
					$mdDialog.alert()
						.title(title)
						.content(content)
						.ok('Ok')
				);
			}
		};
	}]);
})();
(function(){
	"use strict";

	angular.module("app.services").factory('ToastService', ["$mdToast", function($mdToast){

		var delay = 6000,
			position = 'top right',
			action = 'OK';

		return {
			show: function(content){
				if (!content){
					return false;
				}

				return $mdToast.show(
					$mdToast.simple()
						.content(content)
						.position(position)
						.action(action)
						.hideDelay(delay)
				);
			},
			error: function(content){
				if (!content){
					return false;
				}

				return $mdToast.show(
					$mdToast.simple()
						.content(content)
						.position(position)
						.theme('warn')
						.action(action)
						.hideDelay(delay)
				);
			}
		};
	}]);
})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('DialogsCtrl', ["$scope", "DialogService", function($scope, DialogService){
		$scope.alertDialog = function(){
			DialogService.alert('This is an alert title', 'You can specify some description text in here.');
		};

		$scope.customDialog = function(){
			DialogService.fromTemplate('add_users', $scope);
		};
	}]);

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('ElixirCtrl', function(){
        //
    });

})();

(function () {
	"use strict";

	angular.module('app.controllers').controller('EpiCtrl', ["$scope", "$state", "Restangular", "leafletData", "MapService", function ($scope,$state, Restangular, leafletData, MapService) {

		$scope.indexData = {
			 name:'EPI',
			 full_name: 'Environment Preformance Index',
			 table: 'epi',
			 allCountries: 'yes',
			 countries: [],
			 score_field_name: 'score',
			 change_field_name: 'percent_change',
			 order_field: 'year',
			 countries_id_field: 'country_id',
			 countries_iso_field: 'iso',
			 data_tree:[{
				 column_name: 'eh',
				 title: 'Enviromental Health',
				 range:[0, 100],
				 weigth: 40,
				 icon:'',
				 color:'',
				 children:[{
					 column_name:'eh_hi',
					 title:'Health Impact',
					 icon: 'man',
					 unicode: '\ue605',
					 color: '#ff9600',
					 children:[{
						 column_name: 'eh_hi_child_mortality',
						 title:'Child Mortality',
						 icon:'',
						 color:'',
						 description:'Probability of dying between a childs first and fifth birthdays (between age 1 and 5)'
					 }]
				 },{
					 column_name:'eh_aq',
					 title:'Air Quality',
					 color: '#f7c80b',
					 icon: 'sink',
					 unicode: '\ue606',
					 children:[{
						 column_name: 'eh_aq_household_air_quality',
						 title:'Household Air Quality',
						 icon:'',
						 color:'',
						 description:'Percentage of the population using solid fuels as primary cooking fuel.'
					 },{
						 column_name: 'eh_aq_exposure_pm25',
						 title:'Air Pollution - Average Exposure to PM2.5',
						 icon:'',
						 color:'',
						 description:'Population weighted exposure to PM2.5 (three- year average)'
					 },{
						 column_name: 'eh_aq_exeedande_pm25',
						 title:'Air Pollution - PM2.5 Exceedance',
						 icon:'',
						 color:'',
						 description:'Proportion of the population whose exposure is above  WHO thresholds (10, 15, 25, 35 micrograms/m3)'
					 }]
				 },{
					 column_name:'eh_ws',
					 title:'Water Sanitation',
					 color: '#ff6d24',
					 icon: 'fabric',
					 unicode: '\ue604',
					 children:[{
						column_name: 'eh_ws_access_to_drinking_water',
						title:'Access to Drinking Water',
						icon:'',
						color:'',
						description:'Percentage of population with access to improved drinking water source'
					},{
						column_name: 'eh_ws_access_to_sanitation',
						title:'Access to Sanitation',
						icon:'',
						color:'',
						description:'Percentage of population with access to improved sanitation'
					}]
				 }]
			 },{
				 column_name: 'ev',
				 title: 'Enviromental Validity',
				 range:[0, 100],
				 weight:60,
				 icon:'',
				 color:'',
				 children:[{
					 column_name:'ev_wr',
					 title:'Water Resources',
					 color: '#7993f2',
					 icon: 'water',
					 unicode: '\ue608',
					 children:[{
						 column_name: 'ev_wr_wastewater_treatment',
						 title:'Wastewater Treatment',
						 icon:'',
						 color:'',
						 description:'Wastewater treatment level weighted by connection to wastewater treatment rate.'
					 }]
				 },{
					 column_name:'ev_ag',
					 title:'Agriculture',
					 color: '#009bcc',
					 icon: 'agrar',
					 unicode: '\ue600',
					 children:[{
						 column_name: 'ev_ag_agricultural_subsidies',
						 title:'Agricultural Subsidies',
						 icon:'',
						 color:'',
						 description:'Subsidies are expressed in price of their product in the domestic market (plus any direct output subsidy) less its price at the border, expressed as a percentage of the border price (adjusting for transport costs and quality differences).'
					 },{
						 column_name: 'ev_ag_pesticide_regulation',
						 title:'Pesticide Regulation',
						 icon:'',
						 color:'',
						 description:'Wastewater treatment level weighted by connection to wastewater treatment rate.'
					 }]
				 },{
					 column_name:'ev_fo',
					 title:'Forest',
					 color: '#2e74ba',
					 icon: 'tree',
					 unicode: '\ue607',
					 children:[{
						 column_name: 'ev_fo_change_in_forest_cover',
						 title:'Change in Forest Cover',
						 icon:'',
						 color:'',
						 description:'Forest loss - Forest gain in > 50% tree cover, as compared to 2000 levels.'
					 }]
				 },{
					 column_name:'ev_fi',
					 title:'Fisheries',
					 color: '#008c8c',
					 icon: 'anchor',
					 unicode: '\ue601',
					 children:[{
						 column_name: 'ev_fi_coastal_shelf_fishing_pressure',
						 title:'Coastal Shelf Fishing Pressure',
						 icon:'',
						 color:'',
						 description:'Catch in metric tons from trawling and dredging gears (mostly bottom trawls) divided by EEZ area.'
					 },{
						 column_name: 'ev_fi_fish_stocks',
						 title:'Fish Stocks',
						 icon:'',
						 color:'',
						 description:'Percentage of fishing stocks overexploited and collapsed from EEZ.'
					 }]
				 },{
					 column_name:'ev_bd',
					 title:'Biodiversity and Habitat',
					 color: '#00ccaa',
					 icon: 'butterfly',
					 unicode: '\ue602',
					 children:[{
						 column_name: 'ev_bd_terrestrial_protected_areas_national_biome',
						 title:'Terrestrial Protected Areas (National Biome Weights)',
						 icon:'',
						 color:'',
						 description:'Percentage of terrestrial biome area that is protected, weighted by domestic biome area.'
					 },{
						 column_name: 'ev_bd_terrestrial_protected_areas_global_biome',
						 title:'Terrestrial Protected Areas (Global Biome Weights)',
						 icon:'',
						 color:'',
						 description:'Percentage of terrestrial biome area that is protected, weighted by global biome area.'
					 },{
						 column_name: 'ev_bd_marine_protected_areas',
						 title:'Marine Protected Areas',
						 icon:'',
						 color:'',
						 description:'Marine protected areas as a percent of EEZ.'
					 },{
						 column_name: 'ev_bd_critical_habitat_protection',
						 title:'Critical Habitat Protection',
						 icon:'',
						 color:'',
						 description:'Percentage of terrestrial biome area that is protected, weighted by global biome area.'
					 }]
				 },{
					 column_name:'ev_ce',
					 title:'Climate and Energy',
					 color: '#1cb85d',
					 icon: 'energy',
					 unicode: '\ue603',
					 children:[{
						 column_name: 'ev_ce_trend_in_carbon_intensity',
						 title:'Trend in Carbon Intensity',
						 icon:'',
						 color:'',
						 description:'Change in CO2 emissions per unit GDP from 1990 to 2010.'
					 },{
						 column_name: 'ev_ce_change_of_trend_in_carbon_intesity',
						 title:'Change of Trend in Carbon Intensity',
						 icon:'',
						 color:'',
						 description:'Change in Trend of CO2 emissions per unit GDP from 1990 to 2000; 2000 to 2010.'
					 },{
						 column_name: 'ev_ce_trend_in_co2_emissions_per_kwh',
						 title:'Trend in CO2 Emissions per KWH',
						 icon:'',
						 color:'',
						 description:'Change in CO2 emissions from electricity and heat production.'
					 }]
				 }]
			 }]
		};
		$scope.current = "";
		$scope.display = {
			selectedCat: ''
		};
		$scope.menueOpen = true;
		$scope.details = false;
		$scope.closeIcon = 'chevron_left';
		$scope.setState = function(iso){
			angular.forEach($scope.epi, function(epi){
				if(epi.iso == iso){
					$scope.current = epi;
				}
			});
		};
		var epi = Restangular.all('epi/year/2014');
		epi.getList().then(function (data) {
			$scope.epi = data;
			$scope.drawCountries();
			if($state.current.name == "app.epi.selected"){
			//setState($state.params.item);
			}
		});
		$scope.toggleOpen = function () {
			$scope.menueOpen = !$scope.menueOpen;
			$scope.closeIcon = $scope.menueOpen == true ? 'chevron_left' : 'chevron_right';
		}
		$scope.setCurrent = function (nat) {
			$scope.current = nat;
		};
		$scope.getRank = function (nat) {
			return $scope.epi.indexOf(nat) + 1;
		};
		$scope.toggleDetails = function () {
			return $scope.details = !$scope.details;
		}
		$scope.getOffset = function () {
			if (!$scope.current) {
				return 0;
			}
			return ($scope.current.rank == 1 ? 0 : $scope.current.rank == $scope.current.length + 1 ? $scope.current.rank : $scope.current.rank - 2) * 16;
			//return $scope.current.rank - 2 || 0;
		};
		$scope.getTendency = function () {
			if (!$scope.current) {
				return 'arrow_drop_down'
			}
			return $scope.current.percent_change > 0 ? 'arrow_drop_up' : 'arrow_drop_down';
		};

		$scope.$watch('current', function (newItem, oldItem) {
			if (newItem === oldItem) {
				return;
			}
			var country = Restangular.one('nations', newItem.iso).get();

			country.then(function (data) {
				$scope.country = data;
				$state.go('app.epi.selected', {item:newItem.iso})
			});
		});
		var getNationByName = function (name) {
			var nation = {};
			angular.forEach($scope.epi, function (nat) {
				if (nat.country == name) {
					nation = nat;
				}
			});
			return nation;
		};
		var createCanvas = function (colors) {
			$scope.canvas = document.createElement('canvas');
			$scope.canvas.width = 256;
			$scope.canvas.height = 10;
			$scope.ctx = $scope.canvas.getContext('2d');
			var gradient = $scope.ctx.createLinearGradient(0, 0, 256, 10);
			gradient.addColorStop(0, 'rgba(255,255,255,0)');
			gradient.addColorStop(0.53, 'rgba(128, 243, 198,1)');
			gradient.addColorStop(1, 'rgba(102,102,102,1)');
			$scope.ctx.fillStyle = gradient;
			$scope.ctx.fillRect(0, 0, 256, 10);
			$scope.palette = $scope.ctx.getImageData(0, 0, 256, 1).data;
			//document.getElementsByTagName('body')[0].appendChild($scope.canvas);
		}
		createCanvas();


		$scope.drawCountries = function () {
			leafletData.getMap('map').then(function (map) {
				//	L.tileLayer('http://localhost:3001/services/postgis/countries_big/geom/dynamicMap/{z}/{x}/{y}.png').addTo(map);
				var debug = {};
				var apiKey = 'pk.eyJ1IjoibWFnbm9sbyIsImEiOiJuSFdUYkg4In0.5HOykKk0pNP1N3isfPQGTQ';
				var url = 'http://localhost:3001/services/postgis/countries_big/geom/vector-tiles/{z}/{x}/{y}.pbf?fields=id,admin,adm0_a3,name,name_long'; //
				var url2 = 'https://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v6-dev/{z}/{x}/{y}.vector.pbf?access_token=' + apiKey;
				var mvtSource = new L.TileLayer.MVTSource({
					url: url, //"http://spatialserver.spatialdev.com/services/vector-tiles/gaul_fsp_india/{z}/{x}/{y}.pbf",
					debug: false,
					clickableLayers: ['countries_big_geom'],
					mutexToggle: true,
					onClick: function (evt, t) {
						//map.fitBounds(evt.target.getBounds());
						/*console.log(evt.latlng);
						var x = evt.feature.bbox()[0]/ (evt.feature.extent / evt.feature.tileSize);
						var y = evt.feature.bbox()[1]/(evt.feature.extent / evt.feature.tileSize)
						console.log(new L.Point(x,y));
						console.log([
							[evt.feature.bbox()[0]/ (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[1]/(evt.feature.extent / evt.feature.tileSize)],
							[evt.feature.bbox()[2]/(evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[3]/(evt.feature.extent / evt.feature.tileSize)],
						]);
						debugger;*/
						if ($scope.current.country != evt.feature.properties.admin) {
							map.panTo(evt.latlng);
							map.panBy(new L.Point(-200,0));
						/*	map.fitBounds([
								[evt.feature.bbox()[0] / (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[1] / (evt.feature.extent / evt.feature.tileSize)],
								[evt.feature.bbox()[2] / (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[3] / (evt.feature.extent / evt.feature.tileSize)],
							])*/
						}
						$scope.current = getNationByName(evt.feature.properties.admin);
					},
					getIDForLayerFeature: function (feature) {

						return feature.properties.id;
					},
					filter: function (feature, context) {

						if (feature.layer.name === 'admin' || feature.layer.name === 'gaul_2014_adm1_label') {
							//console.log(feature);
							if (feature.properties.admin_level == 0 || feature.properties.admin_level == 1 || feature.properties.admin_level == 2) {
								return true;
							} else {
								return false;
							}

						}
						return true;
					},

					style: function (feature) {
						var style = {};
						var nation = getNationByName(feature.properties.admin);
						var type = feature.type;
						switch (type) {
						case 1: //'Point'
							style.color = 'rgba(49,79,79,0.01)';
							style.radius = 5;
							style.selected = {
								color: 'rgba(255,255,0,0.5)',
								radius: 0
							};
							break;
						case 2: //'LineString'
							style.color = 'rgba(255,0,0,1)';
							style.size = 1;
							style.selected = {
								color: 'rgba(255,25,0,1)',
								size: 2
							};
							break;
						case 3: //'Polygon'
							if (nation.score) {
								var colorPos = parseInt(256 / 100 * nation.score) * 4;
								var color = 'rgba(' + $scope.palette[colorPos] + ', ' + $scope.palette[colorPos + 1] + ', ' + $scope.palette[colorPos + 2] + ',' + $scope.palette[colorPos + 3] + ')';
								style.color = color;
								style.outline = {
									color: 'rgba(50,50,50,0.4)',
									size: 1
								};
								style.selected = {
									color: 'rgba(255,255,255,0.0)',
									outline: {
										color: 'rgba(0,0,0,0.5)',
										size: 1
									}
								};
								break;
							} else {
								style.color = 'rgba(255,255,255,0)';
								style.outline = {
									color: 'rgba(255,255,255,0)',
									size: 1
								};
							}
						}

						//	if (feature.layer.name === 'gaul_2014_adm1_label') {
						style.ajaxSource = function (mvtFeature) {
							var id = mvtFeature.id;
							//	console.log(id);
							//return 'http://spatialserver.spatialdev.com/fsp/2014/fsp/aggregations-no-name/' + id + '.json';
						};

						style.staticLabel = function (mvtFeature, ajaxData) {
							var style = {
								html: ajaxData.total_count,
								iconSize: [33, 33],
								cssClass: 'label-icon-number',
								cssSelectedClass: 'label-icon-number-selected'
							};
							return style;
						};
						//	}

						return style;
					},


					layerLink: function (layerName) {
						if (layerName.indexOf('_label') > -1) {
							return layerName.replace('_label', '');
						}
						return layerName + '_label';
					}

				});
				debug.mvtSource = mvtSource;
				map.addLayer(mvtSource);
			});
		};
	}]);
})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('GeneratorsCtrl', function(){
        //
    });

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('HeaderCtrl', ["$scope", "$rootScope", function($scope, $rootScope){

		$scope.$watch(function(){
			return $rootScope.current_page;
		}, function(newPage){
			$scope.current_page = newPage || 'Page Name';
		});


	}]);

})();

(function () {
	"use strict";

	angular.module('app.controllers').controller('ImportcsvCtrl', ["$mdDialog", function ($mdDialog) {
		this.settings = {
			printLayout: true,
			showRuler: true,
			showSpellingSuggestions: true,
			presentationMode: 'edit'
		};

		this.sampleAction = function (name, ev) {
			$mdDialog.show($mdDialog.alert()
				.title(name)
				.content('You triggered the "' + name + '" action')
				.ok('Great')
				.targetEvent(ev)
			);
		};

    this.openCsvUpload = function() {
			$mdDialog.show({
					//controller: DialogController,
					templateUrl: '/views/app/importcsv/csvUploadDialog.html',
	        bindToController: true,
				})
				.then(function (answer) {

				}, function () {

				});
		};
	}])


})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('JwtAuthCtrl', ["$scope", "$auth", "Restangular", function($scope, $auth, Restangular){

		var credentials = {};

		$scope.requestToken = function(){
			// Use Satellizer's $auth service to login because it'll automatically save the JWT in localStorage
			$auth.login(credentials).then(function (data){
				// If login is successful, redirect to the users state
				//$state.go('dashboard');
			});
		};

		// This request will hit the getData method in the AuthenticateController
		// on the Laravel side and will return your data that require authentication
		$scope.getData = function(){
			Restangular.all('authenticate/data').get().then(function (response){

			}, function (error){});
		};



	}]);

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('LandingCtrl', ["$scope", "$mdToast", "$mdDialog", "$interval", "ToastService", "DialogService", function($scope, $mdToast, $mdDialog, $interval, ToastService, DialogService){

		$scope.promoImage = 'https://i.imgur.com/ZbLzOPP.jpg';
		$scope.icon = 'send';

		var icons = [
				'office', 'facebook', 'twitter', 'apple', 'whatsapp', 'linkedin', 'windows', 'accessibility', 'alarm', 'aspect_ratio',
				'autorenew', 'bookmark_outline', 'dashboard', 'dns', 'favorite_outline', 'get_app', 'highlight_remove', 'history', 'list',
				'picture_in_picture', 'print', 'settings_ethernet', 'settings_power', 'shopping_cart', 'spellcheck', 'swap_horiz', 'swap_vert',
				'thumb_up', 'thumbs_up_down', 'translate', 'trending_up', 'visibility', 'warning', 'mic', 'play_circle_outline', 'repeat',
				'skip_next', 'call', 'chat', 'clear_all', 'dialpad', 'dnd_on', 'forum', 'location_on', 'vpn_key', 'filter_list', 'inbox',
				'link', 'remove_circle_outline', 'save', 'text_format', 'access_time', 'airplanemode_on', 'bluetooth', 'data_usage',
				'gps_fixed', 'now_wallpaper', 'now_widgets', 'storage', 'wifi_tethering', 'attach_file', 'format_line_spacing',
				'format_list_numbered', 'format_quote', 'vertical_align_center', 'wrap_text', 'cloud_queue', 'file_download', 'folder_open',
				'cast', 'headset', 'keyboard_backspace', 'mouse', 'speaker', 'watch', 'audiotrack', 'edit', 'brush', 'looks', 'crop_free',
				'camera', 'filter_vintage', 'hdr_strong', 'photo_camera', 'slideshow', 'timer', 'directions_bike', 'hotel', 'local_library',
				'directions_walk', 'local_cafe', 'local_pizza', 'local_florist', 'my_location', 'navigation', 'pin_drop', 'arrow_back', 'menu',
				'close', 'more_horiz', 'more_vert', 'refresh', 'phone_paused', 'vibration', 'cake', 'group', 'mood', 'person',
				'notifications_none', 'plus_one', 'school', 'share', 'star_outline'
			],
			counter = 0;

		$interval(function(){
			$scope.icon = icons[++counter];
			if (counter > 112){
				counter = 0;
			}
		}, 2000);

	}]);

})();

(function (){
    "use strict";

    angular.module('app.controllers').controller('LoginCtrl', function (){

    });

})();

(function () {
	"use strict";

	angular.module('app.controllers').controller('MapCtrl', ["$scope", "$rootScope", "$timeout", "MapService", "leafletData", "$http", function ($scope, $rootScope, $timeout, MapService, leafletData, $http) {
		//
		var apiKey = 'pk.eyJ1IjoibWFnbm9sbyIsImEiOiJuSFdUYkg4In0.5HOykKk0pNP1N3isfPQGTQ';

		/*$scope.defaults = {
			tileLayer: 'https://{s}.tiles.mapbox.com/v4/mapbox.pencil/{z}/{x}/{y}.png?access_token=' + apiKey,
			maxZoom: 14,
			detectRetina: true,
			attribution: ''
		};
		$scope.center = {
			lat: 0,
			lng: 0,
			zoom: 3
		};*/
		angular.extend($rootScope, {
			center: {
				lat: 0,
				lng: 0,
				zoom: 3
			},
			layers: {
				baselayers: {
					xyz: {
						name: 'MapBox Pencil',
						url: 'https://{s}.tiles.mapbox.com/v4/mapbox.pencil/{z}/{x}/{y}.png?access_token=' + apiKey,
						type: 'xyz'
					}
				},
				overlays: {
					demosutfgrid: {
						name: 'UTFGrid Interactivity',
						type: 'utfGrid',
						url: 'http://{s}.tiles.mapbox.com/v3/mapbox.geography-class/{z}/{x}/{y}.grid.json?callback={cb}',
						visible: true
					}
				}
			}
		});
		$scope.searchIP = function (ip) {
			var url = "http://freegeoip.net/json/" + ip;
			$http.get(url).success(function (res) {
				$scope.center = {
					lat: res.latitude,
					lng: res.longitude,
					zoom: 3
				}
				$scope.ip = res.ip;
			})
		};

		$scope.searchIP("");
		$scope.interactivity = "";
		$scope.flag = "";
		$scope.$on('leafletDirectiveMap.utfgridMouseover', function (event, leafletEvent) {
			// the UTFGrid information is on leafletEvent.data
			$scope.interactivity = leafletEvent.data.admin;
			$scope.flag = "data:image/png;base64," + leafletEvent.data.flag_png;

		});
		$scope.$on('leafletDirectiveMap.utfgridMouseout', function (event, leafletEvent) {
			$scope.interactivity = "";
			$scope.flag = "";
		});
		MapService.setLeafletData(leafletData.getMap('map'));

	}]);
})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('MiscCtrl', function(){
        //
    });

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('RestApiCtrl', function(){
        //
    });

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('SidebarCtrl', ["$scope", "$state", function($scope, $state){


	}]);

})();
(function(){
	"use strict";

	angular.module('app.controllers').controller('DashboardCtrl', function(){

	});

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('ToastsCtrl', ["$scope", "ToastService", function($scope, ToastService){

		$scope.toastSuccess = function(){
			ToastService.show('User added successfully!');
		};

		$scope.toastError = function(){
			ToastService.error('Connection interrupted!');
		};

	}]);

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('UnsupportedBrowserCtrl', function(){
        //
    });

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('AddUsersCtrl', ["$scope", "DialogService", function($scope, DialogService){

        $scope.save = function(){
	        //do something useful
            DialogService.hide();
        };

        $scope.hide = function(){
        	DialogService.hide();
        };

    }]);

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'BubblesCtrl', function(){
		//
  });

})();

(function () {
	"use strict";

	function CustomTooltip(tooltipId, width) {
		var tooltipId = tooltipId;
		angular.element(document).find('body').append("<div class='tooltip md-whiteframe-z3' id='" + tooltipId + "'></div>");
		hideTooltip();

		function showTooltip(content, data, event) {
			angular.element(document.querySelector('#' + tooltipId)).html(content);
			angular.element(document.querySelector('#' + tooltipId)).css('display', 'block');

			return updatePosition(event, data);
		}

		function hideTooltip() {
			angular.element(document.querySelector('#' + tooltipId)).css('display', 'none');
		}

		function updatePosition(event, d) {
			var ttid = "#" + tooltipId;
			var xOffset = 20;
			var yOffset = 10;
			var svg = document.querySelector('#svg_vis');
			var wscrY = window.scrollY;
			var ttw = angular.element(document.querySelector(ttid)).offsetWidth;
			var tth = document.querySelector(ttid).offsetHeight;
			var tttop = svg.getBoundingClientRect().top + d.y - tth / 2;
			var ttleft = svg.getBoundingClientRect().left + d.x + d.radius + 12;
			return angular.element(document.querySelector(ttid)).css('top', tttop + 'px').css('left', ttleft + 'px');
		}

		return {
			showTooltip: showTooltip,
			hideTooltip: hideTooltip,
			updatePosition: updatePosition
		}
	}
	angular.module('app.directives').directive('bubbles', ["$compile", function ($compile) {
		var defaults;
		defaults = function () {
			return {
				width: 940,
				height: 600,
				layout_gravity: 0,
				vis: null,
				force: null,
				damper: 0.1,
				circles: null,
				fill_color: d3.scale.ordinal().domain(["eh", "ev"]).range(["#a31031", "#beccae"]),
				max_amount: '',
				radius_scale: '',
				duration: 1000,
				tooltip: CustomTooltip("bubbles_tooltip", 240)
			};
		};
		return {
			restrict: 'E',
			scope: {
				chartdata: '=',
				direction: '=',
				gravity: '=',
				sizefactor: '=',
				indexer:'='
			},
			require: 'ngModel',
			link: function (scope, elem, attrs, ngModel) {
				var options = angular.extend(defaults(), attrs);
				var nodes = [],
					links = [];

				var max_amount = d3.max(scope.chartdata, function (d) {
					return parseInt(d.value);
				});

				options.radius_scale = d3.scale.pow().exponent(0.5).domain([0, max_amount]).range([2, 85]);
				options.center = {
					x: options.width / 2,
					y: options.height / 2
				};
				options.cat_centers = {
					"eh": {
						x: options.width / 2,
						y: options.height / 100 * 45,
						damper: 0.085
					},
					"ev": {
						x: options.width / 2,
						y: options.height / 100 * 55,
						damper: 0.085
					}
				};
				var create_nodes = function () {
					angular.forEach(scope.indexer.data_tree, function(group){
						angular.forEach(group.children, function(item){
							nodes.push({
								type: item.column_name,
								radius: scope.chartdata[item.column_name] / scope.sizefactor,
								value: scope.chartdata[item.column_name] / scope.sizefactor,
								name:item.title,
								group: group.column_name,
								x: options.center.x,
								y: options.center.y,
								color:item.color,
								icon:item.icon,
								unicode: item.unicode,
								data: item
							});
						});
					});
				};
				var create_vis = function () {
					angular.element(elem).html('');
					options.vis = d3.select(elem[0]).append("svg").attr("width", options.width).attr("height", options.height).attr("id", "svg_vis");
					var pi = Math.PI;
					var arcTop = d3.svg.arc()
						.innerRadius(109)
						.outerRadius(110)
						.startAngle(-90 * (pi / 180)) //converting from degs to radians
						.endAngle(90 * (pi / 180)); //just radians
					var arcBottom = d3.svg.arc()
						.innerRadius(134)
						.outerRadius(135)
						.startAngle(90 * (pi / 180)) //converting from degs to radians
						.endAngle(270 * (pi / 180)); //just radians

					options.arcTop = options.vis.append("path")
						.attr("d", arcTop)
						.attr("fill", "#be5f00")
						.attr("transform", "translate(170,140)");
					options.arcBottom = options.vis.append("path")
						.attr("d", arcBottom)
						.attr("fill", "#006bb6")
						.attr("transform", "translate(170,180)");
					options.containers = options.vis.selectAll('g.node').data(nodes).enter().append('g').attr('transform', 'translate(' + (options.width / 2) + ',' + (options.height / 2) + ')').attr('class', 'node');

					/*options.circles = options.containers.selectAll("circle").data(nodes, function (d) {
						return d.id;
					});*/

					options.circles = options.containers.append("circle").attr("r", 0).attr("fill", (function (d) {
						return d.color || options.fill_color(d.group);
					})).attr("stroke-width", 0).attr("stroke", function (d) {
						return d3.rgb(options.fill_color(d.group)).darker();
					}).attr("id", function (d) {
						return "bubble_" + d.id;
					});
					options.icons = options.containers.append("text")
						.attr('font-family', 'EPI')
						.attr('font-size', function (d) {
							0
						})
						.attr("text-anchor", "middle")
						.attr('fill', '#fff')
						.text(function (d) {
							return d.unicode
						});
					options.icons.on("mouseover", function (d, i) {
						return show_details(d, i, this);
					}).on("mouseout", function (d, i) {
						return hide_details(d, i, this);
					}).on("click", function(d, i){
						ngModel.$setViewValue(d);
						ngModel.$render();
					

					});
					options.circles.transition().duration(options.duration).attr("r", function (d) {
						return d.radius;
					});
					options.icons.transition().duration(options.duration).attr("font-size", function (d) {
						return d.radius * 1.75 + 'px';
					}).attr('y', function (d) {
						return d.radius * .75 + 'px';
					});
				};
				var update_vis = function () {

					nodes.forEach(function (d, i) {
						options.circles.transition().duration(options.duration).delay(i * options.duration)
							.attr("r", function (d) {
								d.radius = d.value = scope.chartdata[d.type] / scope.sizefactor;

								return scope.chartdata[d.type] / scope.sizefactor;
							});
						options.icons.transition().duration(options.duration).delay(i * options.duration)
							.attr("font-size", function (d) {
								return (scope.chartdata[d.type] / scope.sizefactor) * 1.75 + 'px'
							})
							.attr('y', function (d) {
								return (scope.chartdata[d.type] / scope.sizefactor) * .75 + 'px';
							})
					});
				};
				var charge = function (d) {
					return -Math.pow(d.radius, 2.0) / 4;
				};
				var start = function () {
					return options.force = d3.layout.force().nodes(nodes).size([options.width, options.height]).links(links);
				};
				var display_group_all = function () {
					options.force.gravity(options.layout_gravity).charge(charge).friction(0.9).on("tick", function (e) {
						return options.circles.each(move_towards_center(e.alpha)).attr('cx', function (d) {
							return d.x;
						}).attr("cy", function (d) {
							return d.y;
						})
					});
					options.force.start();
				};
				var display_by_cat = function () {
					options.force.gravity(options.layout_gravity).charge(charge).friction(0.9).on("tick", function (e) {
						options.containers.each(move_towards_cat(e.alpha)).attr("transform", function (d) {
							return 'translate(' + d.x + ',' + d.y + ')';
						});
					});
					options.force.start();
				};
				var move_towards_center = function (alpha) {
					return (function (_this) {
						return function (d) {
							d.x = d.x + (options.center.x - d.x) * (options.damper + 0.02) * alpha;
							d.y = d.y + (options.center.y - d.y) * (options.damper + 0.02) * alpha;
						}
					})(this);
				};
				var move_towards_top = function (alpha) {
					return (function (_this) {
						return function (d) {
							d.x = d.x + (options.center.x - d.x) * (options.damper + 0.02) * alpha * 1.1;
							d.y = d.y + (200 - d.y) * (options.damper + 0.02) * alpha * 1.1;
						}
					})(this);
				};
				var move_towards_cat = function (alpha) {
					return (function (_this) {
						return function (d) {
							var target;
							target = options.cat_centers[d.group];
							d.x = d.x + (target.x - d.x) * (target.damper + 0.02) * alpha * 1;
							return d.y = d.y + (target.y - d.y) * (target.damper + 0.02) * alpha * 1;
						}
					})(this);
				};
				var show_details = function (data, i, element) {
					var content;
					content = "<span class=\"title\">" + data.name + ":</span><br/>";
					angular.forEach(data.data.children, function(info){
						content += "<span class=\"name\" style=\"color:"+(info.color || data.color)+"\"> " + (info.title) + "</span><br/>";
					});
					$compile(options.tooltip.showTooltip(content, data, d3.event).contents())(scope);
				};

				var hide_details = function (data, i, element) {
					return options.tooltip.hideTooltip();
				};

				scope.$watch('chartdata', function (data, oldData) {
					options.tooltip.hideTooltip();
					if (options.circles == null) {
						create_nodes();
						create_vis();
						start();
					} else {
						update_vis();
					}
					display_by_cat();
				});

				scope.$watch('direction', function (oldD, newD) {
					if (oldD === newD) {
						return;
					}
					if (oldD == "all") {
						display_group_all();
					} else {
						display_by_cat();
					}
				})
			}
		};
	}]);
})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'CirclegraphCtrl', function(){
		//
    });

})();

(function() {
	"use strict";

	angular.module('app.directives').directive('circlegraph', function() {
		var defaults = function() {
			return {
				width: 80,
				height: 80,
				color: '#00ccaa',
				size: 178
			}
		}
		return {
			restrict: 'E',
			controller: 'CirclegraphCtrl',
			scope: true,
			require: 'ngModel',
			link: function($scope, element, $attrs, ngModel) {
				//Fetching Options
				var options = angular.extend(defaults(), $attrs);

				//Creating the Scale
				var rotate = d3.scale.linear()
					.domain([1, options.size])
					.range([1, 0])
					.clamp(true);

				//Creating Elements
				var svg = d3.select(element[0]).append('svg')
					.attr('width', options.width)
					.attr('height', options.height)
					.append('g');
				var container = svg.append('g')
					.attr('transform', 'translate(' + options.width / 2 + ',' + options.height / 2 + ')');
				var circleBack = container.append('circle')
					.attr('r', options.width / 2 - 2)
					.attr('stroke-width', 2)
					.attr('stroke', options.color)
					.style('opacity', '0.6')
					.attr('fill', 'none');
				var arc = d3.svg.arc()
					.startAngle(0)
					.innerRadius(function(d) {
						return options.width / 2 - 4;
					})
					.outerRadius(function(d) {
						return options.width / 2;
					});
				var circleGraph = container.append('path')
					.datum({
						endAngle: 2 * Math.PI * 0
					})
					.style("fill", options.color)
					.attr('d', arc);
				var text = container.selectAll('text')
					.data([0])
					.enter()
					.append('text')
					.text(function(d) {
						return d + '/' + options.size;
					})
					.attr('text-anchor', 'middle')
					.attr('y', '0.35em');

				//Transition if selection has changed
				function animateIt(radius) {
					circleGraph.transition()
						.duration(750)
						.call(arcTween, rotate(radius) * 2 * Math.PI);
					text.transition().duration(750).tween('text', function(d) {
						var data = this.textContent.split("/");
						var i = d3.interpolate(data[0], radius);
						return function(t) {
							this.textContent = (Math.round(i(t) * 1) / 1) + '/' + options.size;
						};
					})
				}

				//Tween animation for the Arc
				function arcTween(transition, newAngle) {
					transition.attrTween("d", function(d) {
						var interpolate = d3.interpolate(d.endAngle, newAngle);
						return function(t) {
							d.endAngle = interpolate(t);
							return arc(d);
						};
					});
				}

				//Watching if selection has changed from another UI element
				$scope.$watch(
					function() {
						return ngModel.$modelValue;
					},
					function(newValue, oldValue) {
						if (newValue === oldValue)
							return;
						animateIt(newValue.rank)
					}, true);
			}
		};

	});

})();
(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'DataListingCtrl', function(){
		//
    });

})();

(function(){
	"use strict";

	angular.module('app.directives').directive( 'dataListing', function() {

		return {
			restrict: 'EA',
			templateUrl: 'views/directives/data_listing/data_listing.html',
			controller: 'DataListingCtrl',
			link: function( $scope, element, $attrs ){
				//
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module('app.directives').directive( 'gradient', function() {

		return {
			restrict: 'EA',
			templateUrl: 'views/directives/gradient/gradient.html',
			controller: 'GradientCtrl',
			link: function( $scope, element, $attrs ){
				//
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'GradientCtrl', function(){
		//
    });

})();

(function() {
	"use strict";

	angular.module('app.directives').directive('median', ["$timeout", function($timeout) {
		var defaults = function() {
			return {
				id: 'gradient',
				width: 340,
				height: 40,
				margin: {
					left: 20,
					right: 20,
					top: 10,
					bottom: 10
				},
				colors: [{
					position: 0,
					color: 'rgba(255,255,255,1)',
					opacity: 0
				}, {
					position: 53,
					color: 'rgba(128, 243, 198,1)',
					opacity: 1
				}, {
					position: 100,
					color: 'rgba(102,102,102,1)',
					opacity: 1
				}]
			};
		}
		return {
			restrict: 'E',
			scope: {
				data: '='
			},
			require: 'ngModel',
			link: function($scope, element, $attrs, ngModel) {
				var options = angular.extend(defaults(), $attrs);
				var x = d3.scale.linear()
					.domain([0, 100])
					.range([20, options.width - options.margin.left])
					.clamp(true);

				var brush = d3.svg.brush()
					.x(x)
					.extent([0, 0])
					.on("brush", brush)
					.on("brushend", brushed);

				var svg = d3.select(element[0]).append("svg")
					.attr("width", options.width)
					.attr("height", options.height + options.margin.top + options.margin.bottom)
					.append("g");
					//.attr("transform", "translate(0," + options.margin.top / 2 + ")");
				var gradient = svg.append('svg:defs')
					.append("svg:linearGradient")
					.attr('id', options.id)
					.attr('x1', '0%')
					.attr('y1', '0%')
					.attr('x2', '100%')
					.attr('y2', '0%')
					.attr('spreadMethod', 'pad')
				angular.forEach(options.colors, function(color) {
					gradient.append('svg:stop')
						.attr('offset', color.position + '%')
						.attr('stop-color', color.color)
						.attr('stop-opacity', color.opacity);
				});
				svg.append('svg:rect')
					.attr('width', options.width)
					.attr('height', options.height)
					.style('fill', 'url(#' + options.id + ')');
				var legend = svg.append('g').attr('transform', 'translate(' + options.height / 2 + ', ' + options.height / 2 + ')')
					.attr('class', 'startLabel')
				legend.append('circle')
					.attr('r', options.height / 2)

				legend.append('text')
					.text(0)
					.attr('text-anchor', 'middle')
					.attr('y', '.35em')

				var legend2 = svg.append('g').attr('transform', 'translate(' + (options.width - (options.height / 2)) + ', ' + options.height / 2 + ')')
					.attr('class', 'endLabel')
				legend2.append('circle')
					.attr('r', options.height / 2)

				legend2.append('text')
					.text(100)
					.attr('text-anchor', 'middle')
					.attr('y', '.35em')

				var slider = svg.append("g")
					.attr("class", "slider")
					.call(brush);

				slider.select(".background")
					.attr("height", options.height);
				slider.append('line')
					.attr('x1', options.width / 2)
					.attr('y1', 0)
					.attr('x2', options.width / 2)
					.attr('y2', options.height)
					.attr('stroke-dasharray', '3,3')
					.attr('stroke-width', 1)
					.attr('stroke', 'rgba(0,0,0,87)');
				var handleCont = slider.append('g')
					.attr("transform", "translate(0," + options.height / 2 + ")");
				var handle = handleCont.append("circle")
					.attr("class", "handle")
					.attr("r", options.height / 2);
				var handleLabel = handleCont.append('text')
					.text(0)
					.attr("text-anchor", "middle").attr('y', '0.3em');

				slider
					.call(brush.extent([0, 0]))
					.call(brush.event);

				function brush() {
					var value = brush.extent()[0];

					if (d3.event.sourceEvent) { // not a programmatic event
						value = x.invert(d3.mouse(this)[0]);
						brush.extent([value, value]);
					}
					handleLabel.text(parseInt(value));
					handleCont.attr("transform", 'translate(' + x(value) + ',' + options.height / 2 + ')');
				}

				function brushed() {
					var value = brush.extent()[0],
						count = 0,
						found = false;

					do {
						angular.forEach($scope.data, function(nat, key) {
							if (parseInt(nat.score) == parseInt(value)) {
								ngModel.$setViewValue(nat);
								ngModel.$render();
								found = true;
							}
						});
						count++;
						value = value > 50 ? value - 1 : value + 1;
					} while (!found && count < 100)
				}

				$scope.$watch(
					function() {
						return ngModel.$modelValue;
					},
					function(newValue, oldValue) {
						if (newValue === oldValue)
							return;
						handleLabel.text(parseInt(newValue.score));
						handleCont.transition().duration(500).ease('quad').attr("transform", 'translate(' + x(newValue.score) + ',' + options.height / 2 + ')');
					}, true);
			}
		};

	}]);

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'MedianCtrl', function(){
		//
    });

})();

(function(){
	"use strict";

	angular.module('app.directives').directive( 'subindex', function() {
		return {
			restrict: 'E',
			scope:{
				country:'=',
				selected: '='
			},
			templateUrl: 'views/directives/subindex/subindex.html',
			link: function( $scope, element, $attrs ){
				$scope.chart = {
					options: {
						chart: {
							type: 'lineChart',
							height: 200,
							legendPosition:'bottom',
							margin: {
								top: 20,
								right: 20,
								bottom: 20,
								left: 40
							},
							x: function (d) {
								return d.x;
							},
							y: function (d) {
								return d.y;
							},
							showValues: false,
							transitionDuration: 500,
							forceY:[100,0],
							xAxis: {
								axisLabel: ''
							},
							yAxis: {
								axisLabel: '',
								axisLabelDistance: 30
							}
						}
					},
					data: []
				};
				$scope.calculateGraph = function(){
					var chartData = [];
					angular.forEach($scope.selected.data.children, function(item,key){
						var graph = {
							key:item.title,
							color: item.color,
							values :[]
						};
						angular.forEach($scope.country.epi, function (data) {
							graph.values.push({
								x: data.year,
								y: data[item.column_name]
							});
						});
						chartData.push(graph);
					});
					$scope.chart.data = chartData;
				};
				$scope.calculateGraph();
				$scope.$watch('selected', function(newItem, oldItem){
					if(newItem === oldItem){
						return false;
					}
					console.log();
					$scope.calculateGraph();
				})
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'SubindexCtrl', function(){
		//
    });

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tYWluLmpzIiwiYXBwL3JvdXRlcy5qcyIsImFwcC9yb3V0ZXMucnVuLmpzIiwiY29uZmlnL2F1dGguanMiLCJjb25maWcvbG9hZGluZ19iYXIuanMiLCJjb25maWcvcmVzdGFuZ3VsYXIuanMiLCJjb25maWcvdGhlbWUuanMiLCJmaWx0ZXJzL2NhcGl0YWxpemUuanMiLCJmaWx0ZXJzL2h1bWFuX3JlYWRhYmxlLmpzIiwiZmlsdGVycy90cnVzdF9odG1sLmpzIiwiZmlsdGVycy91Y2ZpcnN0LmpzIiwic2VydmljZXMvTWFwLmpzIiwic2VydmljZXMvZGlhbG9nLmpzIiwic2VydmljZXMvdG9hc3QuanMiLCJhcHAvZGlhbG9ncy9kaWFsb2dzLmpzIiwiYXBwL2VsaXhpci9lbGl4aXIuanMiLCJhcHAvZXBpL2VwaS5qcyIsImFwcC9nZW5lcmF0b3JzL2dlbmVyYXRvcnMuanMiLCJhcHAvaGVhZGVyL2hlYWRlci5qcyIsImFwcC9pbXBvcnRjc3YvaW1wb3J0Y3N2LmpzIiwiYXBwL2p3dF9hdXRoL2p3dF9hdXRoLmpzIiwiYXBwL2xhbmRpbmcvbGFuZGluZy5qcyIsImFwcC9sb2dpbi9sb2dpbi5qcyIsImFwcC9tYXAvbWFwLmpzIiwiYXBwL21pc2MvbWlzYy5qcyIsImFwcC9yZXN0X2FwaS9yZXN0X2FwaS5qcyIsImFwcC9zaWRlYmFyL3NpZGViYXIuanMiLCJhcHAvdGFicy90YWJzLmpzIiwiYXBwL3RvYXN0cy90b2FzdHMuanMiLCJhcHAvdW5zdXBwb3J0ZWRfYnJvd3Nlci91bnN1cHBvcnRlZF9icm93c2VyLmpzIiwiZGlhbG9ncy9hZGRfdXNlcnMvYWRkX3VzZXJzLmpzIiwiZGlyZWN0aXZlcy9idWJibGVzL2J1YmJsZXMuanMiLCJkaXJlY3RpdmVzL2J1YmJsZXMvZGVmaW5pdGlvbi5qcyIsImRpcmVjdGl2ZXMvY2lyY2xlZ3JhcGgvY2lyY2xlZ3JhcGguanMiLCJkaXJlY3RpdmVzL2NpcmNsZWdyYXBoL2RlZmluaXRpb24uanMiLCJkaXJlY3RpdmVzL2RhdGFfbGlzdGluZy9kYXRhX2xpc3RpbmcuanMiLCJkaXJlY3RpdmVzL2RhdGFfbGlzdGluZy9kZWZpbml0aW9uLmpzIiwiZGlyZWN0aXZlcy9ncmFkaWVudC9kZWZpbml0aW9uLmpzIiwiZGlyZWN0aXZlcy9ncmFkaWVudC9ncmFkaWVudC5qcyIsImRpcmVjdGl2ZXMvbWVkaWFuL2RlZmluaXRpb24uanMiLCJkaXJlY3RpdmVzL21lZGlhbi9tZWRpYW4uanMiLCJkaXJlY3RpdmVzL3N1YmluZGV4L2RlZmluaXRpb24uanMiLCJkaXJlY3RpdmVzL3N1YmluZGV4L3N1YmluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsVUFBQTtDQUNBOztDQUVBLElBQUEsTUFBQSxRQUFBLE9BQUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7OztDQUlBLFFBQUEsT0FBQSxjQUFBLENBQUEsYUFBQSxhQUFBO0NBQ0EsUUFBQSxPQUFBLG1CQUFBLENBQUEsYUFBQSxjQUFBLGFBQUEsZUFBQSxhQUFBLHVCQUFBLGNBQUEsb0JBQUEsUUFBQTtDQUNBLFFBQUEsT0FBQSxlQUFBO0NBQ0EsUUFBQSxPQUFBLGdCQUFBLENBQUEsYUFBQSxhQUFBO0NBQ0EsUUFBQSxPQUFBLGtCQUFBO0NBQ0EsUUFBQSxPQUFBLGNBQUE7Ozs7QUNuQkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGNBQUEsZ0RBQUEsU0FBQSxnQkFBQSxtQkFBQTs7RUFFQSxJQUFBLFVBQUEsU0FBQSxTQUFBO0dBQ0EsT0FBQSxnQkFBQSxXQUFBLE1BQUEsV0FBQTs7O0VBR0EsbUJBQUEsVUFBQTs7RUFFQTtJQUNBLE1BQUEsT0FBQTtJQUNBLFVBQUE7SUFDQSxPQUFBOzs7O0tBSUEsUUFBQTtNQUNBLGFBQUEsUUFBQTs7S0FFQSxNQUFBOzs7SUFHQSxNQUFBLFdBQUE7SUFDQSxLQUFBO0lBQ0EsTUFBQSxDQUFBLFVBQUE7SUFDQSxPQUFBO0tBQ0EsU0FBQTtNQUNBLGFBQUEsUUFBQTs7S0FFQSxPQUFBO01BQ0EsYUFBQSxRQUFBOzs7O0lBSUEsTUFBQSxtQkFBQTtJQUNBLEtBQUE7O0lBRUEsTUFBQSxpQkFBQTtJQUNBLEtBQUE7SUFDQSxNQUFBLENBQUEsVUFBQTtJQUNBLE9BQUE7S0FDQSxTQUFBO01BQ0EsYUFBQSxRQUFBOztLQUVBLE1BQUE7Ozs7Ozs7OztBQzlDQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsY0FBQSxtQkFBQSxTQUFBLFdBQUE7RUFDQSxXQUFBLElBQUEscUJBQUEsU0FBQSxPQUFBLFFBQUE7O0dBRUEsSUFBQSxRQUFBLFFBQUEsUUFBQSxLQUFBLFNBQUE7SUFDQSxXQUFBLGVBQUEsUUFBQSxLQUFBOzs7OztFQUtBLFdBQUEsSUFBQSxzQkFBQSxTQUFBLE9BQUEsUUFBQTtHQUNBLE9BQUEsTUFBQTs7Ozs7O0FDYkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLGNBQUEseUJBQUEsVUFBQSxjQUFBOzs7UUFHQSxjQUFBLFdBQUE7Ozs7O0FDTkEsQ0FBQSxXQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGNBQUEsaUNBQUEsVUFBQSxzQkFBQTtFQUNBLHNCQUFBLGlCQUFBOzs7OztBQ0pBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxjQUFBLGdDQUFBLFNBQUEscUJBQUE7RUFDQTtHQUNBLFdBQUE7Ozs7O0FDTEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGNBQUEsOEJBQUEsU0FBQSxvQkFBQTs7RUFFQSxtQkFBQSxNQUFBO0dBQ0EsZUFBQTtHQUNBLGNBQUE7R0FDQSxZQUFBOzs7OztBQ1JBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxlQUFBLFFBQUEsY0FBQSxVQUFBO0VBQ0EsT0FBQSxTQUFBLE9BQUEsS0FBQTtHQUNBLE9BQUEsQ0FBQSxDQUFBLENBQUEsU0FBQSxNQUFBLFFBQUEsc0JBQUEsU0FBQSxJQUFBO0lBQ0EsT0FBQSxJQUFBLE9BQUEsR0FBQSxnQkFBQSxJQUFBLE9BQUEsR0FBQTtRQUNBOzs7OztBQ1BBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxlQUFBLFFBQUEsaUJBQUEsVUFBQTtFQUNBLE9BQUEsU0FBQSxTQUFBLEtBQUE7R0FDQSxLQUFBLENBQUEsS0FBQTtJQUNBLE9BQUE7O0dBRUEsSUFBQSxRQUFBLElBQUEsTUFBQTtHQUNBLEtBQUEsSUFBQSxFQUFBLEdBQUEsRUFBQSxNQUFBLFFBQUEsS0FBQTtJQUNBLE1BQUEsS0FBQSxNQUFBLEdBQUEsT0FBQSxHQUFBLGdCQUFBLE1BQUEsR0FBQSxNQUFBOztHQUVBLE9BQUEsTUFBQSxLQUFBOzs7O0FDWkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGVBQUEsUUFBQSxzQkFBQSxVQUFBLE1BQUE7RUFDQSxPQUFBLFVBQUEsTUFBQTtHQUNBLE9BQUEsS0FBQSxZQUFBOzs7O0FDTEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGVBQUEsT0FBQSxXQUFBLFdBQUE7RUFDQSxPQUFBLFVBQUEsUUFBQTtHQUNBLEtBQUEsQ0FBQSxPQUFBO0lBQ0EsT0FBQTs7R0FFQSxPQUFBLE1BQUEsVUFBQSxHQUFBLEdBQUEsZ0JBQUEsTUFBQSxVQUFBOzs7Ozs7QUNSQSxDQUFBLFVBQUE7SUFDQTs7SUFFQSxRQUFBLE9BQUEsZ0JBQUEsUUFBQSw4QkFBQSxTQUFBLFlBQUE7O1FBRUEsSUFBQSxVQUFBO1FBQ0EsT0FBQTtVQUNBLGdCQUFBLFNBQUEsS0FBQTtZQUNBLFVBQUE7O1VBRUEsZ0JBQUEsVUFBQTtZQUNBLE9BQUE7Ozs7Ozs7QUNYQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsZ0JBQUEsUUFBQSwrQkFBQSxTQUFBLFVBQUE7O0VBRUEsT0FBQTtHQUNBLGNBQUEsU0FBQSxVQUFBLE9BQUE7O0lBRUEsSUFBQSxVQUFBO0tBQ0EsYUFBQSxvQkFBQSxXQUFBLE1BQUEsV0FBQTs7O0lBR0EsSUFBQSxPQUFBO0tBQ0EsUUFBQSxRQUFBLE9BQUE7OztJQUdBLE9BQUEsVUFBQSxLQUFBOzs7R0FHQSxNQUFBLFVBQUE7SUFDQSxPQUFBLFVBQUE7OztHQUdBLE9BQUEsU0FBQSxPQUFBLFFBQUE7SUFDQSxVQUFBO0tBQ0EsVUFBQTtPQUNBLE1BQUE7T0FDQSxRQUFBO09BQ0EsR0FBQTs7Ozs7O0FDNUJBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxnQkFBQSxRQUFBLDZCQUFBLFNBQUEsU0FBQTs7RUFFQSxJQUFBLFFBQUE7R0FDQSxXQUFBO0dBQ0EsU0FBQTs7RUFFQSxPQUFBO0dBQ0EsTUFBQSxTQUFBLFFBQUE7SUFDQSxJQUFBLENBQUEsUUFBQTtLQUNBLE9BQUE7OztJQUdBLE9BQUEsU0FBQTtLQUNBLFNBQUE7T0FDQSxRQUFBO09BQ0EsU0FBQTtPQUNBLE9BQUE7T0FDQSxVQUFBOzs7R0FHQSxPQUFBLFNBQUEsUUFBQTtJQUNBLElBQUEsQ0FBQSxRQUFBO0tBQ0EsT0FBQTs7O0lBR0EsT0FBQSxTQUFBO0tBQ0EsU0FBQTtPQUNBLFFBQUE7T0FDQSxTQUFBO09BQ0EsTUFBQTtPQUNBLE9BQUE7T0FDQSxVQUFBOzs7Ozs7O0FDbENBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLDJDQUFBLFNBQUEsUUFBQSxjQUFBO0VBQ0EsT0FBQSxjQUFBLFVBQUE7R0FDQSxjQUFBLE1BQUEsMEJBQUE7OztFQUdBLE9BQUEsZUFBQSxVQUFBO0dBQ0EsY0FBQSxhQUFBLGFBQUE7Ozs7OztBQ1RBLENBQUEsVUFBQTtJQUNBOztJQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLGNBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxZQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsNEVBQUEsVUFBQSxPQUFBLFFBQUEsYUFBQSxhQUFBLFlBQUE7O0VBRUEsT0FBQSxZQUFBO0lBQ0EsS0FBQTtJQUNBLFdBQUE7SUFDQSxPQUFBO0lBQ0EsY0FBQTtJQUNBLFdBQUE7SUFDQSxrQkFBQTtJQUNBLG1CQUFBO0lBQ0EsYUFBQTtJQUNBLG9CQUFBO0lBQ0EscUJBQUE7SUFDQSxVQUFBLENBQUE7S0FDQSxhQUFBO0tBQ0EsT0FBQTtLQUNBLE1BQUEsQ0FBQSxHQUFBO0tBQ0EsUUFBQTtLQUNBLEtBQUE7S0FDQSxNQUFBO0tBQ0EsU0FBQSxDQUFBO01BQ0EsWUFBQTtNQUNBLE1BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtNQUNBLE9BQUE7TUFDQSxTQUFBLENBQUE7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTs7T0FFQTtNQUNBLFlBQUE7TUFDQSxNQUFBO01BQ0EsT0FBQTtNQUNBLE1BQUE7TUFDQSxTQUFBO01BQ0EsU0FBQSxDQUFBO09BQ0EsYUFBQTtPQUNBLE1BQUE7T0FDQSxLQUFBO09BQ0EsTUFBQTtPQUNBLFlBQUE7UUFDQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBO1FBQ0E7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTs7T0FFQTtNQUNBLFlBQUE7TUFDQSxNQUFBO01BQ0EsT0FBQTtNQUNBLE1BQUE7TUFDQSxTQUFBO01BQ0EsU0FBQSxDQUFBO01BQ0EsYUFBQTtNQUNBLE1BQUE7TUFDQSxLQUFBO01BQ0EsTUFBQTtNQUNBLFlBQUE7T0FDQTtNQUNBLGFBQUE7TUFDQSxNQUFBO01BQ0EsS0FBQTtNQUNBLE1BQUE7TUFDQSxZQUFBOzs7TUFHQTtLQUNBLGFBQUE7S0FDQSxPQUFBO0tBQ0EsTUFBQSxDQUFBLEdBQUE7S0FDQSxPQUFBO0tBQ0EsS0FBQTtLQUNBLE1BQUE7S0FDQSxTQUFBLENBQUE7TUFDQSxZQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtNQUNBLFNBQUEsQ0FBQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBOztPQUVBO01BQ0EsWUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7TUFDQSxTQUFBLENBQUE7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTtRQUNBO09BQ0EsYUFBQTtPQUNBLE1BQUE7T0FDQSxLQUFBO09BQ0EsTUFBQTtPQUNBLFlBQUE7O09BRUE7TUFDQSxZQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtNQUNBLFNBQUEsQ0FBQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBOztPQUVBO01BQ0EsWUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7TUFDQSxTQUFBLENBQUE7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTtRQUNBO09BQ0EsYUFBQTtPQUNBLE1BQUE7T0FDQSxLQUFBO09BQ0EsTUFBQTtPQUNBLFlBQUE7O09BRUE7TUFDQSxZQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtNQUNBLFNBQUEsQ0FBQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBO1FBQ0E7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTtRQUNBO09BQ0EsYUFBQTtPQUNBLE1BQUE7T0FDQSxLQUFBO09BQ0EsTUFBQTtPQUNBLFlBQUE7UUFDQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBOztPQUVBO01BQ0EsWUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7TUFDQSxTQUFBLENBQUE7T0FDQSxhQUFBO09BQ0EsTUFBQTtPQUNBLEtBQUE7T0FDQSxNQUFBO09BQ0EsWUFBQTtRQUNBO09BQ0EsYUFBQTtPQUNBLE1BQUE7T0FDQSxLQUFBO09BQ0EsTUFBQTtPQUNBLFlBQUE7UUFDQTtPQUNBLGFBQUE7T0FDQSxNQUFBO09BQ0EsS0FBQTtPQUNBLE1BQUE7T0FDQSxZQUFBOzs7OztFQUtBLE9BQUEsVUFBQTtFQUNBLE9BQUEsVUFBQTtHQUNBLGFBQUE7O0VBRUEsT0FBQSxZQUFBO0VBQ0EsT0FBQSxVQUFBO0VBQ0EsT0FBQSxZQUFBO0VBQ0EsT0FBQSxXQUFBLFNBQUEsSUFBQTtHQUNBLFFBQUEsUUFBQSxPQUFBLEtBQUEsU0FBQSxJQUFBO0lBQ0EsR0FBQSxJQUFBLE9BQUEsSUFBQTtLQUNBLE9BQUEsVUFBQTs7OztFQUlBLElBQUEsTUFBQSxZQUFBLElBQUE7RUFDQSxJQUFBLFVBQUEsS0FBQSxVQUFBLE1BQUE7R0FDQSxPQUFBLE1BQUE7R0FDQSxPQUFBO0dBQ0EsR0FBQSxPQUFBLFFBQUEsUUFBQSxtQkFBQTs7OztFQUlBLE9BQUEsYUFBQSxZQUFBO0dBQ0EsT0FBQSxZQUFBLENBQUEsT0FBQTtHQUNBLE9BQUEsWUFBQSxPQUFBLGFBQUEsT0FBQSxpQkFBQTs7RUFFQSxPQUFBLGFBQUEsVUFBQSxLQUFBO0dBQ0EsT0FBQSxVQUFBOztFQUVBLE9BQUEsVUFBQSxVQUFBLEtBQUE7R0FDQSxPQUFBLE9BQUEsSUFBQSxRQUFBLE9BQUE7O0VBRUEsT0FBQSxnQkFBQSxZQUFBO0dBQ0EsT0FBQSxPQUFBLFVBQUEsQ0FBQSxPQUFBOztFQUVBLE9BQUEsWUFBQSxZQUFBO0dBQ0EsSUFBQSxDQUFBLE9BQUEsU0FBQTtJQUNBLE9BQUE7O0dBRUEsT0FBQSxDQUFBLE9BQUEsUUFBQSxRQUFBLElBQUEsSUFBQSxPQUFBLFFBQUEsUUFBQSxPQUFBLFFBQUEsU0FBQSxJQUFBLE9BQUEsUUFBQSxPQUFBLE9BQUEsUUFBQSxPQUFBLEtBQUE7OztFQUdBLE9BQUEsY0FBQSxZQUFBO0dBQ0EsSUFBQSxDQUFBLE9BQUEsU0FBQTtJQUNBLE9BQUE7O0dBRUEsT0FBQSxPQUFBLFFBQUEsaUJBQUEsSUFBQSxrQkFBQTs7O0VBR0EsT0FBQSxPQUFBLFdBQUEsVUFBQSxTQUFBLFNBQUE7R0FDQSxJQUFBLFlBQUEsU0FBQTtJQUNBOztHQUVBLElBQUEsVUFBQSxZQUFBLElBQUEsV0FBQSxRQUFBLEtBQUE7O0dBRUEsUUFBQSxLQUFBLFVBQUEsTUFBQTtJQUNBLE9BQUEsVUFBQTtJQUNBLE9BQUEsR0FBQSxvQkFBQSxDQUFBLEtBQUEsUUFBQTs7O0VBR0EsSUFBQSxrQkFBQSxVQUFBLE1BQUE7R0FDQSxJQUFBLFNBQUE7R0FDQSxRQUFBLFFBQUEsT0FBQSxLQUFBLFVBQUEsS0FBQTtJQUNBLElBQUEsSUFBQSxXQUFBLE1BQUE7S0FDQSxTQUFBOzs7R0FHQSxPQUFBOztFQUVBLElBQUEsZUFBQSxVQUFBLFFBQUE7R0FDQSxPQUFBLFNBQUEsU0FBQSxjQUFBO0dBQ0EsT0FBQSxPQUFBLFFBQUE7R0FDQSxPQUFBLE9BQUEsU0FBQTtHQUNBLE9BQUEsTUFBQSxPQUFBLE9BQUEsV0FBQTtHQUNBLElBQUEsV0FBQSxPQUFBLElBQUEscUJBQUEsR0FBQSxHQUFBLEtBQUE7R0FDQSxTQUFBLGFBQUEsR0FBQTtHQUNBLFNBQUEsYUFBQSxNQUFBO0dBQ0EsU0FBQSxhQUFBLEdBQUE7R0FDQSxPQUFBLElBQUEsWUFBQTtHQUNBLE9BQUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxLQUFBO0dBQ0EsT0FBQSxVQUFBLE9BQUEsSUFBQSxhQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUE7OztFQUdBOzs7RUFHQSxPQUFBLGdCQUFBLFlBQUE7R0FDQSxZQUFBLE9BQUEsT0FBQSxLQUFBLFVBQUEsS0FBQTs7SUFFQSxJQUFBLFFBQUE7SUFDQSxJQUFBLFNBQUE7SUFDQSxJQUFBLE1BQUE7SUFDQSxJQUFBLE9BQUEsb0dBQUE7SUFDQSxJQUFBLFlBQUEsSUFBQSxFQUFBLFVBQUEsVUFBQTtLQUNBLEtBQUE7S0FDQSxPQUFBO0tBQ0EsaUJBQUEsQ0FBQTtLQUNBLGFBQUE7S0FDQSxTQUFBLFVBQUEsS0FBQSxHQUFBOzs7Ozs7Ozs7OztNQVdBLElBQUEsT0FBQSxRQUFBLFdBQUEsSUFBQSxRQUFBLFdBQUEsT0FBQTtPQUNBLElBQUEsTUFBQSxJQUFBO09BQ0EsSUFBQSxNQUFBLElBQUEsRUFBQSxNQUFBLENBQUEsSUFBQTs7Ozs7O01BTUEsT0FBQSxVQUFBLGdCQUFBLElBQUEsUUFBQSxXQUFBOztLQUVBLHNCQUFBLFVBQUEsU0FBQTs7TUFFQSxPQUFBLFFBQUEsV0FBQTs7S0FFQSxRQUFBLFVBQUEsU0FBQSxTQUFBOztNQUVBLElBQUEsUUFBQSxNQUFBLFNBQUEsV0FBQSxRQUFBLE1BQUEsU0FBQSx3QkFBQTs7T0FFQSxJQUFBLFFBQUEsV0FBQSxlQUFBLEtBQUEsUUFBQSxXQUFBLGVBQUEsS0FBQSxRQUFBLFdBQUEsZUFBQSxHQUFBO1FBQ0EsT0FBQTtjQUNBO1FBQ0EsT0FBQTs7OztNQUlBLE9BQUE7OztLQUdBLE9BQUEsVUFBQSxTQUFBO01BQ0EsSUFBQSxRQUFBO01BQ0EsSUFBQSxTQUFBLGdCQUFBLFFBQUEsV0FBQTtNQUNBLElBQUEsT0FBQSxRQUFBO01BQ0EsUUFBQTtNQUNBLEtBQUE7T0FDQSxNQUFBLFFBQUE7T0FDQSxNQUFBLFNBQUE7T0FDQSxNQUFBLFdBQUE7UUFDQSxPQUFBO1FBQ0EsUUFBQTs7T0FFQTtNQUNBLEtBQUE7T0FDQSxNQUFBLFFBQUE7T0FDQSxNQUFBLE9BQUE7T0FDQSxNQUFBLFdBQUE7UUFDQSxPQUFBO1FBQ0EsTUFBQTs7T0FFQTtNQUNBLEtBQUE7T0FDQSxJQUFBLE9BQUEsT0FBQTtRQUNBLElBQUEsV0FBQSxTQUFBLE1BQUEsTUFBQSxPQUFBLFNBQUE7UUFDQSxJQUFBLFFBQUEsVUFBQSxPQUFBLFFBQUEsWUFBQSxPQUFBLE9BQUEsUUFBQSxXQUFBLEtBQUEsT0FBQSxPQUFBLFFBQUEsV0FBQSxLQUFBLE1BQUEsT0FBQSxRQUFBLFdBQUEsS0FBQTtRQUNBLE1BQUEsUUFBQTtRQUNBLE1BQUEsVUFBQTtTQUNBLE9BQUE7U0FDQSxNQUFBOztRQUVBLE1BQUEsV0FBQTtTQUNBLE9BQUE7U0FDQSxTQUFBO1VBQ0EsT0FBQTtVQUNBLE1BQUE7OztRQUdBO2NBQ0E7UUFDQSxNQUFBLFFBQUE7UUFDQSxNQUFBLFVBQUE7U0FDQSxPQUFBO1NBQ0EsTUFBQTs7Ozs7O01BTUEsTUFBQSxhQUFBLFVBQUEsWUFBQTtPQUNBLElBQUEsS0FBQSxXQUFBOzs7OztNQUtBLE1BQUEsY0FBQSxVQUFBLFlBQUEsVUFBQTtPQUNBLElBQUEsUUFBQTtRQUNBLE1BQUEsU0FBQTtRQUNBLFVBQUEsQ0FBQSxJQUFBO1FBQ0EsVUFBQTtRQUNBLGtCQUFBOztPQUVBLE9BQUE7Ozs7TUFJQSxPQUFBOzs7O0tBSUEsV0FBQSxVQUFBLFdBQUE7TUFDQSxJQUFBLFVBQUEsUUFBQSxZQUFBLENBQUEsR0FBQTtPQUNBLE9BQUEsVUFBQSxRQUFBLFVBQUE7O01BRUEsT0FBQSxZQUFBOzs7O0lBSUEsTUFBQSxZQUFBO0lBQ0EsSUFBQSxTQUFBOzs7Ozs7QUMxYUEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsa0JBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsdUNBQUEsU0FBQSxRQUFBLFdBQUE7O0VBRUEsT0FBQSxPQUFBLFVBQUE7R0FDQSxPQUFBLFdBQUE7S0FDQSxTQUFBLFFBQUE7R0FDQSxPQUFBLGVBQUEsV0FBQTs7Ozs7Ozs7QUNSQSxDQUFBLFlBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSwrQkFBQSxVQUFBLFdBQUE7RUFDQSxLQUFBLFdBQUE7R0FDQSxhQUFBO0dBQ0EsV0FBQTtHQUNBLHlCQUFBO0dBQ0Esa0JBQUE7OztFQUdBLEtBQUEsZUFBQSxVQUFBLE1BQUEsSUFBQTtHQUNBLFVBQUEsS0FBQSxVQUFBO0tBQ0EsTUFBQTtLQUNBLFFBQUEsd0JBQUEsT0FBQTtLQUNBLEdBQUE7S0FDQSxZQUFBOzs7O0lBSUEsS0FBQSxnQkFBQSxXQUFBO0dBQ0EsVUFBQSxLQUFBOztLQUVBLGFBQUE7U0FDQSxrQkFBQTs7S0FFQSxLQUFBLFVBQUEsUUFBQTs7T0FFQSxZQUFBOzs7Ozs7Ozs7QUM1QkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsa0RBQUEsU0FBQSxRQUFBLE9BQUEsWUFBQTs7RUFFQSxJQUFBLGNBQUE7O0VBRUEsT0FBQSxlQUFBLFVBQUE7O0dBRUEsTUFBQSxNQUFBLGFBQUEsS0FBQSxVQUFBLEtBQUE7Ozs7Ozs7O0VBUUEsT0FBQSxVQUFBLFVBQUE7R0FDQSxZQUFBLElBQUEscUJBQUEsTUFBQSxLQUFBLFVBQUEsU0FBQTs7TUFFQSxVQUFBLE1BQUE7Ozs7Ozs7OztBQ3BCQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxpR0FBQSxTQUFBLFFBQUEsVUFBQSxXQUFBLFdBQUEsY0FBQSxjQUFBOztFQUVBLE9BQUEsYUFBQTtFQUNBLE9BQUEsT0FBQTs7RUFFQSxJQUFBLFFBQUE7SUFDQSxVQUFBLFlBQUEsV0FBQSxTQUFBLFlBQUEsWUFBQSxXQUFBLGlCQUFBLFNBQUE7SUFDQSxhQUFBLG9CQUFBLGFBQUEsT0FBQSxvQkFBQSxXQUFBLG9CQUFBLFdBQUE7SUFDQSxzQkFBQSxTQUFBLHFCQUFBLGtCQUFBLGlCQUFBLGNBQUEsY0FBQTtJQUNBLFlBQUEsa0JBQUEsYUFBQSxlQUFBLGNBQUEsV0FBQSxPQUFBLHVCQUFBO0lBQ0EsYUFBQSxRQUFBLFFBQUEsYUFBQSxXQUFBLFVBQUEsU0FBQSxlQUFBLFdBQUEsZUFBQTtJQUNBLFFBQUEseUJBQUEsUUFBQSxlQUFBLGVBQUEsbUJBQUEsYUFBQTtJQUNBLGFBQUEsaUJBQUEsZUFBQSxXQUFBLGtCQUFBLGVBQUE7SUFDQSx3QkFBQSxnQkFBQSx5QkFBQSxhQUFBLGVBQUEsaUJBQUE7SUFDQSxRQUFBLFdBQUEsc0JBQUEsU0FBQSxXQUFBLFNBQUEsY0FBQSxRQUFBLFNBQUEsU0FBQTtJQUNBLFVBQUEsa0JBQUEsY0FBQSxnQkFBQSxhQUFBLFNBQUEsbUJBQUEsU0FBQTtJQUNBLG1CQUFBLGNBQUEsZUFBQSxpQkFBQSxlQUFBLGNBQUEsWUFBQSxjQUFBO0lBQ0EsU0FBQSxjQUFBLGFBQUEsV0FBQSxnQkFBQSxhQUFBLFFBQUEsU0FBQSxRQUFBO0lBQ0Esc0JBQUEsWUFBQSxVQUFBLFNBQUE7O0dBRUEsVUFBQTs7RUFFQSxVQUFBLFVBQUE7R0FDQSxPQUFBLE9BQUEsTUFBQSxFQUFBO0dBQ0EsSUFBQSxVQUFBLElBQUE7SUFDQSxVQUFBOztLQUVBOzs7Ozs7QUM5QkEsQ0FBQSxXQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsYUFBQSxXQUFBOzs7Ozs7QUNIQSxDQUFBLFlBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxzRkFBQSxVQUFBLFFBQUEsWUFBQSxVQUFBLFlBQUEsYUFBQSxPQUFBOztFQUVBLElBQUEsU0FBQTs7Ozs7Ozs7Ozs7OztFQWFBLFFBQUEsT0FBQSxZQUFBO0dBQ0EsUUFBQTtJQUNBLEtBQUE7SUFDQSxLQUFBO0lBQ0EsTUFBQTs7R0FFQSxRQUFBO0lBQ0EsWUFBQTtLQUNBLEtBQUE7TUFDQSxNQUFBO01BQ0EsS0FBQSxnRkFBQTtNQUNBLE1BQUE7OztJQUdBLFVBQUE7S0FDQSxjQUFBO01BQ0EsTUFBQTtNQUNBLE1BQUE7TUFDQSxLQUFBO01BQ0EsU0FBQTs7Ozs7RUFLQSxPQUFBLFdBQUEsVUFBQSxJQUFBO0dBQ0EsSUFBQSxNQUFBLCtCQUFBO0dBQ0EsTUFBQSxJQUFBLEtBQUEsUUFBQSxVQUFBLEtBQUE7SUFDQSxPQUFBLFNBQUE7S0FDQSxLQUFBLElBQUE7S0FDQSxLQUFBLElBQUE7S0FDQSxNQUFBOztJQUVBLE9BQUEsS0FBQSxJQUFBOzs7O0VBSUEsT0FBQSxTQUFBO0VBQ0EsT0FBQSxnQkFBQTtFQUNBLE9BQUEsT0FBQTtFQUNBLE9BQUEsSUFBQSx3Q0FBQSxVQUFBLE9BQUEsY0FBQTs7R0FFQSxPQUFBLGdCQUFBLGFBQUEsS0FBQTtHQUNBLE9BQUEsT0FBQSwyQkFBQSxhQUFBLEtBQUE7OztFQUdBLE9BQUEsSUFBQSx1Q0FBQSxVQUFBLE9BQUEsY0FBQTtHQUNBLE9BQUEsZ0JBQUE7R0FDQSxPQUFBLE9BQUE7O0VBRUEsV0FBQSxlQUFBLFlBQUEsT0FBQTs7Ozs7QUNuRUEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsWUFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7SUFDQTs7SUFFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxlQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLG9DQUFBLFNBQUEsUUFBQSxPQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxpQkFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSx5Q0FBQSxTQUFBLFFBQUEsYUFBQTs7RUFFQSxPQUFBLGVBQUEsVUFBQTtHQUNBLGFBQUEsS0FBQTs7O0VBR0EsT0FBQSxhQUFBLFVBQUE7R0FDQSxhQUFBLE1BQUE7Ozs7Ozs7QUNWQSxDQUFBLFVBQUE7SUFDQTs7SUFFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSwwQkFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7SUFDQTs7SUFFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSw0Q0FBQSxTQUFBLFFBQUEsY0FBQTs7UUFFQSxPQUFBLE9BQUEsVUFBQTs7WUFFQSxjQUFBOzs7UUFHQSxPQUFBLE9BQUEsVUFBQTtTQUNBLGNBQUE7Ozs7Ozs7QUNYQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLFFBQUEsb0JBQUEsWUFBQSxlQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsWUFBQTtDQUNBOztDQUVBLFNBQUEsY0FBQSxXQUFBLE9BQUE7RUFDQSxJQUFBLFlBQUE7RUFDQSxRQUFBLFFBQUEsVUFBQSxLQUFBLFFBQUEsT0FBQSwrQ0FBQSxZQUFBO0VBQ0E7O0VBRUEsU0FBQSxZQUFBLFNBQUEsTUFBQSxPQUFBO0dBQ0EsUUFBQSxRQUFBLFNBQUEsY0FBQSxNQUFBLFlBQUEsS0FBQTtHQUNBLFFBQUEsUUFBQSxTQUFBLGNBQUEsTUFBQSxZQUFBLElBQUEsV0FBQTs7R0FFQSxPQUFBLGVBQUEsT0FBQTs7O0VBR0EsU0FBQSxjQUFBO0dBQ0EsUUFBQSxRQUFBLFNBQUEsY0FBQSxNQUFBLFlBQUEsSUFBQSxXQUFBOzs7RUFHQSxTQUFBLGVBQUEsT0FBQSxHQUFBO0dBQ0EsSUFBQSxPQUFBLE1BQUE7R0FDQSxJQUFBLFVBQUE7R0FDQSxJQUFBLFVBQUE7R0FDQSxJQUFBLE1BQUEsU0FBQSxjQUFBO0dBQ0EsSUFBQSxRQUFBLE9BQUE7R0FDQSxJQUFBLE1BQUEsUUFBQSxRQUFBLFNBQUEsY0FBQSxPQUFBO0dBQ0EsSUFBQSxNQUFBLFNBQUEsY0FBQSxNQUFBO0dBQ0EsSUFBQSxRQUFBLElBQUEsd0JBQUEsTUFBQSxFQUFBLElBQUEsTUFBQTtHQUNBLElBQUEsU0FBQSxJQUFBLHdCQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsU0FBQTtHQUNBLE9BQUEsUUFBQSxRQUFBLFNBQUEsY0FBQSxPQUFBLElBQUEsT0FBQSxRQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUE7OztFQUdBLE9BQUE7R0FDQSxhQUFBO0dBQ0EsYUFBQTtHQUNBLGdCQUFBOzs7Q0FHQSxRQUFBLE9BQUEsa0JBQUEsVUFBQSx3QkFBQSxVQUFBLFVBQUE7RUFDQSxJQUFBO0VBQ0EsV0FBQSxZQUFBO0dBQ0EsT0FBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsZ0JBQUE7SUFDQSxLQUFBO0lBQ0EsT0FBQTtJQUNBLFFBQUE7SUFDQSxTQUFBO0lBQ0EsWUFBQSxHQUFBLE1BQUEsVUFBQSxPQUFBLENBQUEsTUFBQSxPQUFBLE1BQUEsQ0FBQSxXQUFBO0lBQ0EsWUFBQTtJQUNBLGNBQUE7SUFDQSxVQUFBO0lBQ0EsU0FBQSxjQUFBLG1CQUFBOzs7RUFHQSxPQUFBO0dBQ0EsVUFBQTtHQUNBLE9BQUE7SUFDQSxXQUFBO0lBQ0EsV0FBQTtJQUNBLFNBQUE7SUFDQSxZQUFBO0lBQ0EsUUFBQTs7R0FFQSxTQUFBO0dBQ0EsTUFBQSxVQUFBLE9BQUEsTUFBQSxPQUFBLFNBQUE7SUFDQSxJQUFBLFVBQUEsUUFBQSxPQUFBLFlBQUE7SUFDQSxJQUFBLFFBQUE7S0FDQSxRQUFBOztJQUVBLElBQUEsYUFBQSxHQUFBLElBQUEsTUFBQSxXQUFBLFVBQUEsR0FBQTtLQUNBLE9BQUEsU0FBQSxFQUFBOzs7SUFHQSxRQUFBLGVBQUEsR0FBQSxNQUFBLE1BQUEsU0FBQSxLQUFBLE9BQUEsQ0FBQSxHQUFBLGFBQUEsTUFBQSxDQUFBLEdBQUE7SUFDQSxRQUFBLFNBQUE7S0FDQSxHQUFBLFFBQUEsUUFBQTtLQUNBLEdBQUEsUUFBQSxTQUFBOztJQUVBLFFBQUEsY0FBQTtLQUNBLE1BQUE7TUFDQSxHQUFBLFFBQUEsUUFBQTtNQUNBLEdBQUEsUUFBQSxTQUFBLE1BQUE7TUFDQSxRQUFBOztLQUVBLE1BQUE7TUFDQSxHQUFBLFFBQUEsUUFBQTtNQUNBLEdBQUEsUUFBQSxTQUFBLE1BQUE7TUFDQSxRQUFBOzs7SUFHQSxJQUFBLGVBQUEsWUFBQTtLQUNBLFFBQUEsUUFBQSxNQUFBLFFBQUEsV0FBQSxTQUFBLE1BQUE7TUFDQSxRQUFBLFFBQUEsTUFBQSxVQUFBLFNBQUEsS0FBQTtPQUNBLE1BQUEsS0FBQTtRQUNBLE1BQUEsS0FBQTtRQUNBLFFBQUEsTUFBQSxVQUFBLEtBQUEsZUFBQSxNQUFBO1FBQ0EsT0FBQSxNQUFBLFVBQUEsS0FBQSxlQUFBLE1BQUE7UUFDQSxLQUFBLEtBQUE7UUFDQSxPQUFBLE1BQUE7UUFDQSxHQUFBLFFBQUEsT0FBQTtRQUNBLEdBQUEsUUFBQSxPQUFBO1FBQ0EsTUFBQSxLQUFBO1FBQ0EsS0FBQSxLQUFBO1FBQ0EsU0FBQSxLQUFBO1FBQ0EsTUFBQTs7Ozs7SUFLQSxJQUFBLGFBQUEsWUFBQTtLQUNBLFFBQUEsUUFBQSxNQUFBLEtBQUE7S0FDQSxRQUFBLE1BQUEsR0FBQSxPQUFBLEtBQUEsSUFBQSxPQUFBLE9BQUEsS0FBQSxTQUFBLFFBQUEsT0FBQSxLQUFBLFVBQUEsUUFBQSxRQUFBLEtBQUEsTUFBQTtLQUNBLElBQUEsS0FBQSxLQUFBO0tBQ0EsSUFBQSxTQUFBLEdBQUEsSUFBQTtPQUNBLFlBQUE7T0FDQSxZQUFBO09BQ0EsV0FBQSxDQUFBLE1BQUEsS0FBQTtPQUNBLFNBQUEsTUFBQSxLQUFBO0tBQ0EsSUFBQSxZQUFBLEdBQUEsSUFBQTtPQUNBLFlBQUE7T0FDQSxZQUFBO09BQ0EsV0FBQSxNQUFBLEtBQUE7T0FDQSxTQUFBLE9BQUEsS0FBQTs7S0FFQSxRQUFBLFNBQUEsUUFBQSxJQUFBLE9BQUE7T0FDQSxLQUFBLEtBQUE7T0FDQSxLQUFBLFFBQUE7T0FDQSxLQUFBLGFBQUE7S0FDQSxRQUFBLFlBQUEsUUFBQSxJQUFBLE9BQUE7T0FDQSxLQUFBLEtBQUE7T0FDQSxLQUFBLFFBQUE7T0FDQSxLQUFBLGFBQUE7S0FDQSxRQUFBLGFBQUEsUUFBQSxJQUFBLFVBQUEsVUFBQSxLQUFBLE9BQUEsUUFBQSxPQUFBLEtBQUEsS0FBQSxhQUFBLGdCQUFBLFFBQUEsUUFBQSxLQUFBLE9BQUEsUUFBQSxTQUFBLEtBQUEsS0FBQSxLQUFBLFNBQUE7Ozs7OztLQU1BLFFBQUEsVUFBQSxRQUFBLFdBQUEsT0FBQSxVQUFBLEtBQUEsS0FBQSxHQUFBLEtBQUEsU0FBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUEsU0FBQSxRQUFBLFdBQUEsRUFBQTtTQUNBLEtBQUEsZ0JBQUEsR0FBQSxLQUFBLFVBQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxHQUFBLElBQUEsUUFBQSxXQUFBLEVBQUEsUUFBQTtRQUNBLEtBQUEsTUFBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLFlBQUEsRUFBQTs7S0FFQSxRQUFBLFFBQUEsUUFBQSxXQUFBLE9BQUE7T0FDQSxLQUFBLGVBQUE7T0FDQSxLQUFBLGFBQUEsVUFBQSxHQUFBO09BQ0E7O09BRUEsS0FBQSxlQUFBO09BQ0EsS0FBQSxRQUFBO09BQ0EsS0FBQSxVQUFBLEdBQUE7T0FDQSxPQUFBLEVBQUE7O0tBRUEsUUFBQSxNQUFBLEdBQUEsYUFBQSxVQUFBLEdBQUEsR0FBQTtNQUNBLE9BQUEsYUFBQSxHQUFBLEdBQUE7UUFDQSxHQUFBLFlBQUEsVUFBQSxHQUFBLEdBQUE7TUFDQSxPQUFBLGFBQUEsR0FBQSxHQUFBO1FBQ0EsR0FBQSxTQUFBLFNBQUEsR0FBQSxFQUFBO01BQ0EsUUFBQSxjQUFBO01BQ0EsUUFBQTs7OztLQUlBLFFBQUEsUUFBQSxhQUFBLFNBQUEsUUFBQSxVQUFBLEtBQUEsS0FBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUE7O0tBRUEsUUFBQSxNQUFBLGFBQUEsU0FBQSxRQUFBLFVBQUEsS0FBQSxhQUFBLFVBQUEsR0FBQTtNQUNBLE9BQUEsRUFBQSxTQUFBLE9BQUE7UUFDQSxLQUFBLEtBQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxFQUFBLFNBQUEsTUFBQTs7O0lBR0EsSUFBQSxhQUFBLFlBQUE7O0tBRUEsTUFBQSxRQUFBLFVBQUEsR0FBQSxHQUFBO01BQ0EsUUFBQSxRQUFBLGFBQUEsU0FBQSxRQUFBLFVBQUEsTUFBQSxJQUFBLFFBQUE7UUFDQSxLQUFBLEtBQUEsVUFBQSxHQUFBO1FBQ0EsRUFBQSxTQUFBLEVBQUEsUUFBQSxNQUFBLFVBQUEsRUFBQSxRQUFBLE1BQUE7O1FBRUEsT0FBQSxNQUFBLFVBQUEsRUFBQSxRQUFBLE1BQUE7O01BRUEsUUFBQSxNQUFBLGFBQUEsU0FBQSxRQUFBLFVBQUEsTUFBQSxJQUFBLFFBQUE7UUFDQSxLQUFBLGFBQUEsVUFBQSxHQUFBO1FBQ0EsT0FBQSxDQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsTUFBQSxjQUFBLE9BQUE7O1FBRUEsS0FBQSxLQUFBLFVBQUEsR0FBQTtRQUNBLE9BQUEsQ0FBQSxNQUFBLFVBQUEsRUFBQSxRQUFBLE1BQUEsY0FBQSxNQUFBOzs7O0lBSUEsSUFBQSxTQUFBLFVBQUEsR0FBQTtLQUNBLE9BQUEsQ0FBQSxLQUFBLElBQUEsRUFBQSxRQUFBLE9BQUE7O0lBRUEsSUFBQSxRQUFBLFlBQUE7S0FDQSxPQUFBLFFBQUEsUUFBQSxHQUFBLE9BQUEsUUFBQSxNQUFBLE9BQUEsS0FBQSxDQUFBLFFBQUEsT0FBQSxRQUFBLFNBQUEsTUFBQTs7SUFFQSxJQUFBLG9CQUFBLFlBQUE7S0FDQSxRQUFBLE1BQUEsUUFBQSxRQUFBLGdCQUFBLE9BQUEsUUFBQSxTQUFBLEtBQUEsR0FBQSxRQUFBLFVBQUEsR0FBQTtNQUNBLE9BQUEsUUFBQSxRQUFBLEtBQUEsb0JBQUEsRUFBQSxRQUFBLEtBQUEsTUFBQSxVQUFBLEdBQUE7T0FDQSxPQUFBLEVBQUE7U0FDQSxLQUFBLE1BQUEsVUFBQSxHQUFBO09BQ0EsT0FBQSxFQUFBOzs7S0FHQSxRQUFBLE1BQUE7O0lBRUEsSUFBQSxpQkFBQSxZQUFBO0tBQ0EsUUFBQSxNQUFBLFFBQUEsUUFBQSxnQkFBQSxPQUFBLFFBQUEsU0FBQSxLQUFBLEdBQUEsUUFBQSxVQUFBLEdBQUE7TUFDQSxRQUFBLFdBQUEsS0FBQSxpQkFBQSxFQUFBLFFBQUEsS0FBQSxhQUFBLFVBQUEsR0FBQTtPQUNBLE9BQUEsZUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLElBQUE7OztLQUdBLFFBQUEsTUFBQTs7SUFFQSxJQUFBLHNCQUFBLFVBQUEsT0FBQTtLQUNBLE9BQUEsQ0FBQSxVQUFBLE9BQUE7TUFDQSxPQUFBLFVBQUEsR0FBQTtPQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQSxRQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsUUFBQSxTQUFBLFFBQUE7T0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsUUFBQSxPQUFBLElBQUEsRUFBQSxNQUFBLFFBQUEsU0FBQSxRQUFBOztRQUVBOztJQUVBLElBQUEsbUJBQUEsVUFBQSxPQUFBO0tBQ0EsT0FBQSxDQUFBLFVBQUEsT0FBQTtNQUNBLE9BQUEsVUFBQSxHQUFBO09BQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxDQUFBLFFBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxRQUFBO09BQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxDQUFBLE1BQUEsRUFBQSxNQUFBLFFBQUEsU0FBQSxRQUFBLFFBQUE7O1FBRUE7O0lBRUEsSUFBQSxtQkFBQSxVQUFBLE9BQUE7S0FDQSxPQUFBLENBQUEsVUFBQSxPQUFBO01BQ0EsT0FBQSxVQUFBLEdBQUE7T0FDQSxJQUFBO09BQ0EsU0FBQSxRQUFBLFlBQUEsRUFBQTtPQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQSxPQUFBLElBQUEsRUFBQSxNQUFBLE9BQUEsU0FBQSxRQUFBLFFBQUE7T0FDQSxPQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQSxPQUFBLElBQUEsRUFBQSxNQUFBLE9BQUEsU0FBQSxRQUFBLFFBQUE7O1FBRUE7O0lBRUEsSUFBQSxlQUFBLFVBQUEsTUFBQSxHQUFBLFNBQUE7S0FDQSxJQUFBO0tBQ0EsVUFBQSwyQkFBQSxLQUFBLE9BQUE7S0FDQSxRQUFBLFFBQUEsS0FBQSxLQUFBLFVBQUEsU0FBQSxLQUFBO01BQ0EsV0FBQSx1Q0FBQSxLQUFBLFNBQUEsS0FBQSxPQUFBLFVBQUEsS0FBQSxTQUFBOztLQUVBLFNBQUEsUUFBQSxRQUFBLFlBQUEsU0FBQSxNQUFBLEdBQUEsT0FBQSxZQUFBOzs7SUFHQSxJQUFBLGVBQUEsVUFBQSxNQUFBLEdBQUEsU0FBQTtLQUNBLE9BQUEsUUFBQSxRQUFBOzs7SUFHQSxNQUFBLE9BQUEsYUFBQSxVQUFBLE1BQUEsU0FBQTtLQUNBLFFBQUEsUUFBQTtLQUNBLElBQUEsUUFBQSxXQUFBLE1BQUE7TUFDQTtNQUNBO01BQ0E7WUFDQTtNQUNBOztLQUVBOzs7SUFHQSxNQUFBLE9BQUEsYUFBQSxVQUFBLE1BQUEsTUFBQTtLQUNBLElBQUEsU0FBQSxNQUFBO01BQ0E7O0tBRUEsSUFBQSxRQUFBLE9BQUE7TUFDQTtZQUNBO01BQ0E7Ozs7Ozs7O0FDcFJBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsUUFBQSxvQkFBQSxZQUFBLG1CQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsV0FBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxrQkFBQSxVQUFBLGVBQUEsV0FBQTtFQUNBLElBQUEsV0FBQSxXQUFBO0dBQ0EsT0FBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsT0FBQTtJQUNBLE1BQUE7OztFQUdBLE9BQUE7R0FDQSxVQUFBO0dBQ0EsWUFBQTtHQUNBLE9BQUE7R0FDQSxTQUFBO0dBQ0EsTUFBQSxTQUFBLFFBQUEsU0FBQSxRQUFBLFNBQUE7O0lBRUEsSUFBQSxVQUFBLFFBQUEsT0FBQSxZQUFBOzs7SUFHQSxJQUFBLFNBQUEsR0FBQSxNQUFBO01BQ0EsT0FBQSxDQUFBLEdBQUEsUUFBQTtNQUNBLE1BQUEsQ0FBQSxHQUFBO01BQ0EsTUFBQTs7O0lBR0EsSUFBQSxNQUFBLEdBQUEsT0FBQSxRQUFBLElBQUEsT0FBQTtNQUNBLEtBQUEsU0FBQSxRQUFBO01BQ0EsS0FBQSxVQUFBLFFBQUE7TUFDQSxPQUFBO0lBQ0EsSUFBQSxZQUFBLElBQUEsT0FBQTtNQUNBLEtBQUEsYUFBQSxlQUFBLFFBQUEsUUFBQSxJQUFBLE1BQUEsUUFBQSxTQUFBLElBQUE7SUFDQSxJQUFBLGFBQUEsVUFBQSxPQUFBO01BQ0EsS0FBQSxLQUFBLFFBQUEsUUFBQSxJQUFBO01BQ0EsS0FBQSxnQkFBQTtNQUNBLEtBQUEsVUFBQSxRQUFBO01BQ0EsTUFBQSxXQUFBO01BQ0EsS0FBQSxRQUFBO0lBQ0EsSUFBQSxNQUFBLEdBQUEsSUFBQTtNQUNBLFdBQUE7TUFDQSxZQUFBLFNBQUEsR0FBQTtNQUNBLE9BQUEsUUFBQSxRQUFBLElBQUE7O01BRUEsWUFBQSxTQUFBLEdBQUE7TUFDQSxPQUFBLFFBQUEsUUFBQTs7SUFFQSxJQUFBLGNBQUEsVUFBQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFVBQUEsSUFBQSxLQUFBLEtBQUE7O01BRUEsTUFBQSxRQUFBLFFBQUE7TUFDQSxLQUFBLEtBQUE7SUFDQSxJQUFBLE9BQUEsVUFBQSxVQUFBO01BQ0EsS0FBQSxDQUFBO01BQ0E7TUFDQSxPQUFBO01BQ0EsS0FBQSxTQUFBLEdBQUE7TUFDQSxPQUFBLElBQUEsTUFBQSxRQUFBOztNQUVBLEtBQUEsZUFBQTtNQUNBLEtBQUEsS0FBQTs7O0lBR0EsU0FBQSxVQUFBLFFBQUE7S0FDQSxZQUFBO09BQ0EsU0FBQTtPQUNBLEtBQUEsVUFBQSxPQUFBLFVBQUEsSUFBQSxLQUFBO0tBQ0EsS0FBQSxhQUFBLFNBQUEsS0FBQSxNQUFBLFFBQUEsU0FBQSxHQUFBO01BQ0EsSUFBQSxPQUFBLEtBQUEsWUFBQSxNQUFBO01BQ0EsSUFBQSxJQUFBLEdBQUEsWUFBQSxLQUFBLElBQUE7TUFDQSxPQUFBLFNBQUEsR0FBQTtPQUNBLEtBQUEsY0FBQSxDQUFBLEtBQUEsTUFBQSxFQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsUUFBQTs7Ozs7O0lBTUEsU0FBQSxTQUFBLFlBQUEsVUFBQTtLQUNBLFdBQUEsVUFBQSxLQUFBLFNBQUEsR0FBQTtNQUNBLElBQUEsY0FBQSxHQUFBLFlBQUEsRUFBQSxVQUFBO01BQ0EsT0FBQSxTQUFBLEdBQUE7T0FDQSxFQUFBLFdBQUEsWUFBQTtPQUNBLE9BQUEsSUFBQTs7Ozs7O0lBTUEsT0FBQTtLQUNBLFdBQUE7TUFDQSxPQUFBLFFBQUE7O0tBRUEsU0FBQSxVQUFBLFVBQUE7TUFDQSxJQUFBLGFBQUE7T0FDQTtNQUNBLFVBQUEsU0FBQTtRQUNBOzs7Ozs7O0FDbEdBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsUUFBQSxvQkFBQSxZQUFBLG1CQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxrQkFBQSxXQUFBLGVBQUEsV0FBQTs7RUFFQSxPQUFBO0dBQ0EsVUFBQTtHQUNBLGFBQUE7R0FDQSxZQUFBO0dBQ0EsTUFBQSxVQUFBLFFBQUEsU0FBQSxRQUFBOzs7Ozs7Ozs7QUNUQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsa0JBQUEsV0FBQSxZQUFBLFdBQUE7O0VBRUEsT0FBQTtHQUNBLFVBQUE7R0FDQSxhQUFBO0dBQ0EsWUFBQTtHQUNBLE1BQUEsVUFBQSxRQUFBLFNBQUEsUUFBQTs7Ozs7Ozs7O0FDVEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxRQUFBLG9CQUFBLFlBQUEsZ0JBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxXQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGtCQUFBLFVBQUEsdUJBQUEsU0FBQSxVQUFBO0VBQ0EsSUFBQSxXQUFBLFdBQUE7R0FDQSxPQUFBO0lBQ0EsSUFBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsUUFBQTtLQUNBLE1BQUE7S0FDQSxPQUFBO0tBQ0EsS0FBQTtLQUNBLFFBQUE7O0lBRUEsUUFBQSxDQUFBO0tBQ0EsVUFBQTtLQUNBLE9BQUE7S0FDQSxTQUFBO09BQ0E7S0FDQSxVQUFBO0tBQ0EsT0FBQTtLQUNBLFNBQUE7T0FDQTtLQUNBLFVBQUE7S0FDQSxPQUFBO0tBQ0EsU0FBQTs7OztFQUlBLE9BQUE7R0FDQSxVQUFBO0dBQ0EsT0FBQTtJQUNBLE1BQUE7O0dBRUEsU0FBQTtHQUNBLE1BQUEsU0FBQSxRQUFBLFNBQUEsUUFBQSxTQUFBO0lBQ0EsSUFBQSxVQUFBLFFBQUEsT0FBQSxZQUFBO0lBQ0EsSUFBQSxJQUFBLEdBQUEsTUFBQTtNQUNBLE9BQUEsQ0FBQSxHQUFBO01BQ0EsTUFBQSxDQUFBLElBQUEsUUFBQSxRQUFBLFFBQUEsT0FBQTtNQUNBLE1BQUE7O0lBRUEsSUFBQSxRQUFBLEdBQUEsSUFBQTtNQUNBLEVBQUE7TUFDQSxPQUFBLENBQUEsR0FBQTtNQUNBLEdBQUEsU0FBQTtNQUNBLEdBQUEsWUFBQTs7SUFFQSxJQUFBLE1BQUEsR0FBQSxPQUFBLFFBQUEsSUFBQSxPQUFBO01BQ0EsS0FBQSxTQUFBLFFBQUE7TUFDQSxLQUFBLFVBQUEsUUFBQSxTQUFBLFFBQUEsT0FBQSxNQUFBLFFBQUEsT0FBQTtNQUNBLE9BQUE7O0lBRUEsSUFBQSxXQUFBLElBQUEsT0FBQTtNQUNBLE9BQUE7TUFDQSxLQUFBLE1BQUEsUUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsZ0JBQUE7SUFDQSxRQUFBLFFBQUEsUUFBQSxRQUFBLFNBQUEsT0FBQTtLQUNBLFNBQUEsT0FBQTtPQUNBLEtBQUEsVUFBQSxNQUFBLFdBQUE7T0FDQSxLQUFBLGNBQUEsTUFBQTtPQUNBLEtBQUEsZ0JBQUEsTUFBQTs7SUFFQSxJQUFBLE9BQUE7TUFDQSxLQUFBLFNBQUEsUUFBQTtNQUNBLEtBQUEsVUFBQSxRQUFBO01BQ0EsTUFBQSxRQUFBLFVBQUEsUUFBQSxLQUFBO0lBQ0EsSUFBQSxTQUFBLElBQUEsT0FBQSxLQUFBLEtBQUEsYUFBQSxlQUFBLFFBQUEsU0FBQSxJQUFBLE9BQUEsUUFBQSxTQUFBLElBQUE7TUFDQSxLQUFBLFNBQUE7SUFDQSxPQUFBLE9BQUE7TUFDQSxLQUFBLEtBQUEsUUFBQSxTQUFBOztJQUVBLE9BQUEsT0FBQTtNQUNBLEtBQUE7TUFDQSxLQUFBLGVBQUE7TUFDQSxLQUFBLEtBQUE7O0lBRUEsSUFBQSxVQUFBLElBQUEsT0FBQSxLQUFBLEtBQUEsYUFBQSxnQkFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLE1BQUEsT0FBQSxRQUFBLFNBQUEsSUFBQTtNQUNBLEtBQUEsU0FBQTtJQUNBLFFBQUEsT0FBQTtNQUNBLEtBQUEsS0FBQSxRQUFBLFNBQUE7O0lBRUEsUUFBQSxPQUFBO01BQ0EsS0FBQTtNQUNBLEtBQUEsZUFBQTtNQUNBLEtBQUEsS0FBQTs7SUFFQSxJQUFBLFNBQUEsSUFBQSxPQUFBO01BQ0EsS0FBQSxTQUFBO01BQ0EsS0FBQTs7SUFFQSxPQUFBLE9BQUE7TUFDQSxLQUFBLFVBQUEsUUFBQTtJQUNBLE9BQUEsT0FBQTtNQUNBLEtBQUEsTUFBQSxRQUFBLFFBQUE7TUFDQSxLQUFBLE1BQUE7TUFDQSxLQUFBLE1BQUEsUUFBQSxRQUFBO01BQ0EsS0FBQSxNQUFBLFFBQUE7TUFDQSxLQUFBLG9CQUFBO01BQ0EsS0FBQSxnQkFBQTtNQUNBLEtBQUEsVUFBQTtJQUNBLElBQUEsYUFBQSxPQUFBLE9BQUE7TUFDQSxLQUFBLGFBQUEsaUJBQUEsUUFBQSxTQUFBLElBQUE7SUFDQSxJQUFBLFNBQUEsV0FBQSxPQUFBO01BQ0EsS0FBQSxTQUFBO01BQ0EsS0FBQSxLQUFBLFFBQUEsU0FBQTtJQUNBLElBQUEsY0FBQSxXQUFBLE9BQUE7TUFDQSxLQUFBO01BQ0EsS0FBQSxlQUFBLFVBQUEsS0FBQSxLQUFBOztJQUVBO01BQ0EsS0FBQSxNQUFBLE9BQUEsQ0FBQSxHQUFBO01BQ0EsS0FBQSxNQUFBOztJQUVBLFNBQUEsUUFBQTtLQUNBLElBQUEsUUFBQSxNQUFBLFNBQUE7O0tBRUEsSUFBQSxHQUFBLE1BQUEsYUFBQTtNQUNBLFFBQUEsRUFBQSxPQUFBLEdBQUEsTUFBQSxNQUFBO01BQ0EsTUFBQSxPQUFBLENBQUEsT0FBQTs7S0FFQSxZQUFBLEtBQUEsU0FBQTtLQUNBLFdBQUEsS0FBQSxhQUFBLGVBQUEsRUFBQSxTQUFBLE1BQUEsUUFBQSxTQUFBLElBQUE7OztJQUdBLFNBQUEsVUFBQTtLQUNBLElBQUEsUUFBQSxNQUFBLFNBQUE7TUFDQSxRQUFBO01BQ0EsUUFBQTs7S0FFQSxHQUFBO01BQ0EsUUFBQSxRQUFBLE9BQUEsTUFBQSxTQUFBLEtBQUEsS0FBQTtPQUNBLElBQUEsU0FBQSxJQUFBLFVBQUEsU0FBQSxRQUFBO1FBQ0EsUUFBQSxjQUFBO1FBQ0EsUUFBQTtRQUNBLFFBQUE7OztNQUdBO01BQ0EsUUFBQSxRQUFBLEtBQUEsUUFBQSxJQUFBLFFBQUE7Y0FDQSxDQUFBLFNBQUEsUUFBQTs7O0lBR0EsT0FBQTtLQUNBLFdBQUE7TUFDQSxPQUFBLFFBQUE7O0tBRUEsU0FBQSxVQUFBLFVBQUE7TUFDQSxJQUFBLGFBQUE7T0FDQTtNQUNBLFlBQUEsS0FBQSxTQUFBLFNBQUE7TUFDQSxXQUFBLGFBQUEsU0FBQSxLQUFBLEtBQUEsUUFBQSxLQUFBLGFBQUEsZUFBQSxFQUFBLFNBQUEsU0FBQSxNQUFBLFFBQUEsU0FBQSxJQUFBO1FBQ0E7Ozs7Ozs7O0FDN0pBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsUUFBQSxvQkFBQSxZQUFBLGNBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGtCQUFBLFdBQUEsWUFBQSxXQUFBO0VBQ0EsT0FBQTtHQUNBLFVBQUE7R0FDQSxNQUFBO0lBQ0EsUUFBQTtJQUNBLFVBQUE7O0dBRUEsYUFBQTtHQUNBLE1BQUEsVUFBQSxRQUFBLFNBQUEsUUFBQTtJQUNBLE9BQUEsUUFBQTtLQUNBLFNBQUE7TUFDQSxPQUFBO09BQ0EsTUFBQTtPQUNBLFFBQUE7T0FDQSxlQUFBO09BQ0EsUUFBQTtRQUNBLEtBQUE7UUFDQSxPQUFBO1FBQ0EsUUFBQTtRQUNBLE1BQUE7O09BRUEsR0FBQSxVQUFBLEdBQUE7UUFDQSxPQUFBLEVBQUE7O09BRUEsR0FBQSxVQUFBLEdBQUE7UUFDQSxPQUFBLEVBQUE7O09BRUEsWUFBQTtPQUNBLG9CQUFBO09BQ0EsT0FBQSxDQUFBLElBQUE7T0FDQSxPQUFBO1FBQ0EsV0FBQTs7T0FFQSxPQUFBO1FBQ0EsV0FBQTtRQUNBLG1CQUFBOzs7O0tBSUEsTUFBQTs7SUFFQSxPQUFBLGlCQUFBLFVBQUE7S0FDQSxJQUFBLFlBQUE7S0FDQSxRQUFBLFFBQUEsT0FBQSxTQUFBLEtBQUEsVUFBQSxTQUFBLEtBQUEsSUFBQTtNQUNBLElBQUEsUUFBQTtPQUNBLElBQUEsS0FBQTtPQUNBLE9BQUEsS0FBQTtPQUNBLFFBQUE7O01BRUEsUUFBQSxRQUFBLE9BQUEsUUFBQSxLQUFBLFVBQUEsTUFBQTtPQUNBLE1BQUEsT0FBQSxLQUFBO1FBQ0EsR0FBQSxLQUFBO1FBQ0EsR0FBQSxLQUFBLEtBQUE7OztNQUdBLFVBQUEsS0FBQTs7S0FFQSxPQUFBLE1BQUEsT0FBQTs7SUFFQSxPQUFBO0lBQ0EsT0FBQSxPQUFBLFlBQUEsU0FBQSxTQUFBLFFBQUE7S0FDQSxHQUFBLFlBQUEsUUFBQTtNQUNBLE9BQUE7O0tBRUEsUUFBQTtLQUNBLE9BQUE7Ozs7Ozs7OztBQ3BFQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLFFBQUEsb0JBQUEsWUFBQSxnQkFBQSxVQUFBOzs7OztBQUtBIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsXG5cdFx0W1xuXHRcdCdhcHAuY29udHJvbGxlcnMnLFxuXHRcdCdhcHAuZmlsdGVycycsXG5cdFx0J2FwcC5zZXJ2aWNlcycsXG5cdFx0J2FwcC5kaXJlY3RpdmVzJyxcblx0XHQnYXBwLnJvdXRlcycsXG5cdFx0J2FwcC5jb25maWcnLFxuXHRcdF0pO1xuXG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5yb3V0ZXMnLCBbJ3VpLnJvdXRlcicsICduZ1N0b3JhZ2UnLCAnc2F0ZWxsaXplciddKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycsIFsndWkucm91dGVyJywgJ25nTWF0ZXJpYWwnLCAnbmdTdG9yYWdlJywgJ3Jlc3Rhbmd1bGFyJywgJ25nTWRJY29ucycsICdhbmd1bGFyLWxvYWRpbmctYmFyJywgJ25nTWVzc2FnZXMnLCBcImxlYWZsZXQtZGlyZWN0aXZlXCIsJ252ZDMnLCAnbmdDc3ZJbXBvcnQnXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZmlsdGVycycsIFtdKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5zZXJ2aWNlcycsIFsndWkucm91dGVyJywgJ25nU3RvcmFnZScsICdyZXN0YW5ndWxhciddKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJywgW10pO1xuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbmZpZycsIFtdKTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLnJvdXRlcycpLmNvbmZpZyhmdW5jdGlvbigkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKXtcblxuXHRcdHZhciBnZXRWaWV3ID0gZnVuY3Rpb24odmlld05hbWUpe1xuXHRcdFx0cmV0dXJuICcvdmlld3MvYXBwLycgKyB2aWV3TmFtZSArICcvJyArIHZpZXdOYW1lICsgJy5odG1sJztcblx0XHR9O1xuXG5cdFx0JHVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZSgnLycpO1xuXG5cdFx0JHN0YXRlUHJvdmlkZXJcblx0XHRcdC5zdGF0ZSgnYXBwJywge1xuXHRcdFx0XHRhYnN0cmFjdDogdHJ1ZSxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0LypcdHNpZGViYXI6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiBnZXRWaWV3KCdzaWRlYmFyJylcblx0XHRcdFx0XHR9LCovXG5cdFx0XHRcdFx0aGVhZGVyOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogZ2V0VmlldygnaGVhZGVyJylcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdG1haW46IHt9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQuc3RhdGUoJ2FwcC5lcGknLCB7XG5cdFx0XHRcdHVybDogJy9lcGknLFxuXHRcdFx0XHRkYXRhOiB7cGFnZU5hbWU6ICdFbnZpcm9ubWVudCBQZXJmb3JtYW5jZSBJbmRleCd9LFxuXHRcdFx0XHR2aWV3czoge1xuXHRcdFx0XHRcdCdtYWluQCc6IHtcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiBnZXRWaWV3KCdlcGknKVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0J21hcEAnOntcblx0XHRcdFx0XHRcdHRlbXBsYXRlVXJsOiBnZXRWaWV3KCdtYXAnKVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5zdGF0ZSgnYXBwLmVwaS5zZWxlY3RlZCcse1xuXHRcdFx0XHR1cmw6ICcvOml0ZW0nXG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdhcHAuaW1wb3J0Y3N2Jywge1xuXHRcdFx0XHR1cmw6ICcvaW1wb3J0ZXInLFxuXHRcdFx0XHRkYXRhOiB7cGFnZU5hbWU6ICdJbXBvcnQgQ1NWJ30sXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J21haW5AJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6IGdldFZpZXcoJ2ltcG9ydGNzdicpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFwJzp7fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXG5cblx0fSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAucm91dGVzJykucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuXHRcdCRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUpe1xuXG5cdFx0XHRpZiAodG9TdGF0ZS5kYXRhICYmIHRvU3RhdGUuZGF0YS5wYWdlTmFtZSl7XG5cdFx0XHRcdCRyb290U2NvcGUuY3VycmVudF9wYWdlID0gdG9TdGF0ZS5kYXRhLnBhZ2VOYW1lO1xuXHRcdFx0fVxuXG5cblx0XHR9KTtcblx0XHQkcm9vdFNjb3BlLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSl7XG5cdFx0XHR3aW5kb3cuUHJpc20uaGlnaGxpZ2h0QWxsKCk7XG5cdFx0fSk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnKS5jb25maWcoZnVuY3Rpb24gKCRhdXRoUHJvdmlkZXIpe1xuICAgICAgICAvLyBTYXRlbGxpemVyIGNvbmZpZ3VyYXRpb24gdGhhdCBzcGVjaWZpZXMgd2hpY2ggQVBJXG4gICAgICAgIC8vIHJvdXRlIHRoZSBKV1Qgc2hvdWxkIGJlIHJldHJpZXZlZCBmcm9tXG4gICAgICAgICRhdXRoUHJvdmlkZXIubG9naW5VcmwgPSAnL2FwaS8xL2F1dGhlbnRpY2F0ZS9hdXRoJztcbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnKS5jb25maWcoZnVuY3Rpb24gKGNmcExvYWRpbmdCYXJQcm92aWRlcil7XG5cdFx0Y2ZwTG9hZGluZ0JhclByb3ZpZGVyLmluY2x1ZGVTcGlubmVyID0gZmFsc2U7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJykuY29uZmlnKCBmdW5jdGlvbihSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cdFx0UmVzdGFuZ3VsYXJQcm92aWRlclxuXHRcdC5zZXRCYXNlVXJsKCcvYXBpLzEvJyk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJykuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xuXHRcdC8qIEZvciBtb3JlIGluZm8sIHZpc2l0IGh0dHBzOi8vbWF0ZXJpYWwuYW5ndWxhcmpzLm9yZy8jL1RoZW1pbmcvMDFfaW50cm9kdWN0aW9uICovXG5cdFx0JG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0Jylcblx0XHQucHJpbWFyeVBhbGV0dGUoJ2luZGlnbycpXG5cdFx0LmFjY2VudFBhbGV0dGUoJ2dyZXknKVxuXHRcdC53YXJuUGFsZXR0ZSgncmVkJyk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZmlsdGVycycpLmZpbHRlciggJ2NhcGl0YWxpemUnLCBmdW5jdGlvbigpe1xuXHRcdHJldHVybiBmdW5jdGlvbihpbnB1dCwgYWxsKSB7XG5cdFx0XHRyZXR1cm4gKCEhaW5wdXQpID8gaW5wdXQucmVwbGFjZSgvKFteXFxXX10rW15cXHMtXSopICovZyxmdW5jdGlvbih0eHQpe1xuXHRcdFx0XHRyZXR1cm4gdHh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0fSkgOiAnJztcblx0XHR9O1xuXHR9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5maWx0ZXJzJykuZmlsdGVyKCAnaHVtYW5SZWFkYWJsZScsIGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGh1bWFuaXplKHN0cikge1xuXHRcdFx0aWYgKCAhc3RyICl7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblx0XHRcdHZhciBmcmFncyA9IHN0ci5zcGxpdCgnXycpO1xuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPGZyYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGZyYWdzW2ldID0gZnJhZ3NbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBmcmFnc1tpXS5zbGljZSgxKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmcmFncy5qb2luKCcgJyk7XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnKS5maWx0ZXIoICd0cnVzdEh0bWwnLCBmdW5jdGlvbiggJHNjZSApe1xuXHRcdHJldHVybiBmdW5jdGlvbiggaHRtbCApe1xuXHRcdFx0cmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoaHRtbCk7XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnKS5maWx0ZXIoJ3VjZmlyc3QnLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGlucHV0ICkge1xuXHRcdFx0aWYgKCAhaW5wdXQgKXtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaW5wdXQuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBpbnB1dC5zdWJzdHJpbmcoMSk7XG5cdFx0fTtcblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuc2VydmljZXMnKS5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgZnVuY3Rpb24obGVhZmxldERhdGEpe1xuICAgICAgICAvL1xuICAgICAgICB2YXIgbGVhZmxldCA9IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldExlYWZsZXREYXRhOiBmdW5jdGlvbihsZWFmKXtcbiAgICAgICAgICAgIGxlYWZsZXQgPSBsZWFmbGV0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0TGVhZmxldERhdGE6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gbGVhZmxldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZShcImFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdEaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24oJG1kRGlhbG9nKXtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRmcm9tVGVtcGxhdGU6IGZ1bmN0aW9uKHRlbXBsYXRlLCAkc2NvcGUpe1xuXG5cdFx0XHRcdHZhciBvcHRpb25zID0ge1xuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2RpYWxvZ3MvJyArIHRlbXBsYXRlICsgJy8nICsgdGVtcGxhdGUgKyAnLmh0bWwnXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKCRzY29wZSl7XG5cdFx0XHRcdFx0b3B0aW9ucy5zY29wZSA9ICRzY29wZS4kbmV3KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gJG1kRGlhbG9nLnNob3cob3B0aW9ucyk7XG5cdFx0XHR9LFxuXG5cdFx0XHRoaWRlOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXR1cm4gJG1kRGlhbG9nLmhpZGUoKTtcblx0XHRcdH0sXG5cblx0XHRcdGFsZXJ0OiBmdW5jdGlvbih0aXRsZSwgY29udGVudCl7XG5cdFx0XHRcdCRtZERpYWxvZy5zaG93KFxuXHRcdFx0XHRcdCRtZERpYWxvZy5hbGVydCgpXG5cdFx0XHRcdFx0XHQudGl0bGUodGl0bGUpXG5cdFx0XHRcdFx0XHQuY29udGVudChjb250ZW50KVxuXHRcdFx0XHRcdFx0Lm9rKCdPaycpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZShcImFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdUb2FzdFNlcnZpY2UnLCBmdW5jdGlvbigkbWRUb2FzdCl7XG5cblx0XHR2YXIgZGVsYXkgPSA2MDAwLFxuXHRcdFx0cG9zaXRpb24gPSAndG9wIHJpZ2h0Jyxcblx0XHRcdGFjdGlvbiA9ICdPSyc7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2hvdzogZnVuY3Rpb24oY29udGVudCl7XG5cdFx0XHRcdGlmICghY29udGVudCl7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuICRtZFRvYXN0LnNob3coXG5cdFx0XHRcdFx0JG1kVG9hc3Quc2ltcGxlKClcblx0XHRcdFx0XHRcdC5jb250ZW50KGNvbnRlbnQpXG5cdFx0XHRcdFx0XHQucG9zaXRpb24ocG9zaXRpb24pXG5cdFx0XHRcdFx0XHQuYWN0aW9uKGFjdGlvbilcblx0XHRcdFx0XHRcdC5oaWRlRGVsYXkoZGVsYXkpXG5cdFx0XHRcdCk7XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIWNvbnRlbnQpe1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAkbWRUb2FzdC5zaG93KFxuXHRcdFx0XHRcdCRtZFRvYXN0LnNpbXBsZSgpXG5cdFx0XHRcdFx0XHQuY29udGVudChjb250ZW50KVxuXHRcdFx0XHRcdFx0LnBvc2l0aW9uKHBvc2l0aW9uKVxuXHRcdFx0XHRcdFx0LnRoZW1lKCd3YXJuJylcblx0XHRcdFx0XHRcdC5hY3Rpb24oYWN0aW9uKVxuXHRcdFx0XHRcdFx0LmhpZGVEZWxheShkZWxheSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdEaWFsb2dzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgRGlhbG9nU2VydmljZSl7XG5cdFx0JHNjb3BlLmFsZXJ0RGlhbG9nID0gZnVuY3Rpb24oKXtcblx0XHRcdERpYWxvZ1NlcnZpY2UuYWxlcnQoJ1RoaXMgaXMgYW4gYWxlcnQgdGl0bGUnLCAnWW91IGNhbiBzcGVjaWZ5IHNvbWUgZGVzY3JpcHRpb24gdGV4dCBpbiBoZXJlLicpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY3VzdG9tRGlhbG9nID0gZnVuY3Rpb24oKXtcblx0XHRcdERpYWxvZ1NlcnZpY2UuZnJvbVRlbXBsYXRlKCdhZGRfdXNlcnMnLCAkc2NvcGUpO1xuXHRcdH07XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignRWxpeGlyQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignRXBpQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsJHN0YXRlLCBSZXN0YW5ndWxhciwgbGVhZmxldERhdGEsIE1hcFNlcnZpY2UpIHtcblxuXHRcdCRzY29wZS5pbmRleERhdGEgPSB7XG5cdFx0XHQgbmFtZTonRVBJJyxcblx0XHRcdCBmdWxsX25hbWU6ICdFbnZpcm9ubWVudCBQcmVmb3JtYW5jZSBJbmRleCcsXG5cdFx0XHQgdGFibGU6ICdlcGknLFxuXHRcdFx0IGFsbENvdW50cmllczogJ3llcycsXG5cdFx0XHQgY291bnRyaWVzOiBbXSxcblx0XHRcdCBzY29yZV9maWVsZF9uYW1lOiAnc2NvcmUnLFxuXHRcdFx0IGNoYW5nZV9maWVsZF9uYW1lOiAncGVyY2VudF9jaGFuZ2UnLFxuXHRcdFx0IG9yZGVyX2ZpZWxkOiAneWVhcicsXG5cdFx0XHQgY291bnRyaWVzX2lkX2ZpZWxkOiAnY291bnRyeV9pZCcsXG5cdFx0XHQgY291bnRyaWVzX2lzb19maWVsZDogJ2lzbycsXG5cdFx0XHQgZGF0YV90cmVlOlt7XG5cdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2VoJyxcblx0XHRcdFx0IHRpdGxlOiAnRW52aXJvbWVudGFsIEhlYWx0aCcsXG5cdFx0XHRcdCByYW5nZTpbMCwgMTAwXSxcblx0XHRcdFx0IHdlaWd0aDogNDAsXG5cdFx0XHRcdCBpY29uOicnLFxuXHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdCBjaGlsZHJlbjpbe1xuXHRcdFx0XHRcdCBjb2x1bW5fbmFtZTonZWhfaGknLFxuXHRcdFx0XHRcdCB0aXRsZTonSGVhbHRoIEltcGFjdCcsXG5cdFx0XHRcdFx0IGljb246ICdtYW4nLFxuXHRcdFx0XHRcdCB1bmljb2RlOiAnXFx1ZTYwNScsXG5cdFx0XHRcdFx0IGNvbG9yOiAnI2ZmOTYwMCcsXG5cdFx0XHRcdFx0IGNoaWxkcmVuOlt7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdlaF9oaV9jaGlsZF9tb3J0YWxpdHknLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidDaGlsZCBNb3J0YWxpdHknLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J1Byb2JhYmlsaXR5IG9mIGR5aW5nIGJldHdlZW4gYSBjaGlsZHMgZmlyc3QgYW5kIGZpZnRoIGJpcnRoZGF5cyAoYmV0d2VlbiBhZ2UgMSBhbmQgNSknXG5cdFx0XHRcdFx0IH1dXG5cdFx0XHRcdCB9LHtcblx0XHRcdFx0XHQgY29sdW1uX25hbWU6J2VoX2FxJyxcblx0XHRcdFx0XHQgdGl0bGU6J0FpciBRdWFsaXR5Jyxcblx0XHRcdFx0XHQgY29sb3I6ICcjZjdjODBiJyxcblx0XHRcdFx0XHQgaWNvbjogJ3NpbmsnLFxuXHRcdFx0XHRcdCB1bmljb2RlOiAnXFx1ZTYwNicsXG5cdFx0XHRcdFx0IGNoaWxkcmVuOlt7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdlaF9hcV9ob3VzZWhvbGRfYWlyX3F1YWxpdHknLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidIb3VzZWhvbGQgQWlyIFF1YWxpdHknLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J1BlcmNlbnRhZ2Ugb2YgdGhlIHBvcHVsYXRpb24gdXNpbmcgc29saWQgZnVlbHMgYXMgcHJpbWFyeSBjb29raW5nIGZ1ZWwuJ1xuXHRcdFx0XHRcdCB9LHtcblx0XHRcdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2VoX2FxX2V4cG9zdXJlX3BtMjUnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidBaXIgUG9sbHV0aW9uIC0gQXZlcmFnZSBFeHBvc3VyZSB0byBQTTIuNScsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonUG9wdWxhdGlvbiB3ZWlnaHRlZCBleHBvc3VyZSB0byBQTTIuNSAodGhyZWUtIHllYXIgYXZlcmFnZSknXG5cdFx0XHRcdFx0IH0se1xuXHRcdFx0XHRcdFx0IGNvbHVtbl9uYW1lOiAnZWhfYXFfZXhlZWRhbmRlX3BtMjUnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidBaXIgUG9sbHV0aW9uIC0gUE0yLjUgRXhjZWVkYW5jZScsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonUHJvcG9ydGlvbiBvZiB0aGUgcG9wdWxhdGlvbiB3aG9zZSBleHBvc3VyZSBpcyBhYm92ZSAgV0hPIHRocmVzaG9sZHMgKDEwLCAxNSwgMjUsIDM1IG1pY3JvZ3JhbXMvbTMpJ1xuXHRcdFx0XHRcdCB9XVxuXHRcdFx0XHQgfSx7XG5cdFx0XHRcdFx0IGNvbHVtbl9uYW1lOidlaF93cycsXG5cdFx0XHRcdFx0IHRpdGxlOidXYXRlciBTYW5pdGF0aW9uJyxcblx0XHRcdFx0XHQgY29sb3I6ICcjZmY2ZDI0Jyxcblx0XHRcdFx0XHQgaWNvbjogJ2ZhYnJpYycsXG5cdFx0XHRcdFx0IHVuaWNvZGU6ICdcXHVlNjA0Jyxcblx0XHRcdFx0XHQgY2hpbGRyZW46W3tcblx0XHRcdFx0XHRcdGNvbHVtbl9uYW1lOiAnZWhfd3NfYWNjZXNzX3RvX2RyaW5raW5nX3dhdGVyJyxcblx0XHRcdFx0XHRcdHRpdGxlOidBY2Nlc3MgdG8gRHJpbmtpbmcgV2F0ZXInLFxuXHRcdFx0XHRcdFx0aWNvbjonJyxcblx0XHRcdFx0XHRcdGNvbG9yOicnLFxuXHRcdFx0XHRcdFx0ZGVzY3JpcHRpb246J1BlcmNlbnRhZ2Ugb2YgcG9wdWxhdGlvbiB3aXRoIGFjY2VzcyB0byBpbXByb3ZlZCBkcmlua2luZyB3YXRlciBzb3VyY2UnXG5cdFx0XHRcdFx0fSx7XG5cdFx0XHRcdFx0XHRjb2x1bW5fbmFtZTogJ2VoX3dzX2FjY2Vzc190b19zYW5pdGF0aW9uJyxcblx0XHRcdFx0XHRcdHRpdGxlOidBY2Nlc3MgdG8gU2FuaXRhdGlvbicsXG5cdFx0XHRcdFx0XHRpY29uOicnLFxuXHRcdFx0XHRcdFx0Y29sb3I6JycsXG5cdFx0XHRcdFx0XHRkZXNjcmlwdGlvbjonUGVyY2VudGFnZSBvZiBwb3B1bGF0aW9uIHdpdGggYWNjZXNzIHRvIGltcHJvdmVkIHNhbml0YXRpb24nXG5cdFx0XHRcdFx0fV1cblx0XHRcdFx0IH1dXG5cdFx0XHQgfSx7XG5cdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2V2Jyxcblx0XHRcdFx0IHRpdGxlOiAnRW52aXJvbWVudGFsIFZhbGlkaXR5Jyxcblx0XHRcdFx0IHJhbmdlOlswLCAxMDBdLFxuXHRcdFx0XHQgd2VpZ2h0OjYwLFxuXHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0IGNvbG9yOicnLFxuXHRcdFx0XHQgY2hpbGRyZW46W3tcblx0XHRcdFx0XHQgY29sdW1uX25hbWU6J2V2X3dyJyxcblx0XHRcdFx0XHQgdGl0bGU6J1dhdGVyIFJlc291cmNlcycsXG5cdFx0XHRcdFx0IGNvbG9yOiAnIzc5OTNmMicsXG5cdFx0XHRcdFx0IGljb246ICd3YXRlcicsXG5cdFx0XHRcdFx0IHVuaWNvZGU6ICdcXHVlNjA4Jyxcblx0XHRcdFx0XHQgY2hpbGRyZW46W3tcblx0XHRcdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2V2X3dyX3dhc3Rld2F0ZXJfdHJlYXRtZW50Jyxcblx0XHRcdFx0XHRcdCB0aXRsZTonV2FzdGV3YXRlciBUcmVhdG1lbnQnLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J1dhc3Rld2F0ZXIgdHJlYXRtZW50IGxldmVsIHdlaWdodGVkIGJ5IGNvbm5lY3Rpb24gdG8gd2FzdGV3YXRlciB0cmVhdG1lbnQgcmF0ZS4nXG5cdFx0XHRcdFx0IH1dXG5cdFx0XHRcdCB9LHtcblx0XHRcdFx0XHQgY29sdW1uX25hbWU6J2V2X2FnJyxcblx0XHRcdFx0XHQgdGl0bGU6J0FncmljdWx0dXJlJyxcblx0XHRcdFx0XHQgY29sb3I6ICcjMDA5YmNjJyxcblx0XHRcdFx0XHQgaWNvbjogJ2FncmFyJyxcblx0XHRcdFx0XHQgdW5pY29kZTogJ1xcdWU2MDAnLFxuXHRcdFx0XHRcdCBjaGlsZHJlbjpbe1xuXHRcdFx0XHRcdFx0IGNvbHVtbl9uYW1lOiAnZXZfYWdfYWdyaWN1bHR1cmFsX3N1YnNpZGllcycsXG5cdFx0XHRcdFx0XHQgdGl0bGU6J0FncmljdWx0dXJhbCBTdWJzaWRpZXMnLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J1N1YnNpZGllcyBhcmUgZXhwcmVzc2VkIGluIHByaWNlIG9mIHRoZWlyIHByb2R1Y3QgaW4gdGhlIGRvbWVzdGljIG1hcmtldCAocGx1cyBhbnkgZGlyZWN0IG91dHB1dCBzdWJzaWR5KSBsZXNzIGl0cyBwcmljZSBhdCB0aGUgYm9yZGVyLCBleHByZXNzZWQgYXMgYSBwZXJjZW50YWdlIG9mIHRoZSBib3JkZXIgcHJpY2UgKGFkanVzdGluZyBmb3IgdHJhbnNwb3J0IGNvc3RzIGFuZCBxdWFsaXR5IGRpZmZlcmVuY2VzKS4nXG5cdFx0XHRcdFx0IH0se1xuXHRcdFx0XHRcdFx0IGNvbHVtbl9uYW1lOiAnZXZfYWdfcGVzdGljaWRlX3JlZ3VsYXRpb24nLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidQZXN0aWNpZGUgUmVndWxhdGlvbicsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonV2FzdGV3YXRlciB0cmVhdG1lbnQgbGV2ZWwgd2VpZ2h0ZWQgYnkgY29ubmVjdGlvbiB0byB3YXN0ZXdhdGVyIHRyZWF0bWVudCByYXRlLidcblx0XHRcdFx0XHQgfV1cblx0XHRcdFx0IH0se1xuXHRcdFx0XHRcdCBjb2x1bW5fbmFtZTonZXZfZm8nLFxuXHRcdFx0XHRcdCB0aXRsZTonRm9yZXN0Jyxcblx0XHRcdFx0XHQgY29sb3I6ICcjMmU3NGJhJyxcblx0XHRcdFx0XHQgaWNvbjogJ3RyZWUnLFxuXHRcdFx0XHRcdCB1bmljb2RlOiAnXFx1ZTYwNycsXG5cdFx0XHRcdFx0IGNoaWxkcmVuOlt7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9mb19jaGFuZ2VfaW5fZm9yZXN0X2NvdmVyJyxcblx0XHRcdFx0XHRcdCB0aXRsZTonQ2hhbmdlIGluIEZvcmVzdCBDb3ZlcicsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonRm9yZXN0IGxvc3MgLSBGb3Jlc3QgZ2FpbiBpbiA+IDUwJSB0cmVlIGNvdmVyLCBhcyBjb21wYXJlZCB0byAyMDAwIGxldmVscy4nXG5cdFx0XHRcdFx0IH1dXG5cdFx0XHRcdCB9LHtcblx0XHRcdFx0XHQgY29sdW1uX25hbWU6J2V2X2ZpJyxcblx0XHRcdFx0XHQgdGl0bGU6J0Zpc2hlcmllcycsXG5cdFx0XHRcdFx0IGNvbG9yOiAnIzAwOGM4YycsXG5cdFx0XHRcdFx0IGljb246ICdhbmNob3InLFxuXHRcdFx0XHRcdCB1bmljb2RlOiAnXFx1ZTYwMScsXG5cdFx0XHRcdFx0IGNoaWxkcmVuOlt7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9maV9jb2FzdGFsX3NoZWxmX2Zpc2hpbmdfcHJlc3N1cmUnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidDb2FzdGFsIFNoZWxmIEZpc2hpbmcgUHJlc3N1cmUnLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J0NhdGNoIGluIG1ldHJpYyB0b25zIGZyb20gdHJhd2xpbmcgYW5kIGRyZWRnaW5nIGdlYXJzIChtb3N0bHkgYm90dG9tIHRyYXdscykgZGl2aWRlZCBieSBFRVogYXJlYS4nXG5cdFx0XHRcdFx0IH0se1xuXHRcdFx0XHRcdFx0IGNvbHVtbl9uYW1lOiAnZXZfZmlfZmlzaF9zdG9ja3MnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidGaXNoIFN0b2NrcycsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonUGVyY2VudGFnZSBvZiBmaXNoaW5nIHN0b2NrcyBvdmVyZXhwbG9pdGVkIGFuZCBjb2xsYXBzZWQgZnJvbSBFRVouJ1xuXHRcdFx0XHRcdCB9XVxuXHRcdFx0XHQgfSx7XG5cdFx0XHRcdFx0IGNvbHVtbl9uYW1lOidldl9iZCcsXG5cdFx0XHRcdFx0IHRpdGxlOidCaW9kaXZlcnNpdHkgYW5kIEhhYml0YXQnLFxuXHRcdFx0XHRcdCBjb2xvcjogJyMwMGNjYWEnLFxuXHRcdFx0XHRcdCBpY29uOiAnYnV0dGVyZmx5Jyxcblx0XHRcdFx0XHQgdW5pY29kZTogJ1xcdWU2MDInLFxuXHRcdFx0XHRcdCBjaGlsZHJlbjpbe1xuXHRcdFx0XHRcdFx0IGNvbHVtbl9uYW1lOiAnZXZfYmRfdGVycmVzdHJpYWxfcHJvdGVjdGVkX2FyZWFzX25hdGlvbmFsX2Jpb21lJyxcblx0XHRcdFx0XHRcdCB0aXRsZTonVGVycmVzdHJpYWwgUHJvdGVjdGVkIEFyZWFzIChOYXRpb25hbCBCaW9tZSBXZWlnaHRzKScsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonUGVyY2VudGFnZSBvZiB0ZXJyZXN0cmlhbCBiaW9tZSBhcmVhIHRoYXQgaXMgcHJvdGVjdGVkLCB3ZWlnaHRlZCBieSBkb21lc3RpYyBiaW9tZSBhcmVhLidcblx0XHRcdFx0XHQgfSx7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9iZF90ZXJyZXN0cmlhbF9wcm90ZWN0ZWRfYXJlYXNfZ2xvYmFsX2Jpb21lJyxcblx0XHRcdFx0XHRcdCB0aXRsZTonVGVycmVzdHJpYWwgUHJvdGVjdGVkIEFyZWFzIChHbG9iYWwgQmlvbWUgV2VpZ2h0cyknLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J1BlcmNlbnRhZ2Ugb2YgdGVycmVzdHJpYWwgYmlvbWUgYXJlYSB0aGF0IGlzIHByb3RlY3RlZCwgd2VpZ2h0ZWQgYnkgZ2xvYmFsIGJpb21lIGFyZWEuJ1xuXHRcdFx0XHRcdCB9LHtcblx0XHRcdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2V2X2JkX21hcmluZV9wcm90ZWN0ZWRfYXJlYXMnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidNYXJpbmUgUHJvdGVjdGVkIEFyZWFzJyxcblx0XHRcdFx0XHRcdCBpY29uOicnLFxuXHRcdFx0XHRcdFx0IGNvbG9yOicnLFxuXHRcdFx0XHRcdFx0IGRlc2NyaXB0aW9uOidNYXJpbmUgcHJvdGVjdGVkIGFyZWFzIGFzIGEgcGVyY2VudCBvZiBFRVouJ1xuXHRcdFx0XHRcdCB9LHtcblx0XHRcdFx0XHRcdCBjb2x1bW5fbmFtZTogJ2V2X2JkX2NyaXRpY2FsX2hhYml0YXRfcHJvdGVjdGlvbicsXG5cdFx0XHRcdFx0XHQgdGl0bGU6J0NyaXRpY2FsIEhhYml0YXQgUHJvdGVjdGlvbicsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonUGVyY2VudGFnZSBvZiB0ZXJyZXN0cmlhbCBiaW9tZSBhcmVhIHRoYXQgaXMgcHJvdGVjdGVkLCB3ZWlnaHRlZCBieSBnbG9iYWwgYmlvbWUgYXJlYS4nXG5cdFx0XHRcdFx0IH1dXG5cdFx0XHRcdCB9LHtcblx0XHRcdFx0XHQgY29sdW1uX25hbWU6J2V2X2NlJyxcblx0XHRcdFx0XHQgdGl0bGU6J0NsaW1hdGUgYW5kIEVuZXJneScsXG5cdFx0XHRcdFx0IGNvbG9yOiAnIzFjYjg1ZCcsXG5cdFx0XHRcdFx0IGljb246ICdlbmVyZ3knLFxuXHRcdFx0XHRcdCB1bmljb2RlOiAnXFx1ZTYwMycsXG5cdFx0XHRcdFx0IGNoaWxkcmVuOlt7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9jZV90cmVuZF9pbl9jYXJib25faW50ZW5zaXR5Jyxcblx0XHRcdFx0XHRcdCB0aXRsZTonVHJlbmQgaW4gQ2FyYm9uIEludGVuc2l0eScsXG5cdFx0XHRcdFx0XHQgaWNvbjonJyxcblx0XHRcdFx0XHRcdCBjb2xvcjonJyxcblx0XHRcdFx0XHRcdCBkZXNjcmlwdGlvbjonQ2hhbmdlIGluIENPMiBlbWlzc2lvbnMgcGVyIHVuaXQgR0RQIGZyb20gMTk5MCB0byAyMDEwLidcblx0XHRcdFx0XHQgfSx7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9jZV9jaGFuZ2Vfb2ZfdHJlbmRfaW5fY2FyYm9uX2ludGVzaXR5Jyxcblx0XHRcdFx0XHRcdCB0aXRsZTonQ2hhbmdlIG9mIFRyZW5kIGluIENhcmJvbiBJbnRlbnNpdHknLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J0NoYW5nZSBpbiBUcmVuZCBvZiBDTzIgZW1pc3Npb25zIHBlciB1bml0IEdEUCBmcm9tIDE5OTAgdG8gMjAwMDsgMjAwMCB0byAyMDEwLidcblx0XHRcdFx0XHQgfSx7XG5cdFx0XHRcdFx0XHQgY29sdW1uX25hbWU6ICdldl9jZV90cmVuZF9pbl9jbzJfZW1pc3Npb25zX3Blcl9rd2gnLFxuXHRcdFx0XHRcdFx0IHRpdGxlOidUcmVuZCBpbiBDTzIgRW1pc3Npb25zIHBlciBLV0gnLFxuXHRcdFx0XHRcdFx0IGljb246JycsXG5cdFx0XHRcdFx0XHQgY29sb3I6JycsXG5cdFx0XHRcdFx0XHQgZGVzY3JpcHRpb246J0NoYW5nZSBpbiBDTzIgZW1pc3Npb25zIGZyb20gZWxlY3RyaWNpdHkgYW5kIGhlYXQgcHJvZHVjdGlvbi4nXG5cdFx0XHRcdFx0IH1dXG5cdFx0XHRcdCB9XVxuXHRcdFx0IH1dXG5cdFx0fTtcblx0XHQkc2NvcGUuY3VycmVudCA9IFwiXCI7XG5cdFx0JHNjb3BlLmRpc3BsYXkgPSB7XG5cdFx0XHRzZWxlY3RlZENhdDogJydcblx0XHR9O1xuXHRcdCRzY29wZS5tZW51ZU9wZW4gPSB0cnVlO1xuXHRcdCRzY29wZS5kZXRhaWxzID0gZmFsc2U7XG5cdFx0JHNjb3BlLmNsb3NlSWNvbiA9ICdjaGV2cm9uX2xlZnQnO1xuXHRcdCRzY29wZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uKGlzbyl7XG5cdFx0XHRhbmd1bGFyLmZvckVhY2goJHNjb3BlLmVwaSwgZnVuY3Rpb24oZXBpKXtcblx0XHRcdFx0aWYoZXBpLmlzbyA9PSBpc28pe1xuXHRcdFx0XHRcdCRzY29wZS5jdXJyZW50ID0gZXBpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXHRcdHZhciBlcGkgPSBSZXN0YW5ndWxhci5hbGwoJ2VwaS95ZWFyLzIwMTQnKTtcblx0XHRlcGkuZ2V0TGlzdCgpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdCRzY29wZS5lcGkgPSBkYXRhO1xuXHRcdFx0JHNjb3BlLmRyYXdDb3VudHJpZXMoKTtcblx0XHRcdGlmKCRzdGF0ZS5jdXJyZW50Lm5hbWUgPT0gXCJhcHAuZXBpLnNlbGVjdGVkXCIpe1xuXHRcdFx0Ly9zZXRTdGF0ZSgkc3RhdGUucGFyYW1zLml0ZW0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdCRzY29wZS50b2dnbGVPcGVuID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0JHNjb3BlLm1lbnVlT3BlbiA9ICEkc2NvcGUubWVudWVPcGVuO1xuXHRcdFx0JHNjb3BlLmNsb3NlSWNvbiA9ICRzY29wZS5tZW51ZU9wZW4gPT0gdHJ1ZSA/ICdjaGV2cm9uX2xlZnQnIDogJ2NoZXZyb25fcmlnaHQnO1xuXHRcdH1cblx0XHQkc2NvcGUuc2V0Q3VycmVudCA9IGZ1bmN0aW9uIChuYXQpIHtcblx0XHRcdCRzY29wZS5jdXJyZW50ID0gbmF0O1xuXHRcdH07XG5cdFx0JHNjb3BlLmdldFJhbmsgPSBmdW5jdGlvbiAobmF0KSB7XG5cdFx0XHRyZXR1cm4gJHNjb3BlLmVwaS5pbmRleE9mKG5hdCkgKyAxO1xuXHRcdH07XG5cdFx0JHNjb3BlLnRvZ2dsZURldGFpbHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gJHNjb3BlLmRldGFpbHMgPSAhJHNjb3BlLmRldGFpbHM7XG5cdFx0fVxuXHRcdCRzY29wZS5nZXRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAoISRzY29wZS5jdXJyZW50KSB7XG5cdFx0XHRcdHJldHVybiAwO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuICgkc2NvcGUuY3VycmVudC5yYW5rID09IDEgPyAwIDogJHNjb3BlLmN1cnJlbnQucmFuayA9PSAkc2NvcGUuY3VycmVudC5sZW5ndGggKyAxID8gJHNjb3BlLmN1cnJlbnQucmFuayA6ICRzY29wZS5jdXJyZW50LnJhbmsgLSAyKSAqIDE2O1xuXHRcdFx0Ly9yZXR1cm4gJHNjb3BlLmN1cnJlbnQucmFuayAtIDIgfHwgMDtcblx0XHR9O1xuXHRcdCRzY29wZS5nZXRUZW5kZW5jeSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICghJHNjb3BlLmN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuICdhcnJvd19kcm9wX2Rvd24nXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gJHNjb3BlLmN1cnJlbnQucGVyY2VudF9jaGFuZ2UgPiAwID8gJ2Fycm93X2Ryb3BfdXAnIDogJ2Fycm93X2Ryb3BfZG93bic7XG5cdFx0fTtcblxuXHRcdCRzY29wZS4kd2F0Y2goJ2N1cnJlbnQnLCBmdW5jdGlvbiAobmV3SXRlbSwgb2xkSXRlbSkge1xuXHRcdFx0aWYgKG5ld0l0ZW0gPT09IG9sZEl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNvdW50cnkgPSBSZXN0YW5ndWxhci5vbmUoJ25hdGlvbnMnLCBuZXdJdGVtLmlzbykuZ2V0KCk7XG5cblx0XHRcdGNvdW50cnkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuXHRcdFx0XHQkc2NvcGUuY291bnRyeSA9IGRhdGE7XG5cdFx0XHRcdCRzdGF0ZS5nbygnYXBwLmVwaS5zZWxlY3RlZCcsIHtpdGVtOm5ld0l0ZW0uaXNvfSlcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHZhciBnZXROYXRpb25CeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0dmFyIG5hdGlvbiA9IHt9O1xuXHRcdFx0YW5ndWxhci5mb3JFYWNoKCRzY29wZS5lcGksIGZ1bmN0aW9uIChuYXQpIHtcblx0XHRcdFx0aWYgKG5hdC5jb3VudHJ5ID09IG5hbWUpIHtcblx0XHRcdFx0XHRuYXRpb24gPSBuYXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG5hdGlvbjtcblx0XHR9O1xuXHRcdHZhciBjcmVhdGVDYW52YXMgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG5cdFx0XHQkc2NvcGUuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHQkc2NvcGUuY2FudmFzLndpZHRoID0gMjU2O1xuXHRcdFx0JHNjb3BlLmNhbnZhcy5oZWlnaHQgPSAxMDtcblx0XHRcdCRzY29wZS5jdHggPSAkc2NvcGUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cdFx0XHR2YXIgZ3JhZGllbnQgPSAkc2NvcGUuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDI1NiwgMTApO1xuXHRcdFx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI1NSwyNTUsMjU1LDApJyk7XG5cdFx0XHRncmFkaWVudC5hZGRDb2xvclN0b3AoMC41MywgJ3JnYmEoMTI4LCAyNDMsIDE5OCwxKScpO1xuXHRcdFx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDEwMiwxMDIsMTAyLDEpJyk7XG5cdFx0XHQkc2NvcGUuY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuXHRcdFx0JHNjb3BlLmN0eC5maWxsUmVjdCgwLCAwLCAyNTYsIDEwKTtcblx0XHRcdCRzY29wZS5wYWxldHRlID0gJHNjb3BlLmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMjU2LCAxKS5kYXRhO1xuXHRcdFx0Ly9kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmFwcGVuZENoaWxkKCRzY29wZS5jYW52YXMpO1xuXHRcdH1cblx0XHRjcmVhdGVDYW52YXMoKTtcblxuXG5cdFx0JHNjb3BlLmRyYXdDb3VudHJpZXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRsZWFmbGV0RGF0YS5nZXRNYXAoJ21hcCcpLnRoZW4oZnVuY3Rpb24gKG1hcCkge1xuXHRcdFx0XHQvL1x0TC50aWxlTGF5ZXIoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMS9zZXJ2aWNlcy9wb3N0Z2lzL2NvdW50cmllc19iaWcvZ2VvbS9keW5hbWljTWFwL3t6fS97eH0ve3l9LnBuZycpLmFkZFRvKG1hcCk7XG5cdFx0XHRcdHZhciBkZWJ1ZyA9IHt9O1xuXHRcdFx0XHR2YXIgYXBpS2V5ID0gJ3BrLmV5SjFJam9pYldGbmJtOXNieUlzSW1FaU9pSnVTRmRVWWtnNEluMC41SE95a0trMHBOUDFOM2lzZlBRR1RRJztcblx0XHRcdFx0dmFyIHVybCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDEvc2VydmljZXMvcG9zdGdpcy9jb3VudHJpZXNfYmlnL2dlb20vdmVjdG9yLXRpbGVzL3t6fS97eH0ve3l9LnBiZj9maWVsZHM9aWQsYWRtaW4sYWRtMF9hMyxuYW1lLG5hbWVfbG9uZyc7IC8vXG5cdFx0XHRcdHZhciB1cmwyID0gJ2h0dHBzOi8vYS50aWxlcy5tYXBib3guY29tL3Y0L21hcGJveC5tYXBib3gtc3RyZWV0cy12Ni1kZXYve3p9L3t4fS97eX0udmVjdG9yLnBiZj9hY2Nlc3NfdG9rZW49JyArIGFwaUtleTtcblx0XHRcdFx0dmFyIG12dFNvdXJjZSA9IG5ldyBMLlRpbGVMYXllci5NVlRTb3VyY2Uoe1xuXHRcdFx0XHRcdHVybDogdXJsLCAvL1wiaHR0cDovL3NwYXRpYWxzZXJ2ZXIuc3BhdGlhbGRldi5jb20vc2VydmljZXMvdmVjdG9yLXRpbGVzL2dhdWxfZnNwX2luZGlhL3t6fS97eH0ve3l9LnBiZlwiLFxuXHRcdFx0XHRcdGRlYnVnOiBmYWxzZSxcblx0XHRcdFx0XHRjbGlja2FibGVMYXllcnM6IFsnY291bnRyaWVzX2JpZ19nZW9tJ10sXG5cdFx0XHRcdFx0bXV0ZXhUb2dnbGU6IHRydWUsXG5cdFx0XHRcdFx0b25DbGljazogZnVuY3Rpb24gKGV2dCwgdCkge1xuXHRcdFx0XHRcdFx0Ly9tYXAuZml0Qm91bmRzKGV2dC50YXJnZXQuZ2V0Qm91bmRzKCkpO1xuXHRcdFx0XHRcdFx0Lypjb25zb2xlLmxvZyhldnQubGF0bG5nKTtcblx0XHRcdFx0XHRcdHZhciB4ID0gZXZ0LmZlYXR1cmUuYmJveCgpWzBdLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpO1xuXHRcdFx0XHRcdFx0dmFyIHkgPSBldnQuZmVhdHVyZS5iYm94KClbMV0vKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKVxuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2cobmV3IEwuUG9pbnQoeCx5KSk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhbXG5cdFx0XHRcdFx0XHRcdFtldnQuZmVhdHVyZS5iYm94KClbMF0vIChldnQuZmVhdHVyZS5leHRlbnQgLyBldnQuZmVhdHVyZS50aWxlU2l6ZSksIGV2dC5mZWF0dXJlLmJib3goKVsxXS8oZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpXSxcblx0XHRcdFx0XHRcdFx0W2V2dC5mZWF0dXJlLmJib3goKVsyXS8oZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpLCBldnQuZmVhdHVyZS5iYm94KClbM10vKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKV0sXG5cdFx0XHRcdFx0XHRdKTtcblx0XHRcdFx0XHRcdGRlYnVnZ2VyOyovXG5cdFx0XHRcdFx0XHRpZiAoJHNjb3BlLmN1cnJlbnQuY291bnRyeSAhPSBldnQuZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluKSB7XG5cdFx0XHRcdFx0XHRcdG1hcC5wYW5UbyhldnQubGF0bG5nKTtcblx0XHRcdFx0XHRcdFx0bWFwLnBhbkJ5KG5ldyBMLlBvaW50KC0yMDAsMCkpO1xuXHRcdFx0XHRcdFx0LypcdG1hcC5maXRCb3VuZHMoW1xuXHRcdFx0XHRcdFx0XHRcdFtldnQuZmVhdHVyZS5iYm94KClbMF0gLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpLCBldnQuZmVhdHVyZS5iYm94KClbMV0gLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpXSxcblx0XHRcdFx0XHRcdFx0XHRbZXZ0LmZlYXR1cmUuYmJveCgpWzJdIC8gKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKSwgZXZ0LmZlYXR1cmUuYmJveCgpWzNdIC8gKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKV0sXG5cdFx0XHRcdFx0XHRcdF0pKi9cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdCRzY29wZS5jdXJyZW50ID0gZ2V0TmF0aW9uQnlOYW1lKGV2dC5mZWF0dXJlLnByb3BlcnRpZXMuYWRtaW4pO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0Z2V0SURGb3JMYXllckZlYXR1cmU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG5cblx0XHRcdFx0XHRcdHJldHVybiBmZWF0dXJlLnByb3BlcnRpZXMuaWQ7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmaWx0ZXI6IGZ1bmN0aW9uIChmZWF0dXJlLCBjb250ZXh0KSB7XG5cblx0XHRcdFx0XHRcdGlmIChmZWF0dXJlLmxheWVyLm5hbWUgPT09ICdhZG1pbicgfHwgZmVhdHVyZS5sYXllci5uYW1lID09PSAnZ2F1bF8yMDE0X2FkbTFfbGFiZWwnKSB7XG5cdFx0XHRcdFx0XHRcdC8vY29uc29sZS5sb2coZmVhdHVyZSk7XG5cdFx0XHRcdFx0XHRcdGlmIChmZWF0dXJlLnByb3BlcnRpZXMuYWRtaW5fbGV2ZWwgPT0gMCB8fCBmZWF0dXJlLnByb3BlcnRpZXMuYWRtaW5fbGV2ZWwgPT0gMSB8fCBmZWF0dXJlLnByb3BlcnRpZXMuYWRtaW5fbGV2ZWwgPT0gMikge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9LFxuXG5cdFx0XHRcdFx0c3R5bGU6IGZ1bmN0aW9uIChmZWF0dXJlKSB7XG5cdFx0XHRcdFx0XHR2YXIgc3R5bGUgPSB7fTtcblx0XHRcdFx0XHRcdHZhciBuYXRpb24gPSBnZXROYXRpb25CeU5hbWUoZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluKTtcblx0XHRcdFx0XHRcdHZhciB0eXBlID0gZmVhdHVyZS50eXBlO1xuXHRcdFx0XHRcdFx0c3dpdGNoICh0eXBlKSB7XG5cdFx0XHRcdFx0XHRjYXNlIDE6IC8vJ1BvaW50J1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5jb2xvciA9ICdyZ2JhKDQ5LDc5LDc5LDAuMDEpJztcblx0XHRcdFx0XHRcdFx0c3R5bGUucmFkaXVzID0gNTtcblx0XHRcdFx0XHRcdFx0c3R5bGUuc2VsZWN0ZWQgPSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDI1NSwyNTUsMCwwLjUpJyxcblx0XHRcdFx0XHRcdFx0XHRyYWRpdXM6IDBcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIDI6IC8vJ0xpbmVTdHJpbmcnXG5cdFx0XHRcdFx0XHRcdHN0eWxlLmNvbG9yID0gJ3JnYmEoMjU1LDAsMCwxKSc7XG5cdFx0XHRcdFx0XHRcdHN0eWxlLnNpemUgPSAxO1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5zZWxlY3RlZCA9IHtcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjogJ3JnYmEoMjU1LDI1LDAsMSknLFxuXHRcdFx0XHRcdFx0XHRcdHNpemU6IDJcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRjYXNlIDM6IC8vJ1BvbHlnb24nXG5cdFx0XHRcdFx0XHRcdGlmIChuYXRpb24uc2NvcmUpIHtcblx0XHRcdFx0XHRcdFx0XHR2YXIgY29sb3JQb3MgPSBwYXJzZUludCgyNTYgLyAxMDAgKiBuYXRpb24uc2NvcmUpICogNDtcblx0XHRcdFx0XHRcdFx0XHR2YXIgY29sb3IgPSAncmdiYSgnICsgJHNjb3BlLnBhbGV0dGVbY29sb3JQb3NdICsgJywgJyArICRzY29wZS5wYWxldHRlW2NvbG9yUG9zICsgMV0gKyAnLCAnICsgJHNjb3BlLnBhbGV0dGVbY29sb3JQb3MgKyAyXSArICcsJyArICRzY29wZS5wYWxldHRlW2NvbG9yUG9zICsgM10gKyAnKSc7XG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUuY29sb3IgPSBjb2xvcjtcblx0XHRcdFx0XHRcdFx0XHRzdHlsZS5vdXRsaW5lID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDUwLDUwLDUwLDAuNCknLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZTogMVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUuc2VsZWN0ZWQgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMC4wKScsXG5cdFx0XHRcdFx0XHRcdFx0XHRvdXRsaW5lOiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiAncmdiYSgwLDAsMCwwLjUpJyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c2l6ZTogMVxuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUuY29sb3IgPSAncmdiYSgyNTUsMjU1LDI1NSwwKSc7XG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUub3V0bGluZSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwwKScsXG5cdFx0XHRcdFx0XHRcdFx0XHRzaXplOiAxXG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHQvL1x0aWYgKGZlYXR1cmUubGF5ZXIubmFtZSA9PT0gJ2dhdWxfMjAxNF9hZG0xX2xhYmVsJykge1xuXHRcdFx0XHRcdFx0c3R5bGUuYWpheFNvdXJjZSA9IGZ1bmN0aW9uIChtdnRGZWF0dXJlKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9IG12dEZlYXR1cmUuaWQ7XG5cdFx0XHRcdFx0XHRcdC8vXHRjb25zb2xlLmxvZyhpZCk7XG5cdFx0XHRcdFx0XHRcdC8vcmV0dXJuICdodHRwOi8vc3BhdGlhbHNlcnZlci5zcGF0aWFsZGV2LmNvbS9mc3AvMjAxNC9mc3AvYWdncmVnYXRpb25zLW5vLW5hbWUvJyArIGlkICsgJy5qc29uJztcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdHN0eWxlLnN0YXRpY0xhYmVsID0gZnVuY3Rpb24gKG12dEZlYXR1cmUsIGFqYXhEYXRhKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBzdHlsZSA9IHtcblx0XHRcdFx0XHRcdFx0XHRodG1sOiBhamF4RGF0YS50b3RhbF9jb3VudCxcblx0XHRcdFx0XHRcdFx0XHRpY29uU2l6ZTogWzMzLCAzM10sXG5cdFx0XHRcdFx0XHRcdFx0Y3NzQ2xhc3M6ICdsYWJlbC1pY29uLW51bWJlcicsXG5cdFx0XHRcdFx0XHRcdFx0Y3NzU2VsZWN0ZWRDbGFzczogJ2xhYmVsLWljb24tbnVtYmVyLXNlbGVjdGVkJ1xuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gc3R5bGU7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Ly9cdH1cblxuXHRcdFx0XHRcdFx0cmV0dXJuIHN0eWxlO1xuXHRcdFx0XHRcdH0sXG5cblxuXHRcdFx0XHRcdGxheWVyTGluazogZnVuY3Rpb24gKGxheWVyTmFtZSkge1xuXHRcdFx0XHRcdFx0aWYgKGxheWVyTmFtZS5pbmRleE9mKCdfbGFiZWwnKSA+IC0xKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBsYXllck5hbWUucmVwbGFjZSgnX2xhYmVsJywgJycpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIGxheWVyTmFtZSArICdfbGFiZWwnO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHR9KTtcblx0XHRcdFx0ZGVidWcubXZ0U291cmNlID0gbXZ0U291cmNlO1xuXHRcdFx0XHRtYXAuYWRkTGF5ZXIobXZ0U291cmNlKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdH0pO1xufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0dlbmVyYXRvcnNDdHJsJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignSGVhZGVyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHJvb3RTY29wZSl7XG5cblx0XHQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRyZXR1cm4gJHJvb3RTY29wZS5jdXJyZW50X3BhZ2U7XG5cdFx0fSwgZnVuY3Rpb24obmV3UGFnZSl7XG5cdFx0XHQkc2NvcGUuY3VycmVudF9wYWdlID0gbmV3UGFnZSB8fCAnUGFnZSBOYW1lJztcblx0XHR9KTtcblxuXG5cdH0pO1xuXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdJbXBvcnRjc3ZDdHJsJywgZnVuY3Rpb24gKCRtZERpYWxvZykge1xuXHRcdHRoaXMuc2V0dGluZ3MgPSB7XG5cdFx0XHRwcmludExheW91dDogdHJ1ZSxcblx0XHRcdHNob3dSdWxlcjogdHJ1ZSxcblx0XHRcdHNob3dTcGVsbGluZ1N1Z2dlc3Rpb25zOiB0cnVlLFxuXHRcdFx0cHJlc2VudGF0aW9uTW9kZTogJ2VkaXQnXG5cdFx0fTtcblxuXHRcdHRoaXMuc2FtcGxlQWN0aW9uID0gZnVuY3Rpb24gKG5hbWUsIGV2KSB7XG5cdFx0XHQkbWREaWFsb2cuc2hvdygkbWREaWFsb2cuYWxlcnQoKVxuXHRcdFx0XHQudGl0bGUobmFtZSlcblx0XHRcdFx0LmNvbnRlbnQoJ1lvdSB0cmlnZ2VyZWQgdGhlIFwiJyArIG5hbWUgKyAnXCIgYWN0aW9uJylcblx0XHRcdFx0Lm9rKCdHcmVhdCcpXG5cdFx0XHRcdC50YXJnZXRFdmVudChldilcblx0XHRcdCk7XG5cdFx0fTtcblxuICAgIHRoaXMub3BlbkNzdlVwbG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0JG1kRGlhbG9nLnNob3coe1xuXHRcdFx0XHRcdC8vY29udHJvbGxlcjogRGlhbG9nQ29udHJvbGxlcixcblx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogJy92aWV3cy9hcHAvaW1wb3J0Y3N2L2NzdlVwbG9hZERpYWxvZy5odG1sJyxcblx0ICAgICAgICBiaW5kVG9Db250cm9sbGVyOiB0cnVlLFxuXHRcdFx0XHR9KVxuXHRcdFx0XHQudGhlbihmdW5jdGlvbiAoYW5zd2VyKSB7XG5cblx0XHRcdFx0fSwgZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdH0pO1xuXHRcdH07XG5cdH0pXG5cblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignSnd0QXV0aEN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRhdXRoLCBSZXN0YW5ndWxhcil7XG5cblx0XHR2YXIgY3JlZGVudGlhbHMgPSB7fTtcblxuXHRcdCRzY29wZS5yZXF1ZXN0VG9rZW4gPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gVXNlIFNhdGVsbGl6ZXIncyAkYXV0aCBzZXJ2aWNlIHRvIGxvZ2luIGJlY2F1c2UgaXQnbGwgYXV0b21hdGljYWxseSBzYXZlIHRoZSBKV1QgaW4gbG9jYWxTdG9yYWdlXG5cdFx0XHQkYXV0aC5sb2dpbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoZGF0YSl7XG5cdFx0XHRcdC8vIElmIGxvZ2luIGlzIHN1Y2Nlc3NmdWwsIHJlZGlyZWN0IHRvIHRoZSB1c2VycyBzdGF0ZVxuXHRcdFx0XHQvLyRzdGF0ZS5nbygnZGFzaGJvYXJkJyk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gVGhpcyByZXF1ZXN0IHdpbGwgaGl0IHRoZSBnZXREYXRhIG1ldGhvZCBpbiB0aGUgQXV0aGVudGljYXRlQ29udHJvbGxlclxuXHRcdC8vIG9uIHRoZSBMYXJhdmVsIHNpZGUgYW5kIHdpbGwgcmV0dXJuIHlvdXIgZGF0YSB0aGF0IHJlcXVpcmUgYXV0aGVudGljYXRpb25cblx0XHQkc2NvcGUuZ2V0RGF0YSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRSZXN0YW5ndWxhci5hbGwoJ2F1dGhlbnRpY2F0ZS9kYXRhJykuZ2V0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2Upe1xuXG5cdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3Ipe30pO1xuXHRcdH07XG5cblxuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdMYW5kaW5nQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJG1kVG9hc3QsICRtZERpYWxvZywgJGludGVydmFsLCBUb2FzdFNlcnZpY2UsIERpYWxvZ1NlcnZpY2Upe1xuXG5cdFx0JHNjb3BlLnByb21vSW1hZ2UgPSAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9aYkx6T1BQLmpwZyc7XG5cdFx0JHNjb3BlLmljb24gPSAnc2VuZCc7XG5cblx0XHR2YXIgaWNvbnMgPSBbXG5cdFx0XHRcdCdvZmZpY2UnLCAnZmFjZWJvb2snLCAndHdpdHRlcicsICdhcHBsZScsICd3aGF0c2FwcCcsICdsaW5rZWRpbicsICd3aW5kb3dzJywgJ2FjY2Vzc2liaWxpdHknLCAnYWxhcm0nLCAnYXNwZWN0X3JhdGlvJyxcblx0XHRcdFx0J2F1dG9yZW5ldycsICdib29rbWFya19vdXRsaW5lJywgJ2Rhc2hib2FyZCcsICdkbnMnLCAnZmF2b3JpdGVfb3V0bGluZScsICdnZXRfYXBwJywgJ2hpZ2hsaWdodF9yZW1vdmUnLCAnaGlzdG9yeScsICdsaXN0Jyxcblx0XHRcdFx0J3BpY3R1cmVfaW5fcGljdHVyZScsICdwcmludCcsICdzZXR0aW5nc19ldGhlcm5ldCcsICdzZXR0aW5nc19wb3dlcicsICdzaG9wcGluZ19jYXJ0JywgJ3NwZWxsY2hlY2snLCAnc3dhcF9ob3JpeicsICdzd2FwX3ZlcnQnLFxuXHRcdFx0XHQndGh1bWJfdXAnLCAndGh1bWJzX3VwX2Rvd24nLCAndHJhbnNsYXRlJywgJ3RyZW5kaW5nX3VwJywgJ3Zpc2liaWxpdHknLCAnd2FybmluZycsICdtaWMnLCAncGxheV9jaXJjbGVfb3V0bGluZScsICdyZXBlYXQnLFxuXHRcdFx0XHQnc2tpcF9uZXh0JywgJ2NhbGwnLCAnY2hhdCcsICdjbGVhcl9hbGwnLCAnZGlhbHBhZCcsICdkbmRfb24nLCAnZm9ydW0nLCAnbG9jYXRpb25fb24nLCAndnBuX2tleScsICdmaWx0ZXJfbGlzdCcsICdpbmJveCcsXG5cdFx0XHRcdCdsaW5rJywgJ3JlbW92ZV9jaXJjbGVfb3V0bGluZScsICdzYXZlJywgJ3RleHRfZm9ybWF0JywgJ2FjY2Vzc190aW1lJywgJ2FpcnBsYW5lbW9kZV9vbicsICdibHVldG9vdGgnLCAnZGF0YV91c2FnZScsXG5cdFx0XHRcdCdncHNfZml4ZWQnLCAnbm93X3dhbGxwYXBlcicsICdub3dfd2lkZ2V0cycsICdzdG9yYWdlJywgJ3dpZmlfdGV0aGVyaW5nJywgJ2F0dGFjaF9maWxlJywgJ2Zvcm1hdF9saW5lX3NwYWNpbmcnLFxuXHRcdFx0XHQnZm9ybWF0X2xpc3RfbnVtYmVyZWQnLCAnZm9ybWF0X3F1b3RlJywgJ3ZlcnRpY2FsX2FsaWduX2NlbnRlcicsICd3cmFwX3RleHQnLCAnY2xvdWRfcXVldWUnLCAnZmlsZV9kb3dubG9hZCcsICdmb2xkZXJfb3BlbicsXG5cdFx0XHRcdCdjYXN0JywgJ2hlYWRzZXQnLCAna2V5Ym9hcmRfYmFja3NwYWNlJywgJ21vdXNlJywgJ3NwZWFrZXInLCAnd2F0Y2gnLCAnYXVkaW90cmFjaycsICdlZGl0JywgJ2JydXNoJywgJ2xvb2tzJywgJ2Nyb3BfZnJlZScsXG5cdFx0XHRcdCdjYW1lcmEnLCAnZmlsdGVyX3ZpbnRhZ2UnLCAnaGRyX3N0cm9uZycsICdwaG90b19jYW1lcmEnLCAnc2xpZGVzaG93JywgJ3RpbWVyJywgJ2RpcmVjdGlvbnNfYmlrZScsICdob3RlbCcsICdsb2NhbF9saWJyYXJ5Jyxcblx0XHRcdFx0J2RpcmVjdGlvbnNfd2FsaycsICdsb2NhbF9jYWZlJywgJ2xvY2FsX3BpenphJywgJ2xvY2FsX2Zsb3Jpc3QnLCAnbXlfbG9jYXRpb24nLCAnbmF2aWdhdGlvbicsICdwaW5fZHJvcCcsICdhcnJvd19iYWNrJywgJ21lbnUnLFxuXHRcdFx0XHQnY2xvc2UnLCAnbW9yZV9ob3JpeicsICdtb3JlX3ZlcnQnLCAncmVmcmVzaCcsICdwaG9uZV9wYXVzZWQnLCAndmlicmF0aW9uJywgJ2Nha2UnLCAnZ3JvdXAnLCAnbW9vZCcsICdwZXJzb24nLFxuXHRcdFx0XHQnbm90aWZpY2F0aW9uc19ub25lJywgJ3BsdXNfb25lJywgJ3NjaG9vbCcsICdzaGFyZScsICdzdGFyX291dGxpbmUnXG5cdFx0XHRdLFxuXHRcdFx0Y291bnRlciA9IDA7XG5cblx0XHQkaW50ZXJ2YWwoZnVuY3Rpb24oKXtcblx0XHRcdCRzY29wZS5pY29uID0gaWNvbnNbKytjb3VudGVyXTtcblx0XHRcdGlmIChjb3VudGVyID4gMTEyKXtcblx0XHRcdFx0Y291bnRlciA9IDA7XG5cdFx0XHR9XG5cdFx0fSwgMjAwMCk7XG5cblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24gKCl7XG5cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdNYXBDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHRpbWVvdXQsIE1hcFNlcnZpY2UsIGxlYWZsZXREYXRhLCAkaHR0cCkge1xuXHRcdC8vXG5cdFx0dmFyIGFwaUtleSA9ICdway5leUoxSWpvaWJXRm5ibTlzYnlJc0ltRWlPaUp1U0ZkVVlrZzRJbjAuNUhPeWtLazBwTlAxTjNpc2ZQUUdUUSc7XG5cblx0XHQvKiRzY29wZS5kZWZhdWx0cyA9IHtcblx0XHRcdHRpbGVMYXllcjogJ2h0dHBzOi8ve3N9LnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LnBlbmNpbC97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPScgKyBhcGlLZXksXG5cdFx0XHRtYXhab29tOiAxNCxcblx0XHRcdGRldGVjdFJldGluYTogdHJ1ZSxcblx0XHRcdGF0dHJpYnV0aW9uOiAnJ1xuXHRcdH07XG5cdFx0JHNjb3BlLmNlbnRlciA9IHtcblx0XHRcdGxhdDogMCxcblx0XHRcdGxuZzogMCxcblx0XHRcdHpvb206IDNcblx0XHR9OyovXG5cdFx0YW5ndWxhci5leHRlbmQoJHJvb3RTY29wZSwge1xuXHRcdFx0Y2VudGVyOiB7XG5cdFx0XHRcdGxhdDogMCxcblx0XHRcdFx0bG5nOiAwLFxuXHRcdFx0XHR6b29tOiAzXG5cdFx0XHR9LFxuXHRcdFx0bGF5ZXJzOiB7XG5cdFx0XHRcdGJhc2VsYXllcnM6IHtcblx0XHRcdFx0XHR4eXo6IHtcblx0XHRcdFx0XHRcdG5hbWU6ICdNYXBCb3ggUGVuY2lsJyxcblx0XHRcdFx0XHRcdHVybDogJ2h0dHBzOi8ve3N9LnRpbGVzLm1hcGJveC5jb20vdjQvbWFwYm94LnBlbmNpbC97en0ve3h9L3t5fS5wbmc/YWNjZXNzX3Rva2VuPScgKyBhcGlLZXksXG5cdFx0XHRcdFx0XHR0eXBlOiAneHl6J1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0b3ZlcmxheXM6IHtcblx0XHRcdFx0XHRkZW1vc3V0ZmdyaWQ6IHtcblx0XHRcdFx0XHRcdG5hbWU6ICdVVEZHcmlkIEludGVyYWN0aXZpdHknLFxuXHRcdFx0XHRcdFx0dHlwZTogJ3V0ZkdyaWQnLFxuXHRcdFx0XHRcdFx0dXJsOiAnaHR0cDovL3tzfS50aWxlcy5tYXBib3guY29tL3YzL21hcGJveC5nZW9ncmFwaHktY2xhc3Mve3p9L3t4fS97eX0uZ3JpZC5qc29uP2NhbGxiYWNrPXtjYn0nLFxuXHRcdFx0XHRcdFx0dmlzaWJsZTogdHJ1ZVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdCRzY29wZS5zZWFyY2hJUCA9IGZ1bmN0aW9uIChpcCkge1xuXHRcdFx0dmFyIHVybCA9IFwiaHR0cDovL2ZyZWVnZW9pcC5uZXQvanNvbi9cIiArIGlwO1xuXHRcdFx0JGh0dHAuZ2V0KHVybCkuc3VjY2VzcyhmdW5jdGlvbiAocmVzKSB7XG5cdFx0XHRcdCRzY29wZS5jZW50ZXIgPSB7XG5cdFx0XHRcdFx0bGF0OiByZXMubGF0aXR1ZGUsXG5cdFx0XHRcdFx0bG5nOiByZXMubG9uZ2l0dWRlLFxuXHRcdFx0XHRcdHpvb206IDNcblx0XHRcdFx0fVxuXHRcdFx0XHQkc2NvcGUuaXAgPSByZXMuaXA7XG5cdFx0XHR9KVxuXHRcdH07XG5cblx0XHQkc2NvcGUuc2VhcmNoSVAoXCJcIik7XG5cdFx0JHNjb3BlLmludGVyYWN0aXZpdHkgPSBcIlwiO1xuXHRcdCRzY29wZS5mbGFnID0gXCJcIjtcblx0XHQkc2NvcGUuJG9uKCdsZWFmbGV0RGlyZWN0aXZlTWFwLnV0ZmdyaWRNb3VzZW92ZXInLCBmdW5jdGlvbiAoZXZlbnQsIGxlYWZsZXRFdmVudCkge1xuXHRcdFx0Ly8gdGhlIFVURkdyaWQgaW5mb3JtYXRpb24gaXMgb24gbGVhZmxldEV2ZW50LmRhdGFcblx0XHRcdCRzY29wZS5pbnRlcmFjdGl2aXR5ID0gbGVhZmxldEV2ZW50LmRhdGEuYWRtaW47XG5cdFx0XHQkc2NvcGUuZmxhZyA9IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LFwiICsgbGVhZmxldEV2ZW50LmRhdGEuZmxhZ19wbmc7XG5cblx0XHR9KTtcblx0XHQkc2NvcGUuJG9uKCdsZWFmbGV0RGlyZWN0aXZlTWFwLnV0ZmdyaWRNb3VzZW91dCcsIGZ1bmN0aW9uIChldmVudCwgbGVhZmxldEV2ZW50KSB7XG5cdFx0XHQkc2NvcGUuaW50ZXJhY3Rpdml0eSA9IFwiXCI7XG5cdFx0XHQkc2NvcGUuZmxhZyA9IFwiXCI7XG5cdFx0fSk7XG5cdFx0TWFwU2VydmljZS5zZXRMZWFmbGV0RGF0YShsZWFmbGV0RGF0YS5nZXRNYXAoJ21hcCcpKTtcblxuXHR9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdNaXNjQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdSZXN0QXBpQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ1NpZGViYXJDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkc3RhdGUpe1xuXG5cblx0fSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdEYXNoYm9hcmRDdHJsJywgZnVuY3Rpb24oKXtcblxuXHR9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ1RvYXN0c0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIFRvYXN0U2VydmljZSl7XG5cblx0XHQkc2NvcGUudG9hc3RTdWNjZXNzID0gZnVuY3Rpb24oKXtcblx0XHRcdFRvYXN0U2VydmljZS5zaG93KCdVc2VyIGFkZGVkIHN1Y2Nlc3NmdWxseSEnKTtcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnRvYXN0RXJyb3IgPSBmdW5jdGlvbigpe1xuXHRcdFx0VG9hc3RTZXJ2aWNlLmVycm9yKCdDb25uZWN0aW9uIGludGVycnVwdGVkIScpO1xuXHRcdH07XG5cblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdVbnN1cHBvcnRlZEJyb3dzZXJDdHJsJywgZnVuY3Rpb24oKXtcbiAgICAgICAgLy9cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0FkZFVzZXJzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgRGlhbG9nU2VydmljZSl7XG5cbiAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbigpe1xuXHQgICAgICAgIC8vZG8gc29tZXRoaW5nIHVzZWZ1bFxuICAgICAgICAgICAgRGlhbG9nU2VydmljZS5oaWRlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgJHNjb3BlLmhpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICBcdERpYWxvZ1NlcnZpY2UuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoICdhcHAuY29udHJvbGxlcnMnICkuY29udHJvbGxlciggJ0J1YmJsZXNDdHJsJywgZnVuY3Rpb24oKXtcblx0XHQvL1xuICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGZ1bmN0aW9uIEN1c3RvbVRvb2x0aXAodG9vbHRpcElkLCB3aWR0aCkge1xuXHRcdHZhciB0b29sdGlwSWQgPSB0b29sdGlwSWQ7XG5cdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKCdib2R5JykuYXBwZW5kKFwiPGRpdiBjbGFzcz0ndG9vbHRpcCBtZC13aGl0ZWZyYW1lLXozJyBpZD0nXCIgKyB0b29sdGlwSWQgKyBcIic+PC9kaXY+XCIpO1xuXHRcdGhpZGVUb29sdGlwKCk7XG5cblx0XHRmdW5jdGlvbiBzaG93VG9vbHRpcChjb250ZW50LCBkYXRhLCBldmVudCkge1xuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdG9vbHRpcElkKSkuaHRtbChjb250ZW50KTtcblx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRvb2x0aXBJZCkpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXG5cdFx0XHRyZXR1cm4gdXBkYXRlUG9zaXRpb24oZXZlbnQsIGRhdGEpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdG9vbHRpcElkKSkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihldmVudCwgZCkge1xuXHRcdFx0dmFyIHR0aWQgPSBcIiNcIiArIHRvb2x0aXBJZDtcblx0XHRcdHZhciB4T2Zmc2V0ID0gMjA7XG5cdFx0XHR2YXIgeU9mZnNldCA9IDEwO1xuXHRcdFx0dmFyIHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfdmlzJyk7XG5cdFx0XHR2YXIgd3NjclkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0XHRcdHZhciB0dHcgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0dGlkKSkub2Zmc2V0V2lkdGg7XG5cdFx0XHR2YXIgdHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0dGlkKS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR2YXIgdHR0b3AgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZC55IC0gdHRoIC8gMjtcblx0XHRcdHZhciB0dGxlZnQgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGQueCArIGQucmFkaXVzICsgMTI7XG5cdFx0XHRyZXR1cm4gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodHRpZCkpLmNzcygndG9wJywgdHR0b3AgKyAncHgnKS5jc3MoJ2xlZnQnLCB0dGxlZnQgKyAncHgnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2hvd1Rvb2x0aXA6IHNob3dUb29sdGlwLFxuXHRcdFx0aGlkZVRvb2x0aXA6IGhpZGVUb29sdGlwLFxuXHRcdFx0dXBkYXRlUG9zaXRpb246IHVwZGF0ZVBvc2l0aW9uXG5cdFx0fVxuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmRpcmVjdGl2ZSgnYnViYmxlcycsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuXHRcdHZhciBkZWZhdWx0cztcblx0XHRkZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHdpZHRoOiA5NDAsXG5cdFx0XHRcdGhlaWdodDogNjAwLFxuXHRcdFx0XHRsYXlvdXRfZ3Jhdml0eTogMCxcblx0XHRcdFx0dmlzOiBudWxsLFxuXHRcdFx0XHRmb3JjZTogbnVsbCxcblx0XHRcdFx0ZGFtcGVyOiAwLjEsXG5cdFx0XHRcdGNpcmNsZXM6IG51bGwsXG5cdFx0XHRcdGZpbGxfY29sb3I6IGQzLnNjYWxlLm9yZGluYWwoKS5kb21haW4oW1wiZWhcIiwgXCJldlwiXSkucmFuZ2UoW1wiI2EzMTAzMVwiLCBcIiNiZWNjYWVcIl0pLFxuXHRcdFx0XHRtYXhfYW1vdW50OiAnJyxcblx0XHRcdFx0cmFkaXVzX3NjYWxlOiAnJyxcblx0XHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRcdHRvb2x0aXA6IEN1c3RvbVRvb2x0aXAoXCJidWJibGVzX3Rvb2x0aXBcIiwgMjQwKVxuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0UnLFxuXHRcdFx0c2NvcGU6IHtcblx0XHRcdFx0Y2hhcnRkYXRhOiAnPScsXG5cdFx0XHRcdGRpcmVjdGlvbjogJz0nLFxuXHRcdFx0XHRncmF2aXR5OiAnPScsXG5cdFx0XHRcdHNpemVmYWN0b3I6ICc9Jyxcblx0XHRcdFx0aW5kZXhlcjonPSdcblx0XHRcdH0sXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW0sIGF0dHJzLCBuZ01vZGVsKSB7XG5cdFx0XHRcdHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoZGVmYXVsdHMoKSwgYXR0cnMpO1xuXHRcdFx0XHR2YXIgbm9kZXMgPSBbXSxcblx0XHRcdFx0XHRsaW5rcyA9IFtdO1xuXG5cdFx0XHRcdHZhciBtYXhfYW1vdW50ID0gZDMubWF4KHNjb3BlLmNoYXJ0ZGF0YSwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcGFyc2VJbnQoZC52YWx1ZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG9wdGlvbnMucmFkaXVzX3NjYWxlID0gZDMuc2NhbGUucG93KCkuZXhwb25lbnQoMC41KS5kb21haW4oWzAsIG1heF9hbW91bnRdKS5yYW5nZShbMiwgODVdKTtcblx0XHRcdFx0b3B0aW9ucy5jZW50ZXIgPSB7XG5cdFx0XHRcdFx0eDogb3B0aW9ucy53aWR0aCAvIDIsXG5cdFx0XHRcdFx0eTogb3B0aW9ucy5oZWlnaHQgLyAyXG5cdFx0XHRcdH07XG5cdFx0XHRcdG9wdGlvbnMuY2F0X2NlbnRlcnMgPSB7XG5cdFx0XHRcdFx0XCJlaFwiOiB7XG5cdFx0XHRcdFx0XHR4OiBvcHRpb25zLndpZHRoIC8gMixcblx0XHRcdFx0XHRcdHk6IG9wdGlvbnMuaGVpZ2h0IC8gMTAwICogNDUsXG5cdFx0XHRcdFx0XHRkYW1wZXI6IDAuMDg1XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcImV2XCI6IHtcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMud2lkdGggLyAyLFxuXHRcdFx0XHRcdFx0eTogb3B0aW9ucy5oZWlnaHQgLyAxMDAgKiA1NSxcblx0XHRcdFx0XHRcdGRhbXBlcjogMC4wODVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBjcmVhdGVfbm9kZXMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKHNjb3BlLmluZGV4ZXIuZGF0YV90cmVlLCBmdW5jdGlvbihncm91cCl7XG5cdFx0XHRcdFx0XHRhbmd1bGFyLmZvckVhY2goZ3JvdXAuY2hpbGRyZW4sIGZ1bmN0aW9uKGl0ZW0pe1xuXHRcdFx0XHRcdFx0XHRub2Rlcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBpdGVtLmNvbHVtbl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdHJhZGl1czogc2NvcGUuY2hhcnRkYXRhW2l0ZW0uY29sdW1uX25hbWVdIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhW2l0ZW0uY29sdW1uX25hbWVdIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdFx0XHRuYW1lOml0ZW0udGl0bGUsXG5cdFx0XHRcdFx0XHRcdFx0Z3JvdXA6IGdyb3VwLmNvbHVtbl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRcdHg6IG9wdGlvbnMuY2VudGVyLngsXG5cdFx0XHRcdFx0XHRcdFx0eTogb3B0aW9ucy5jZW50ZXIueSxcblx0XHRcdFx0XHRcdFx0XHRjb2xvcjppdGVtLmNvbG9yLFxuXHRcdFx0XHRcdFx0XHRcdGljb246aXRlbS5pY29uLFxuXHRcdFx0XHRcdFx0XHRcdHVuaWNvZGU6IGl0ZW0udW5pY29kZSxcblx0XHRcdFx0XHRcdFx0XHRkYXRhOiBpdGVtXG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBjcmVhdGVfdmlzID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdGFuZ3VsYXIuZWxlbWVudChlbGVtKS5odG1sKCcnKTtcblx0XHRcdFx0XHRvcHRpb25zLnZpcyA9IGQzLnNlbGVjdChlbGVtWzBdKS5hcHBlbmQoXCJzdmdcIikuYXR0cihcIndpZHRoXCIsIG9wdGlvbnMud2lkdGgpLmF0dHIoXCJoZWlnaHRcIiwgb3B0aW9ucy5oZWlnaHQpLmF0dHIoXCJpZFwiLCBcInN2Z192aXNcIik7XG5cdFx0XHRcdFx0dmFyIHBpID0gTWF0aC5QSTtcblx0XHRcdFx0XHR2YXIgYXJjVG9wID0gZDMuc3ZnLmFyYygpXG5cdFx0XHRcdFx0XHQuaW5uZXJSYWRpdXMoMTA5KVxuXHRcdFx0XHRcdFx0Lm91dGVyUmFkaXVzKDExMClcblx0XHRcdFx0XHRcdC5zdGFydEFuZ2xlKC05MCAqIChwaSAvIDE4MCkpIC8vY29udmVydGluZyBmcm9tIGRlZ3MgdG8gcmFkaWFuc1xuXHRcdFx0XHRcdFx0LmVuZEFuZ2xlKDkwICogKHBpIC8gMTgwKSk7IC8vanVzdCByYWRpYW5zXG5cdFx0XHRcdFx0dmFyIGFyY0JvdHRvbSA9IGQzLnN2Zy5hcmMoKVxuXHRcdFx0XHRcdFx0LmlubmVyUmFkaXVzKDEzNClcblx0XHRcdFx0XHRcdC5vdXRlclJhZGl1cygxMzUpXG5cdFx0XHRcdFx0XHQuc3RhcnRBbmdsZSg5MCAqIChwaSAvIDE4MCkpIC8vY29udmVydGluZyBmcm9tIGRlZ3MgdG8gcmFkaWFuc1xuXHRcdFx0XHRcdFx0LmVuZEFuZ2xlKDI3MCAqIChwaSAvIDE4MCkpOyAvL2p1c3QgcmFkaWFuc1xuXG5cdFx0XHRcdFx0b3B0aW9ucy5hcmNUb3AgPSBvcHRpb25zLnZpcy5hcHBlbmQoXCJwYXRoXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImRcIiwgYXJjVG9wKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJmaWxsXCIsIFwiI2JlNWYwMFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTcwLDE0MClcIik7XG5cdFx0XHRcdFx0b3B0aW9ucy5hcmNCb3R0b20gPSBvcHRpb25zLnZpcy5hcHBlbmQoXCJwYXRoXCIpXG5cdFx0XHRcdFx0XHQuYXR0cihcImRcIiwgYXJjQm90dG9tKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJmaWxsXCIsIFwiIzAwNmJiNlwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMTcwLDE4MClcIik7XG5cdFx0XHRcdFx0b3B0aW9ucy5jb250YWluZXJzID0gb3B0aW9ucy52aXMuc2VsZWN0QWxsKCdnLm5vZGUnKS5kYXRhKG5vZGVzKS5lbnRlcigpLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChvcHRpb25zLndpZHRoIC8gMikgKyAnLCcgKyAob3B0aW9ucy5oZWlnaHQgLyAyKSArICcpJykuYXR0cignY2xhc3MnLCAnbm9kZScpO1xuXG5cdFx0XHRcdFx0LypvcHRpb25zLmNpcmNsZXMgPSBvcHRpb25zLmNvbnRhaW5lcnMuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLmRhdGEobm9kZXMsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZC5pZDtcblx0XHRcdFx0XHR9KTsqL1xuXG5cdFx0XHRcdFx0b3B0aW9ucy5jaXJjbGVzID0gb3B0aW9ucy5jb250YWluZXJzLmFwcGVuZChcImNpcmNsZVwiKS5hdHRyKFwiclwiLCAwKS5hdHRyKFwiZmlsbFwiLCAoZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkLmNvbG9yIHx8IG9wdGlvbnMuZmlsbF9jb2xvcihkLmdyb3VwKTtcblx0XHRcdFx0XHR9KSkuYXR0cihcInN0cm9rZS13aWR0aFwiLCAwKS5hdHRyKFwic3Ryb2tlXCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZDMucmdiKG9wdGlvbnMuZmlsbF9jb2xvcihkLmdyb3VwKSkuZGFya2VyKCk7XG5cdFx0XHRcdFx0fSkuYXR0cihcImlkXCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gXCJidWJibGVfXCIgKyBkLmlkO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuaWNvbnMgPSBvcHRpb25zLmNvbnRhaW5lcnMuYXBwZW5kKFwidGV4dFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ0VQSScpXG5cdFx0XHRcdFx0XHQuYXR0cignZm9udC1zaXplJywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0MFxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcblx0XHRcdFx0XHRcdC5hdHRyKCdmaWxsJywgJyNmZmYnKVxuXHRcdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGQudW5pY29kZVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0b3B0aW9ucy5pY29ucy5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHNob3dfZGV0YWlscyhkLCBpLCB0aGlzKTtcblx0XHRcdFx0XHR9KS5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gaGlkZV9kZXRhaWxzKGQsIGksIHRoaXMpO1xuXHRcdFx0XHRcdH0pLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oZCwgaSl7XG5cdFx0XHRcdFx0XHRuZ01vZGVsLiRzZXRWaWV3VmFsdWUoZCk7XG5cdFx0XHRcdFx0XHRuZ01vZGVsLiRyZW5kZXIoKTtcblx0XHRcdFx0XHRcblxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuY2lyY2xlcy50cmFuc2l0aW9uKCkuZHVyYXRpb24ob3B0aW9ucy5kdXJhdGlvbikuYXR0cihcInJcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkLnJhZGl1cztcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRvcHRpb25zLmljb25zLnRyYW5zaXRpb24oKS5kdXJhdGlvbihvcHRpb25zLmR1cmF0aW9uKS5hdHRyKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZC5yYWRpdXMgKiAxLjc1ICsgJ3B4Jztcblx0XHRcdFx0XHR9KS5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkLnJhZGl1cyAqIC43NSArICdweCc7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciB1cGRhdGVfdmlzID0gZnVuY3Rpb24gKCkge1xuXG5cdFx0XHRcdFx0bm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0XHRcdFx0b3B0aW9ucy5jaXJjbGVzLnRyYW5zaXRpb24oKS5kdXJhdGlvbihvcHRpb25zLmR1cmF0aW9uKS5kZWxheShpICogb3B0aW9ucy5kdXJhdGlvbilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZC5yYWRpdXMgPSBkLnZhbHVlID0gc2NvcGUuY2hhcnRkYXRhW2QudHlwZV0gLyBzY29wZS5zaXplZmFjdG9yO1xuXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHNjb3BlLmNoYXJ0ZGF0YVtkLnR5cGVdIC8gc2NvcGUuc2l6ZWZhY3Rvcjtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRvcHRpb25zLmljb25zLnRyYW5zaXRpb24oKS5kdXJhdGlvbihvcHRpb25zLmR1cmF0aW9uKS5kZWxheShpICogb3B0aW9ucy5kdXJhdGlvbilcblx0XHRcdFx0XHRcdFx0LmF0dHIoXCJmb250LXNpemVcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKHNjb3BlLmNoYXJ0ZGF0YVtkLnR5cGVdIC8gc2NvcGUuc2l6ZWZhY3RvcikgKiAxLjc1ICsgJ3B4J1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdFx0XHQuYXR0cigneScsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIChzY29wZS5jaGFydGRhdGFbZC50eXBlXSAvIHNjb3BlLnNpemVmYWN0b3IpICogLjc1ICsgJ3B4Jztcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIGNoYXJnZSA9IGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIC1NYXRoLnBvdyhkLnJhZGl1cywgMi4wKSAvIDQ7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBzdGFydCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRyZXR1cm4gb3B0aW9ucy5mb3JjZSA9IGQzLmxheW91dC5mb3JjZSgpLm5vZGVzKG5vZGVzKS5zaXplKFtvcHRpb25zLndpZHRoLCBvcHRpb25zLmhlaWdodF0pLmxpbmtzKGxpbmtzKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIGRpc3BsYXlfZ3JvdXBfYWxsID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdG9wdGlvbnMuZm9yY2UuZ3Jhdml0eShvcHRpb25zLmxheW91dF9ncmF2aXR5KS5jaGFyZ2UoY2hhcmdlKS5mcmljdGlvbigwLjkpLm9uKFwidGlja1wiLCBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9wdGlvbnMuY2lyY2xlcy5lYWNoKG1vdmVfdG93YXJkc19jZW50ZXIoZS5hbHBoYSkpLmF0dHIoJ2N4JywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGQueDtcblx0XHRcdFx0XHRcdH0pLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZC55O1xuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRvcHRpb25zLmZvcmNlLnN0YXJ0KCk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBkaXNwbGF5X2J5X2NhdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRvcHRpb25zLmZvcmNlLmdyYXZpdHkob3B0aW9ucy5sYXlvdXRfZ3Jhdml0eSkuY2hhcmdlKGNoYXJnZSkuZnJpY3Rpb24oMC45KS5vbihcInRpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdG9wdGlvbnMuY29udGFpbmVycy5lYWNoKG1vdmVfdG93YXJkc19jYXQoZS5hbHBoYSkpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuZm9yY2Uuc3RhcnQoKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIG1vdmVfdG93YXJkc19jZW50ZXIgPSBmdW5jdGlvbiAoYWxwaGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gKGZ1bmN0aW9uIChfdGhpcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdGQueCA9IGQueCArIChvcHRpb25zLmNlbnRlci54IC0gZC54KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGE7XG5cdFx0XHRcdFx0XHRcdGQueSA9IGQueSArIChvcHRpb25zLmNlbnRlci55IC0gZC55KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkodGhpcyk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBtb3ZlX3Rvd2FyZHNfdG9wID0gZnVuY3Rpb24gKGFscGhhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChmdW5jdGlvbiAoX3RoaXMpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRkLnggPSBkLnggKyAob3B0aW9ucy5jZW50ZXIueCAtIGQueCkgKiAob3B0aW9ucy5kYW1wZXIgKyAwLjAyKSAqIGFscGhhICogMS4xO1xuXHRcdFx0XHRcdFx0XHRkLnkgPSBkLnkgKyAoMjAwIC0gZC55KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGEgKiAxLjE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkodGhpcyk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBtb3ZlX3Rvd2FyZHNfY2F0ID0gZnVuY3Rpb24gKGFscGhhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChmdW5jdGlvbiAoX3RoaXMpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGFyZ2V0O1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQgPSBvcHRpb25zLmNhdF9jZW50ZXJzW2QuZ3JvdXBdO1xuXHRcdFx0XHRcdFx0XHRkLnggPSBkLnggKyAodGFyZ2V0LnggLSBkLngpICogKHRhcmdldC5kYW1wZXIgKyAwLjAyKSAqIGFscGhhICogMTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGQueSA9IGQueSArICh0YXJnZXQueSAtIGQueSkgKiAodGFyZ2V0LmRhbXBlciArIDAuMDIpICogYWxwaGEgKiAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKHRoaXMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgc2hvd19kZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGksIGVsZW1lbnQpIHtcblx0XHRcdFx0XHR2YXIgY29udGVudDtcblx0XHRcdFx0XHRjb250ZW50ID0gXCI8c3BhbiBjbGFzcz1cXFwidGl0bGVcXFwiPlwiICsgZGF0YS5uYW1lICsgXCI6PC9zcGFuPjxici8+XCI7XG5cdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKGRhdGEuZGF0YS5jaGlsZHJlbiwgZnVuY3Rpb24oaW5mbyl7XG5cdFx0XHRcdFx0XHRjb250ZW50ICs9IFwiPHNwYW4gY2xhc3M9XFxcIm5hbWVcXFwiIHN0eWxlPVxcXCJjb2xvcjpcIisoaW5mby5jb2xvciB8fCBkYXRhLmNvbG9yKStcIlxcXCI+IFwiICsgKGluZm8udGl0bGUpICsgXCI8L3NwYW4+PGJyLz5cIjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQkY29tcGlsZShvcHRpb25zLnRvb2x0aXAuc2hvd1Rvb2x0aXAoY29udGVudCwgZGF0YSwgZDMuZXZlbnQpLmNvbnRlbnRzKCkpKHNjb3BlKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR2YXIgaGlkZV9kZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGksIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gb3B0aW9ucy50b29sdGlwLmhpZGVUb29sdGlwKCk7XG5cdFx0XHRcdH07XG5cblx0XHRcdFx0c2NvcGUuJHdhdGNoKCdjaGFydGRhdGEnLCBmdW5jdGlvbiAoZGF0YSwgb2xkRGF0YSkge1xuXHRcdFx0XHRcdG9wdGlvbnMudG9vbHRpcC5oaWRlVG9vbHRpcCgpO1xuXHRcdFx0XHRcdGlmIChvcHRpb25zLmNpcmNsZXMgPT0gbnVsbCkge1xuXHRcdFx0XHRcdFx0Y3JlYXRlX25vZGVzKCk7XG5cdFx0XHRcdFx0XHRjcmVhdGVfdmlzKCk7XG5cdFx0XHRcdFx0XHRzdGFydCgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR1cGRhdGVfdmlzKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRpc3BsYXlfYnlfY2F0KCk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdHNjb3BlLiR3YXRjaCgnZGlyZWN0aW9uJywgZnVuY3Rpb24gKG9sZEQsIG5ld0QpIHtcblx0XHRcdFx0XHRpZiAob2xkRCA9PT0gbmV3RCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAob2xkRCA9PSBcImFsbFwiKSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5X2dyb3VwX2FsbCgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkaXNwbGF5X2J5X2NhdCgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoICdhcHAuY29udHJvbGxlcnMnICkuY29udHJvbGxlciggJ0NpcmNsZWdyYXBoQ3RybCcsIGZ1bmN0aW9uKCl7XG5cdFx0Ly9cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJykuZGlyZWN0aXZlKCdjaXJjbGVncmFwaCcsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBkZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0d2lkdGg6IDgwLFxuXHRcdFx0XHRoZWlnaHQ6IDgwLFxuXHRcdFx0XHRjb2xvcjogJyMwMGNjYWEnLFxuXHRcdFx0XHRzaXplOiAxNzhcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0XHRjb250cm9sbGVyOiAnQ2lyY2xlZ3JhcGhDdHJsJyxcblx0XHRcdHNjb3BlOiB0cnVlLFxuXHRcdFx0cmVxdWlyZTogJ25nTW9kZWwnLFxuXHRcdFx0bGluazogZnVuY3Rpb24oJHNjb3BlLCBlbGVtZW50LCAkYXR0cnMsIG5nTW9kZWwpIHtcblx0XHRcdFx0Ly9GZXRjaGluZyBPcHRpb25zXG5cdFx0XHRcdHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoZGVmYXVsdHMoKSwgJGF0dHJzKTtcblxuXHRcdFx0XHQvL0NyZWF0aW5nIHRoZSBTY2FsZVxuXHRcdFx0XHR2YXIgcm90YXRlID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0XHQuZG9tYWluKFsxLCBvcHRpb25zLnNpemVdKVxuXHRcdFx0XHRcdC5yYW5nZShbMSwgMF0pXG5cdFx0XHRcdFx0LmNsYW1wKHRydWUpO1xuXG5cdFx0XHRcdC8vQ3JlYXRpbmcgRWxlbWVudHNcblx0XHRcdFx0dmFyIHN2ZyA9IGQzLnNlbGVjdChlbGVtZW50WzBdKS5hcHBlbmQoJ3N2ZycpXG5cdFx0XHRcdFx0LmF0dHIoJ3dpZHRoJywgb3B0aW9ucy53aWR0aClcblx0XHRcdFx0XHQuYXR0cignaGVpZ2h0Jywgb3B0aW9ucy5oZWlnaHQpXG5cdFx0XHRcdFx0LmFwcGVuZCgnZycpO1xuXHRcdFx0XHR2YXIgY29udGFpbmVyID0gc3ZnLmFwcGVuZCgnZycpXG5cdFx0XHRcdFx0LmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG9wdGlvbnMud2lkdGggLyAyICsgJywnICsgb3B0aW9ucy5oZWlnaHQgLyAyICsgJyknKTtcblx0XHRcdFx0dmFyIGNpcmNsZUJhY2sgPSBjb250YWluZXIuYXBwZW5kKCdjaXJjbGUnKVxuXHRcdFx0XHRcdC5hdHRyKCdyJywgb3B0aW9ucy53aWR0aCAvIDIgLSAyKVxuXHRcdFx0XHRcdC5hdHRyKCdzdHJva2Utd2lkdGgnLCAyKVxuXHRcdFx0XHRcdC5hdHRyKCdzdHJva2UnLCBvcHRpb25zLmNvbG9yKVxuXHRcdFx0XHRcdC5zdHlsZSgnb3BhY2l0eScsICcwLjYnKVxuXHRcdFx0XHRcdC5hdHRyKCdmaWxsJywgJ25vbmUnKTtcblx0XHRcdFx0dmFyIGFyYyA9IGQzLnN2Zy5hcmMoKVxuXHRcdFx0XHRcdC5zdGFydEFuZ2xlKDApXG5cdFx0XHRcdFx0LmlubmVyUmFkaXVzKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBvcHRpb25zLndpZHRoIC8gMiAtIDQ7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQub3V0ZXJSYWRpdXMoZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG9wdGlvbnMud2lkdGggLyAyO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR2YXIgY2lyY2xlR3JhcGggPSBjb250YWluZXIuYXBwZW5kKCdwYXRoJylcblx0XHRcdFx0XHQuZGF0dW0oe1xuXHRcdFx0XHRcdFx0ZW5kQW5nbGU6IDIgKiBNYXRoLlBJICogMFxuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LnN0eWxlKFwiZmlsbFwiLCBvcHRpb25zLmNvbG9yKVxuXHRcdFx0XHRcdC5hdHRyKCdkJywgYXJjKTtcblx0XHRcdFx0dmFyIHRleHQgPSBjb250YWluZXIuc2VsZWN0QWxsKCd0ZXh0Jylcblx0XHRcdFx0XHQuZGF0YShbMF0pXG5cdFx0XHRcdFx0LmVudGVyKClcblx0XHRcdFx0XHQuYXBwZW5kKCd0ZXh0Jylcblx0XHRcdFx0XHQudGV4dChmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZCArICcvJyArIG9wdGlvbnMuc2l6ZTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuXHRcdFx0XHRcdC5hdHRyKCd5JywgJzAuMzVlbScpO1xuXG5cdFx0XHRcdC8vVHJhbnNpdGlvbiBpZiBzZWxlY3Rpb24gaGFzIGNoYW5nZWRcblx0XHRcdFx0ZnVuY3Rpb24gYW5pbWF0ZUl0KHJhZGl1cykge1xuXHRcdFx0XHRcdGNpcmNsZUdyYXBoLnRyYW5zaXRpb24oKVxuXHRcdFx0XHRcdFx0LmR1cmF0aW9uKDc1MClcblx0XHRcdFx0XHRcdC5jYWxsKGFyY1R3ZWVuLCByb3RhdGUocmFkaXVzKSAqIDIgKiBNYXRoLlBJKTtcblx0XHRcdFx0XHR0ZXh0LnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApLnR3ZWVuKCd0ZXh0JywgZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0dmFyIGRhdGEgPSB0aGlzLnRleHRDb250ZW50LnNwbGl0KFwiL1wiKTtcblx0XHRcdFx0XHRcdHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZGF0YVswXSwgcmFkaXVzKTtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0XHRcdHRoaXMudGV4dENvbnRlbnQgPSAoTWF0aC5yb3VuZChpKHQpICogMSkgLyAxKSArICcvJyArIG9wdGlvbnMuc2l6ZTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vVHdlZW4gYW5pbWF0aW9uIGZvciB0aGUgQXJjXG5cdFx0XHRcdGZ1bmN0aW9uIGFyY1R3ZWVuKHRyYW5zaXRpb24sIG5ld0FuZ2xlKSB7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbi5hdHRyVHdlZW4oXCJkXCIsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdHZhciBpbnRlcnBvbGF0ZSA9IGQzLmludGVycG9sYXRlKGQuZW5kQW5nbGUsIG5ld0FuZ2xlKTtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbih0KSB7XG5cdFx0XHRcdFx0XHRcdGQuZW5kQW5nbGUgPSBpbnRlcnBvbGF0ZSh0KTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGFyYyhkKTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL1dhdGNoaW5nIGlmIHNlbGVjdGlvbiBoYXMgY2hhbmdlZCBmcm9tIGFub3RoZXIgVUkgZWxlbWVudFxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKFxuXHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG5nTW9kZWwuJG1vZGVsVmFsdWU7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdGFuaW1hdGVJdChuZXdWYWx1ZS5yYW5rKVxuXHRcdFx0XHRcdH0sIHRydWUpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0fSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdEYXRhTGlzdGluZ0N0cmwnLCBmdW5jdGlvbigpe1xuXHRcdC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJykuZGlyZWN0aXZlKCAnZGF0YUxpc3RpbmcnLCBmdW5jdGlvbigpIHtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0VBJyxcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9kYXRhX2xpc3RpbmcvZGF0YV9saXN0aW5nLmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0RhdGFMaXN0aW5nQ3RybCcsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiggJHNjb3BlLCBlbGVtZW50LCAkYXR0cnMgKXtcblx0XHRcdFx0Ly9cblx0XHRcdH1cblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmRpcmVjdGl2ZSggJ2dyYWRpZW50JywgZnVuY3Rpb24oKSB7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzdHJpY3Q6ICdFQScsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZ3JhZGllbnQvZ3JhZGllbnQuaHRtbCcsXG5cdFx0XHRjb250cm9sbGVyOiAnR3JhZGllbnRDdHJsJyxcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCAkc2NvcGUsIGVsZW1lbnQsICRhdHRycyApe1xuXHRcdFx0XHQvL1xuXHRcdFx0fVxuXHRcdH07XG5cblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoICdhcHAuY29udHJvbGxlcnMnICkuY29udHJvbGxlciggJ0dyYWRpZW50Q3RybCcsIGZ1bmN0aW9uKCl7XG5cdFx0Ly9cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5kaXJlY3RpdmVzJykuZGlyZWN0aXZlKCdtZWRpYW4nLCBmdW5jdGlvbigkdGltZW91dCkge1xuXHRcdHZhciBkZWZhdWx0cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0aWQ6ICdncmFkaWVudCcsXG5cdFx0XHRcdHdpZHRoOiAzNDAsXG5cdFx0XHRcdGhlaWdodDogNDAsXG5cdFx0XHRcdG1hcmdpbjoge1xuXHRcdFx0XHRcdGxlZnQ6IDIwLFxuXHRcdFx0XHRcdHJpZ2h0OiAyMCxcblx0XHRcdFx0XHR0b3A6IDEwLFxuXHRcdFx0XHRcdGJvdHRvbTogMTBcblx0XHRcdFx0fSxcblx0XHRcdFx0Y29sb3JzOiBbe1xuXHRcdFx0XHRcdHBvc2l0aW9uOiAwLFxuXHRcdFx0XHRcdGNvbG9yOiAncmdiYSgyNTUsMjU1LDI1NSwxKScsXG5cdFx0XHRcdFx0b3BhY2l0eTogMFxuXHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0cG9zaXRpb246IDUzLFxuXHRcdFx0XHRcdGNvbG9yOiAncmdiYSgxMjgsIDI0MywgMTk4LDEpJyxcblx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogMTAwLFxuXHRcdFx0XHRcdGNvbG9yOiAncmdiYSgxMDIsMTAyLDEwMiwxKScsXG5cdFx0XHRcdFx0b3BhY2l0eTogMVxuXHRcdFx0XHR9XVxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0XHRkYXRhOiAnPSdcblx0XHRcdH0sXG5cdFx0XHRyZXF1aXJlOiAnbmdNb2RlbCcsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQsICRhdHRycywgbmdNb2RlbCkge1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRzKCksICRhdHRycyk7XG5cdFx0XHRcdHZhciB4ID0gZDMuc2NhbGUubGluZWFyKClcblx0XHRcdFx0XHQuZG9tYWluKFswLCAxMDBdKVxuXHRcdFx0XHRcdC5yYW5nZShbMjAsIG9wdGlvbnMud2lkdGggLSBvcHRpb25zLm1hcmdpbi5sZWZ0XSlcblx0XHRcdFx0XHQuY2xhbXAodHJ1ZSk7XG5cblx0XHRcdFx0dmFyIGJydXNoID0gZDMuc3ZnLmJydXNoKClcblx0XHRcdFx0XHQueCh4KVxuXHRcdFx0XHRcdC5leHRlbnQoWzAsIDBdKVxuXHRcdFx0XHRcdC5vbihcImJydXNoXCIsIGJydXNoKVxuXHRcdFx0XHRcdC5vbihcImJydXNoZW5kXCIsIGJydXNoZWQpO1xuXG5cdFx0XHRcdHZhciBzdmcgPSBkMy5zZWxlY3QoZWxlbWVudFswXSkuYXBwZW5kKFwic3ZnXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBvcHRpb25zLndpZHRoKVxuXHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG9wdGlvbnMuaGVpZ2h0ICsgb3B0aW9ucy5tYXJnaW4udG9wICsgb3B0aW9ucy5tYXJnaW4uYm90dG9tKVxuXHRcdFx0XHRcdC5hcHBlbmQoXCJnXCIpO1xuXHRcdFx0XHRcdC8vLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIG9wdGlvbnMubWFyZ2luLnRvcCAvIDIgKyBcIilcIik7XG5cdFx0XHRcdHZhciBncmFkaWVudCA9IHN2Zy5hcHBlbmQoJ3N2ZzpkZWZzJylcblx0XHRcdFx0XHQuYXBwZW5kKFwic3ZnOmxpbmVhckdyYWRpZW50XCIpXG5cdFx0XHRcdFx0LmF0dHIoJ2lkJywgb3B0aW9ucy5pZClcblx0XHRcdFx0XHQuYXR0cigneDEnLCAnMCUnKVxuXHRcdFx0XHRcdC5hdHRyKCd5MScsICcwJScpXG5cdFx0XHRcdFx0LmF0dHIoJ3gyJywgJzEwMCUnKVxuXHRcdFx0XHRcdC5hdHRyKCd5MicsICcwJScpXG5cdFx0XHRcdFx0LmF0dHIoJ3NwcmVhZE1ldGhvZCcsICdwYWQnKVxuXHRcdFx0XHRhbmd1bGFyLmZvckVhY2gob3B0aW9ucy5jb2xvcnMsIGZ1bmN0aW9uKGNvbG9yKSB7XG5cdFx0XHRcdFx0Z3JhZGllbnQuYXBwZW5kKCdzdmc6c3RvcCcpXG5cdFx0XHRcdFx0XHQuYXR0cignb2Zmc2V0JywgY29sb3IucG9zaXRpb24gKyAnJScpXG5cdFx0XHRcdFx0XHQuYXR0cignc3RvcC1jb2xvcicsIGNvbG9yLmNvbG9yKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ3N0b3Atb3BhY2l0eScsIGNvbG9yLm9wYWNpdHkpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0c3ZnLmFwcGVuZCgnc3ZnOnJlY3QnKVxuXHRcdFx0XHRcdC5hdHRyKCd3aWR0aCcsIG9wdGlvbnMud2lkdGgpXG5cdFx0XHRcdFx0LmF0dHIoJ2hlaWdodCcsIG9wdGlvbnMuaGVpZ2h0KVxuXHRcdFx0XHRcdC5zdHlsZSgnZmlsbCcsICd1cmwoIycgKyBvcHRpb25zLmlkICsgJyknKTtcblx0XHRcdFx0dmFyIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBvcHRpb25zLmhlaWdodCAvIDIgKyAnLCAnICsgb3B0aW9ucy5oZWlnaHQgLyAyICsgJyknKVxuXHRcdFx0XHRcdC5hdHRyKCdjbGFzcycsICdzdGFydExhYmVsJylcblx0XHRcdFx0bGVnZW5kLmFwcGVuZCgnY2lyY2xlJylcblx0XHRcdFx0XHQuYXR0cigncicsIG9wdGlvbnMuaGVpZ2h0IC8gMilcblxuXHRcdFx0XHRsZWdlbmQuYXBwZW5kKCd0ZXh0Jylcblx0XHRcdFx0XHQudGV4dCgwKVxuXHRcdFx0XHRcdC5hdHRyKCd0ZXh0LWFuY2hvcicsICdtaWRkbGUnKVxuXHRcdFx0XHRcdC5hdHRyKCd5JywgJy4zNWVtJylcblxuXHRcdFx0XHR2YXIgbGVnZW5kMiA9IHN2Zy5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAob3B0aW9ucy53aWR0aCAtIChvcHRpb25zLmhlaWdodCAvIDIpKSArICcsICcgKyBvcHRpb25zLmhlaWdodCAvIDIgKyAnKScpXG5cdFx0XHRcdFx0LmF0dHIoJ2NsYXNzJywgJ2VuZExhYmVsJylcblx0XHRcdFx0bGVnZW5kMi5hcHBlbmQoJ2NpcmNsZScpXG5cdFx0XHRcdFx0LmF0dHIoJ3InLCBvcHRpb25zLmhlaWdodCAvIDIpXG5cblx0XHRcdFx0bGVnZW5kMi5hcHBlbmQoJ3RleHQnKVxuXHRcdFx0XHRcdC50ZXh0KDEwMClcblx0XHRcdFx0XHQuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcblx0XHRcdFx0XHQuYXR0cigneScsICcuMzVlbScpXG5cblx0XHRcdFx0dmFyIHNsaWRlciA9IHN2Zy5hcHBlbmQoXCJnXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcInNsaWRlclwiKVxuXHRcdFx0XHRcdC5jYWxsKGJydXNoKTtcblxuXHRcdFx0XHRzbGlkZXIuc2VsZWN0KFwiLmJhY2tncm91bmRcIilcblx0XHRcdFx0XHQuYXR0cihcImhlaWdodFwiLCBvcHRpb25zLmhlaWdodCk7XG5cdFx0XHRcdHNsaWRlci5hcHBlbmQoJ2xpbmUnKVxuXHRcdFx0XHRcdC5hdHRyKCd4MScsIG9wdGlvbnMud2lkdGggLyAyKVxuXHRcdFx0XHRcdC5hdHRyKCd5MScsIDApXG5cdFx0XHRcdFx0LmF0dHIoJ3gyJywgb3B0aW9ucy53aWR0aCAvIDIpXG5cdFx0XHRcdFx0LmF0dHIoJ3kyJywgb3B0aW9ucy5oZWlnaHQpXG5cdFx0XHRcdFx0LmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMywzJylcblx0XHRcdFx0XHQuYXR0cignc3Ryb2tlLXdpZHRoJywgMSlcblx0XHRcdFx0XHQuYXR0cignc3Ryb2tlJywgJ3JnYmEoMCwwLDAsODcpJyk7XG5cdFx0XHRcdHZhciBoYW5kbGVDb250ID0gc2xpZGVyLmFwcGVuZCgnZycpXG5cdFx0XHRcdFx0LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIG9wdGlvbnMuaGVpZ2h0IC8gMiArIFwiKVwiKTtcblx0XHRcdFx0dmFyIGhhbmRsZSA9IGhhbmRsZUNvbnQuYXBwZW5kKFwiY2lyY2xlXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJjbGFzc1wiLCBcImhhbmRsZVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwiclwiLCBvcHRpb25zLmhlaWdodCAvIDIpO1xuXHRcdFx0XHR2YXIgaGFuZGxlTGFiZWwgPSBoYW5kbGVDb250LmFwcGVuZCgndGV4dCcpXG5cdFx0XHRcdFx0LnRleHQoMClcblx0XHRcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpLmF0dHIoJ3knLCAnMC4zZW0nKTtcblxuXHRcdFx0XHRzbGlkZXJcblx0XHRcdFx0XHQuY2FsbChicnVzaC5leHRlbnQoWzAsIDBdKSlcblx0XHRcdFx0XHQuY2FsbChicnVzaC5ldmVudCk7XG5cblx0XHRcdFx0ZnVuY3Rpb24gYnJ1c2goKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gYnJ1c2guZXh0ZW50KClbMF07XG5cblx0XHRcdFx0XHRpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQpIHsgLy8gbm90IGEgcHJvZ3JhbW1hdGljIGV2ZW50XG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHguaW52ZXJ0KGQzLm1vdXNlKHRoaXMpWzBdKTtcblx0XHRcdFx0XHRcdGJydXNoLmV4dGVudChbdmFsdWUsIHZhbHVlXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGhhbmRsZUxhYmVsLnRleHQocGFyc2VJbnQodmFsdWUpKTtcblx0XHRcdFx0XHRoYW5kbGVDb250LmF0dHIoXCJ0cmFuc2Zvcm1cIiwgJ3RyYW5zbGF0ZSgnICsgeCh2YWx1ZSkgKyAnLCcgKyBvcHRpb25zLmhlaWdodCAvIDIgKyAnKScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZnVuY3Rpb24gYnJ1c2hlZCgpIHtcblx0XHRcdFx0XHR2YXIgdmFsdWUgPSBicnVzaC5leHRlbnQoKVswXSxcblx0XHRcdFx0XHRcdGNvdW50ID0gMCxcblx0XHRcdFx0XHRcdGZvdW5kID0gZmFsc2U7XG5cblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRhdGEsIGZ1bmN0aW9uKG5hdCwga2V5KSB7XG5cdFx0XHRcdFx0XHRcdGlmIChwYXJzZUludChuYXQuc2NvcmUpID09IHBhcnNlSW50KHZhbHVlKSkge1xuXHRcdFx0XHRcdFx0XHRcdG5nTW9kZWwuJHNldFZpZXdWYWx1ZShuYXQpO1xuXHRcdFx0XHRcdFx0XHRcdG5nTW9kZWwuJHJlbmRlcigpO1xuXHRcdFx0XHRcdFx0XHRcdGZvdW5kID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZSA+IDUwID8gdmFsdWUgLSAxIDogdmFsdWUgKyAxO1xuXHRcdFx0XHRcdH0gd2hpbGUgKCFmb3VuZCAmJiBjb3VudCA8IDEwMClcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCRzY29wZS4kd2F0Y2goXG5cdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbmdNb2RlbC4kbW9kZWxWYWx1ZTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuXHRcdFx0XHRcdFx0aWYgKG5ld1ZhbHVlID09PSBvbGRWYWx1ZSlcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0aGFuZGxlTGFiZWwudGV4dChwYXJzZUludChuZXdWYWx1ZS5zY29yZSkpO1xuXHRcdFx0XHRcdFx0aGFuZGxlQ29udC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNTAwKS5lYXNlKCdxdWFkJykuYXR0cihcInRyYW5zZm9ybVwiLCAndHJhbnNsYXRlKCcgKyB4KG5ld1ZhbHVlLnNjb3JlKSArICcsJyArIG9wdGlvbnMuaGVpZ2h0IC8gMiArICcpJyk7XG5cdFx0XHRcdFx0fSwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHR9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSggJ2FwcC5jb250cm9sbGVycycgKS5jb250cm9sbGVyKCAnTWVkaWFuQ3RybCcsIGZ1bmN0aW9uKCl7XG5cdFx0Ly9cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRpcmVjdGl2ZXMnKS5kaXJlY3RpdmUoICdzdWJpbmRleCcsIGZ1bmN0aW9uKCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0UnLFxuXHRcdFx0c2NvcGU6e1xuXHRcdFx0XHRjb3VudHJ5Oic9Jyxcblx0XHRcdFx0c2VsZWN0ZWQ6ICc9J1xuXHRcdFx0fSxcblx0XHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9zdWJpbmRleC9zdWJpbmRleC5odG1sJyxcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCAkc2NvcGUsIGVsZW1lbnQsICRhdHRycyApe1xuXHRcdFx0XHQkc2NvcGUuY2hhcnQgPSB7XG5cdFx0XHRcdFx0b3B0aW9uczoge1xuXHRcdFx0XHRcdFx0Y2hhcnQ6IHtcblx0XHRcdFx0XHRcdFx0dHlwZTogJ2xpbmVDaGFydCcsXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogMjAwLFxuXHRcdFx0XHRcdFx0XHRsZWdlbmRQb3NpdGlvbjonYm90dG9tJyxcblx0XHRcdFx0XHRcdFx0bWFyZ2luOiB7XG5cdFx0XHRcdFx0XHRcdFx0dG9wOiAyMCxcblx0XHRcdFx0XHRcdFx0XHRyaWdodDogMjAsXG5cdFx0XHRcdFx0XHRcdFx0Ym90dG9tOiAyMCxcblx0XHRcdFx0XHRcdFx0XHRsZWZ0OiA0MFxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHR4OiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBkLng7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHk6IGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuIGQueTtcblx0XHRcdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRcdFx0c2hvd1ZhbHVlczogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdHRyYW5zaXRpb25EdXJhdGlvbjogNTAwLFxuXHRcdFx0XHRcdFx0XHRmb3JjZVk6WzEwMCwwXSxcblx0XHRcdFx0XHRcdFx0eEF4aXM6IHtcblx0XHRcdFx0XHRcdFx0XHRheGlzTGFiZWw6ICcnXG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdHlBeGlzOiB7XG5cdFx0XHRcdFx0XHRcdFx0YXhpc0xhYmVsOiAnJyxcblx0XHRcdFx0XHRcdFx0XHRheGlzTGFiZWxEaXN0YW5jZTogMzBcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZGF0YTogW11cblx0XHRcdFx0fTtcblx0XHRcdFx0JHNjb3BlLmNhbGN1bGF0ZUdyYXBoID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR2YXIgY2hhcnREYXRhID0gW107XG5cdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZWxlY3RlZC5kYXRhLmNoaWxkcmVuLCBmdW5jdGlvbihpdGVtLGtleSl7XG5cdFx0XHRcdFx0XHR2YXIgZ3JhcGggPSB7XG5cdFx0XHRcdFx0XHRcdGtleTppdGVtLnRpdGxlLFxuXHRcdFx0XHRcdFx0XHRjb2xvcjogaXRlbS5jb2xvcixcblx0XHRcdFx0XHRcdFx0dmFsdWVzIDpbXVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnRyeS5lcGksIGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHRcdFx0XHRcdGdyYXBoLnZhbHVlcy5wdXNoKHtcblx0XHRcdFx0XHRcdFx0XHR4OiBkYXRhLnllYXIsXG5cdFx0XHRcdFx0XHRcdFx0eTogZGF0YVtpdGVtLmNvbHVtbl9uYW1lXVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y2hhcnREYXRhLnB1c2goZ3JhcGgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdCRzY29wZS5jaGFydC5kYXRhID0gY2hhcnREYXRhO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHQkc2NvcGUuY2FsY3VsYXRlR3JhcGgoKTtcblx0XHRcdFx0JHNjb3BlLiR3YXRjaCgnc2VsZWN0ZWQnLCBmdW5jdGlvbihuZXdJdGVtLCBvbGRJdGVtKXtcblx0XHRcdFx0XHRpZihuZXdJdGVtID09PSBvbGRJdGVtKXtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coKTtcblx0XHRcdFx0XHQkc2NvcGUuY2FsY3VsYXRlR3JhcGgoKTtcblx0XHRcdFx0fSlcblx0XHRcdH1cblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdTdWJpbmRleEN0cmwnLCBmdW5jdGlvbigpe1xuXHRcdC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=