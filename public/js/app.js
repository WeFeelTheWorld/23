(function(){
	"use strict";

	var app = angular.module('app',
		[
		'app.controllers',
		'app.filters',
		'app.services',
		'app.directives',
		'app.routes',
		'app.config',
		]);


	angular.module('app.routes', ['ui.router', 'ngStorage', 'satellizer']);
	angular.module('app.controllers', ['ui.router', 'ngMaterial', 'ngStorage', 'restangular', 'ngMdIcons', 'angular-loading-bar', 'ngMessages', "leaflet-directive",'nvd3', 'ngCsvImport']);
	angular.module('app.filters', []);
	angular.module('app.services', ['ui.router', 'ngStorage', 'restangular']);
	angular.module('app.directives', []);
	angular.module('app.config', []);

})();

(function(){
	"use strict";

	angular.module('app.routes').config(["$stateProvider", "$urlRouterProvider", function($stateProvider, $urlRouterProvider){

		var getView = function(viewName){
			return '/views/app/' + viewName + '/' + viewName + '.html';
		};

		$urlRouterProvider.otherwise('/');

		$stateProvider
			.state('app', {
				abstract: true,
				views: {
				/*	sidebar: {
						templateUrl: getView('sidebar')
					},*/
					header: {
						templateUrl: getView('header')
					},
					main: {}
				}
			})
			.state('app.epi', {
				url: '/epi',
				data: {pageName: 'Environment Performance Index'},
				views: {
					'main@': {
						templateUrl: getView('epi')
					},
					'map@':{
						templateUrl: getView('map')
					}
				}
			}).state('app.importcsv', {
				url: '/importer',
				data: {pageName: 'Import CSV'},
				views: {
					'main@': {
						templateUrl: getView('importcsv')
					},
					'map':{}
				}
			});



	}]);
})();

(function(){
	"use strict";

	angular.module('app.routes').run(["$rootScope", function($rootScope){
		$rootScope.$on("$stateChangeStart", function(event, toState){

			if (toState.data && toState.data.pageName){
				$rootScope.current_page = toState.data.pageName;
			}


		});
		$rootScope.$on("$viewContentLoaded", function(event, toState){
			window.Prism.highlightAll();
		});
	}]);

})();

(function (){
    "use strict";

    angular.module('app.config').config(["$authProvider", function ($authProvider){
        // Satellizer configuration that specifies which API
        // route the JWT should be retrieved from
        $authProvider.loginUrl = '/api/1/authenticate/auth';
    }]);

})();

(function (){
	"use strict";

	angular.module('app.config').config(["cfpLoadingBarProvider", function (cfpLoadingBarProvider){
		cfpLoadingBarProvider.includeSpinner = false;
	}]);

})();

(function(){
	"use strict";

	angular.module('app.config').config( ["RestangularProvider", function(RestangularProvider) {
		RestangularProvider
		.setBaseUrl('/api/1/');
	}]);

})();

(function(){
	"use strict";

	angular.module('app.config').config(["$mdThemingProvider", function($mdThemingProvider) {
		/* For more info, visit https://material.angularjs.org/#/Theming/01_introduction */
		$mdThemingProvider.theme('default')
		.primaryPalette('indigo')
		.accentPalette('grey')
		.warnPalette('red');
	}]);

})();

(function(){
	"use strict";

	angular.module('app.filters').filter( 'capitalize', function(){
		return function(input, all) {
			return (!!input) ? input.replace(/([^\W_]+[^\s-]*) */g,function(txt){
				return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
			}) : '';
		};
	});
})();

(function(){
	"use strict";

	angular.module('app.filters').filter( 'humanReadable', function(){
		return function humanize(str) {
			if ( !str ){
				return '';
			}
			var frags = str.split('_');
			for (var i=0; i<frags.length; i++) {
				frags[i] = frags[i].charAt(0).toUpperCase() + frags[i].slice(1);
			}
			return frags.join(' ');
		};
	});
})();
(function(){
	"use strict";

	angular.module('app.filters').filter( 'trustHtml', ["$sce", function( $sce ){
		return function( html ){
			return $sce.trustAsHtml(html);
		};
	}]);
})();
(function(){
	"use strict";

	angular.module('app.filters').filter('ucfirst', function() {
		return function( input ) {
			if ( !input ){
				return null;
			}
			return input.substring(0, 1).toUpperCase() + input.substring(1);
		};
	});

})();

(function(){
    "use strict";

    angular.module('app.services').factory('MapService', ["leafletData", function(leafletData){
        //
        var leaflet = {};
        return {
          setLeafletData: function(leaf){
            leaflet = leaflet;
          },
          getLeafletData: function(){
            return leaflet;
          }
        }
    }]);

})();

(function(){
	"use strict";

	angular.module("app.services").factory('DialogService', ["$mdDialog", function($mdDialog){

		return {
			fromTemplate: function(template, $scope){

				var options = {
					templateUrl: '/views/dialogs/' + template + '/' + template + '.html'
				};

				if ($scope){
					options.scope = $scope.$new();
				}

				return $mdDialog.show(options);
			},

			hide: function(){
				return $mdDialog.hide();
			},

			alert: function(title, content){
				$mdDialog.show(
					$mdDialog.alert()
						.title(title)
						.content(content)
						.ok('Ok')
				);
			}
		};
	}]);
})();
(function(){
	"use strict";

	angular.module("app.services").factory('ToastService', ["$mdToast", function($mdToast){

		var delay = 6000,
			position = 'top right',
			action = 'OK';

		return {
			show: function(content){
				if (!content){
					return false;
				}

				return $mdToast.show(
					$mdToast.simple()
						.content(content)
						.position(position)
						.action(action)
						.hideDelay(delay)
				);
			},
			error: function(content){
				if (!content){
					return false;
				}

				return $mdToast.show(
					$mdToast.simple()
						.content(content)
						.position(position)
						.theme('warn')
						.action(action)
						.hideDelay(delay)
				);
			}
		};
	}]);
})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('DialogsCtrl', ["$scope", "DialogService", function($scope, DialogService){
		$scope.alertDialog = function(){
			DialogService.alert('This is an alert title', 'You can specify some description text in here.');
		};

		$scope.customDialog = function(){
			DialogService.fromTemplate('add_users', $scope);
		};
	}]);

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('ElixirCtrl', function(){
        //
    });

})();

(function () {
	"use strict";

	angular.module('app.controllers').controller('EpiCtrl', ["$scope", "Restangular", "leafletData", "MapService", function ($scope, Restangular, leafletData, MapService) {
		$scope.current = "";
		$scope.chart = {
			options: {
				chart: {
					type: 'lineChart',
					height: 200,
					margin: {
						top: 20,
						right: 20,
						bottom: 20,
						left: 40
					},
					x: function (d) {
						return d.x;
					},
					y: function (d) {
						return d.y;
					},
					showValues: true,
					transitionDuration: 500,
					clipVoronoi: false,
					forceY:[100,0],
					xAxis: {
						axisLabel: ''
					},
					yAxis: {
						axisLabel: '',
						axisLabelDistance: 30
					}
				}
			},
			data: []
		};
		$scope.menueOpen = true;
		$scope.details = false;
		$scope.closeIcon = 'chevron_left';
		$scope.labels = ["January", "February", "March", "April", "May", "June", "July"];
		$scope.series = ['Series A', 'Series B'];
		$scope.data = [
			[65, 59, 80, 81, 56, 55, 40],
			[28, 48, 40, 19, 86, 27, 90]
		];
		var epi = Restangular.all('epi/year/2014');
		epi.getList().then(function (data) {
			$scope.epi = data;
			$scope.drawCountries();
		});
		$scope.toggleOpen = function () {
			$scope.menueOpen = !$scope.menueOpen;
			$scope.closeIcon = $scope.menueOpen == true ? 'chevron_left' : 'chevron_right';
		}
		$scope.setCurrent = function (nat) {
			$scope.current = nat;
		};
		$scope.getRank = function (nat) {
			return $scope.epi.indexOf(nat) + 1;
		};
		$scope.toggleDetails = function () {
			return $scope.details = !$scope.details;
		}
		$scope.getOffset = function () {
			if (!$scope.current) {
				return 0;
			}
			return ($scope.current.rank == 1 ? 0 : $scope.current.rank == $scope.current.length + 1 ? $scope.current.rank : $scope.current.rank - 2) * 16;
			//return $scope.current.rank - 2 || 0;
		};
		$scope.getTendency = function () {
			if (!$scope.current) {
				return 'arrow_drop_down'
			}
			return $scope.current.percent_change > 0 ? 'arrow_drop_up' : 'arrow_drop_down';
		};
		$scope.$watch('current', function (newItem, oldItem) {
			if (newItem === oldItem) {
				return;
			}
			var country = Restangular.one('nations', newItem.iso).get();
			country.then(function (data) {
				$scope.country = data;
				var fi = [],
					stock = [],
					coast = [];
				angular.forEach($scope.country.epi, function (item) {
					fi.push({
						x: item.year,
						y: item.ev_fi
					});
					stock.push({
						x: item.year,
						y: item.ev_fi_fish_stocks
					});
					coast.push({
						x: item.year,
						y: item.ev_fi_coastal_shelf_fishing_pressure
					});
				});
				var chartData = [/*{
					values: fi,
					key: 'Fisheries',
					color: '#ff7f0e'
				}, */{
					values: stock,
					key: 'Fish Stock',
					color: '#2ca02c'
				},{
					values: coast,
					key: 'Coastal Shelf Fishing Pressure',
					color:'#006bb6'
				}];
				console.log(chartData);
				$scope.chart.data = chartData;

			});
		});
		var getNationByName = function (name) {
			var nation = {};
			angular.forEach($scope.epi, function (nat) {
				if (nat.country == name) {
					nation = nat;
				}
			});
			return nation;
		};
		var createCanvas = function (colors) {
			$scope.canvas = document.createElement('canvas');
			$scope.canvas.width = 256;
			$scope.canvas.height = 10;
			$scope.ctx = $scope.canvas.getContext('2d');
			var gradient = $scope.ctx.createLinearGradient(0, 0, 256, 10);
			gradient.addColorStop(0, 'rgba(255,255,255,0)');
			gradient.addColorStop(0.53, 'rgba(128, 243, 198,1)');
			gradient.addColorStop(1, 'rgba(102,102,102,1)');
			$scope.ctx.fillStyle = gradient;
			$scope.ctx.fillRect(0, 0, 256, 10);
			$scope.palette = $scope.ctx.getImageData(0, 0, 256, 1).data;
			document.getElementsByTagName('body')[0].appendChild($scope.canvas);
		}
		createCanvas();


		$scope.drawCountries = function () {
			leafletData.getMap('map').then(function (map) {
				//	L.tileLayer('http://localhost:3001/services/postgis/countries_big/geom/dynamicMap/{z}/{x}/{y}.png').addTo(map);
				var debug = {};
				var apiKey = 'pk.eyJ1IjoibWFnbm9sbyIsImEiOiJuSFdUYkg4In0.5HOykKk0pNP1N3isfPQGTQ';
				var url = 'http://localhost:3001/services/postgis/countries_big/geom/vector-tiles/{z}/{x}/{y}.pbf?fields=id,admin,adm0_a3,name,name_long'; //
				var url2 = 'https://a.tiles.mapbox.com/v4/mapbox.mapbox-streets-v6-dev/{z}/{x}/{y}.vector.pbf?access_token=' + apiKey;
				var mvtSource = new L.TileLayer.MVTSource({
					url: url, //"http://spatialserver.spatialdev.com/services/vector-tiles/gaul_fsp_india/{z}/{x}/{y}.pbf",
					debug: false,
					clickableLayers: ['countries_big_geom'],
					mutexToggle: true,
					onClick: function (evt, t) {
						//map.fitBounds(evt.target.getBounds());
						/*console.log(evt.latlng);
						var x = evt.feature.bbox()[0]/ (evt.feature.extent / evt.feature.tileSize);
						var y = evt.feature.bbox()[1]/(evt.feature.extent / evt.feature.tileSize)
						console.log(new L.Point(x,y));
						console.log([
							[evt.feature.bbox()[0]/ (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[1]/(evt.feature.extent / evt.feature.tileSize)],
							[evt.feature.bbox()[2]/(evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[3]/(evt.feature.extent / evt.feature.tileSize)],
						]);
						debugger;*/
						if ($scope.current.country != evt.feature.properties.admin) {
							//map.panTo(evt.latlng);
							//map.panBy(new L.Point(-200,0));
							map.fitBounds([
								[evt.feature.bbox()[0] / (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[1] / (evt.feature.extent / evt.feature.tileSize)],
								[evt.feature.bbox()[2] / (evt.feature.extent / evt.feature.tileSize), evt.feature.bbox()[3] / (evt.feature.extent / evt.feature.tileSize)],
							])
						}
						$scope.current = getNationByName(evt.feature.properties.admin);
					},
					getIDForLayerFeature: function (feature) {

						return feature.properties.id;
					},
					filter: function (feature, context) {

						if (feature.layer.name === 'admin' || feature.layer.name === 'gaul_2014_adm1_label') {
							//console.log(feature);
							if (feature.properties.admin_level == 0 || feature.properties.admin_level == 1 || feature.properties.admin_level == 2) {
								return true;
							} else {
								return false;
							}

						}
						return true;
					},

					style: function (feature) {
						var style = {};
						var nation = getNationByName(feature.properties.admin);
						var type = feature.type;
						switch (type) {
						case 1: //'Point'
							style.color = 'rgba(49,79,79,0.01)';
							style.radius = 5;
							style.selected = {
								color: 'rgba(255,255,0,0.5)',
								radius: 0
							};
							break;
						case 2: //'LineString'
							style.color = 'rgba(255,0,0,1)';
							style.size = 1;
							style.selected = {
								color: 'rgba(255,25,0,1)',
								size: 2
							};
							break;
						case 3: //'Polygon'
							if (nation.score) {
								var colorPos = parseInt(256 / 100 * nation.score) * 4;
								var color = 'rgba(' + $scope.palette[colorPos] + ', ' + $scope.palette[colorPos + 1] + ', ' + $scope.palette[colorPos + 2] + ',' + $scope.palette[colorPos + 3] + ')';
								style.color = color;
								style.outline = {
									color: 'rgba(50,50,50,0.4)',
									size: 1
								};
								style.selected = {
									color: 'rgba(255,255,255,0.0)',
									outline: {
										color: 'rgba(0,0,0,0.5)',
										size: 1
									}
								};
								break;
							} else {
								style.color = 'rgba(255,255,255,0)';
								style.outline = {
									color: 'rgba(255,255,255,0)',
									size: 1
								};
							}
						}

						//	if (feature.layer.name === 'gaul_2014_adm1_label') {
						style.ajaxSource = function (mvtFeature) {
							var id = mvtFeature.id;
							//	console.log(id);
							//return 'http://spatialserver.spatialdev.com/fsp/2014/fsp/aggregations-no-name/' + id + '.json';
						};

						style.staticLabel = function (mvtFeature, ajaxData) {
							var style = {
								html: ajaxData.total_count,
								iconSize: [33, 33],
								cssClass: 'label-icon-number',
								cssSelectedClass: 'label-icon-number-selected'
							};
							return style;
						};
						//	}

						return style;
					},


					layerLink: function (layerName) {
						if (layerName.indexOf('_label') > -1) {
							return layerName.replace('_label', '');
						}
						return layerName + '_label';
					}

				});
				debug.mvtSource = mvtSource;
				map.addLayer(mvtSource);
			});
		};
	}]);
})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('GeneratorsCtrl', function(){
        //
    });

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('HeaderCtrl', ["$scope", "$rootScope", function($scope, $rootScope){

		$scope.$watch(function(){
			return $rootScope.current_page;
		}, function(newPage){
			$scope.current_page = newPage || 'Page Name';
		});


	}]);

})();
(function () {
	"use strict";

	angular.module('app.controllers').controller('ImportcsvCtrl', ["$mdDialog", function ($mdDialog) {
		this.settings = {
			printLayout: true,
			showRuler: true,
			showSpellingSuggestions: true,
			presentationMode: 'edit'
		};

		this.sampleAction = function (name, ev) {
			$mdDialog.show($mdDialog.alert()
				.title(name)
				.content('You triggered the "' + name + '" action')
				.ok('Great')
				.targetEvent(ev)
			);
		};

    this.openCsvUpload = function() {
			$mdDialog.show({
					//controller: DialogController,
					templateUrl: '/views/app/importcsv/csvUploadDialog.html',
	        bindToController: true,
				})
				.then(function (answer) {

				}, function () {

				});
		};
	}])


})();


(function(){
	"use strict";

	angular.module('app.controllers').controller('JwtAuthCtrl', ["$scope", "$auth", "Restangular", function($scope, $auth, Restangular){

		var credentials = {};

		$scope.requestToken = function(){
			// Use Satellizer's $auth service to login because it'll automatically save the JWT in localStorage
			$auth.login(credentials).then(function (data){
				// If login is successful, redirect to the users state
				//$state.go('dashboard');
			});
		};

		// This request will hit the getData method in the AuthenticateController
		// on the Laravel side and will return your data that require authentication
		$scope.getData = function(){
			Restangular.all('authenticate/data').get().then(function (response){

			}, function (error){});
		};



	}]);

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('LandingCtrl', ["$scope", "$mdToast", "$mdDialog", "$interval", "ToastService", "DialogService", function($scope, $mdToast, $mdDialog, $interval, ToastService, DialogService){

		$scope.promoImage = 'https://i.imgur.com/ZbLzOPP.jpg';
		$scope.icon = 'send';

		var icons = [
				'office', 'facebook', 'twitter', 'apple', 'whatsapp', 'linkedin', 'windows', 'accessibility', 'alarm', 'aspect_ratio',
				'autorenew', 'bookmark_outline', 'dashboard', 'dns', 'favorite_outline', 'get_app', 'highlight_remove', 'history', 'list',
				'picture_in_picture', 'print', 'settings_ethernet', 'settings_power', 'shopping_cart', 'spellcheck', 'swap_horiz', 'swap_vert',
				'thumb_up', 'thumbs_up_down', 'translate', 'trending_up', 'visibility', 'warning', 'mic', 'play_circle_outline', 'repeat',
				'skip_next', 'call', 'chat', 'clear_all', 'dialpad', 'dnd_on', 'forum', 'location_on', 'vpn_key', 'filter_list', 'inbox',
				'link', 'remove_circle_outline', 'save', 'text_format', 'access_time', 'airplanemode_on', 'bluetooth', 'data_usage',
				'gps_fixed', 'now_wallpaper', 'now_widgets', 'storage', 'wifi_tethering', 'attach_file', 'format_line_spacing',
				'format_list_numbered', 'format_quote', 'vertical_align_center', 'wrap_text', 'cloud_queue', 'file_download', 'folder_open',
				'cast', 'headset', 'keyboard_backspace', 'mouse', 'speaker', 'watch', 'audiotrack', 'edit', 'brush', 'looks', 'crop_free',
				'camera', 'filter_vintage', 'hdr_strong', 'photo_camera', 'slideshow', 'timer', 'directions_bike', 'hotel', 'local_library',
				'directions_walk', 'local_cafe', 'local_pizza', 'local_florist', 'my_location', 'navigation', 'pin_drop', 'arrow_back', 'menu',
				'close', 'more_horiz', 'more_vert', 'refresh', 'phone_paused', 'vibration', 'cake', 'group', 'mood', 'person',
				'notifications_none', 'plus_one', 'school', 'share', 'star_outline'
			],
			counter = 0;

		$interval(function(){
			$scope.icon = icons[++counter];
			if (counter > 112){
				counter = 0;
			}
		}, 2000);

	}]);

})();

(function (){
    "use strict";

    angular.module('app.controllers').controller('LoginCtrl', function (){

    });

})();

(function () {
	"use strict";

	angular.module('app.controllers').controller('MapCtrl', ["$scope", "$rootScope", "$timeout", "MapService", "leafletData", "$http", function ($scope, $rootScope, $timeout, MapService, leafletData, $http) {
		//
		var apiKey = 'pk.eyJ1IjoibWFnbm9sbyIsImEiOiJuSFdUYkg4In0.5HOykKk0pNP1N3isfPQGTQ';

		/*$scope.defaults = {
			tileLayer: 'https://{s}.tiles.mapbox.com/v4/mapbox.pencil/{z}/{x}/{y}.png?access_token=' + apiKey,
			maxZoom: 14,
			detectRetina: true,
			attribution: ''
		};
		$scope.center = {
			lat: 0,
			lng: 0,
			zoom: 3
		};*/
		angular.extend($rootScope, {
			center: {
				lat: 0,
				lng: 0,
				zoom: 3
			},
			layers: {
				baselayers: {
					xyz: {
						name: 'MapBox Pencil',
						url: 'https://{s}.tiles.mapbox.com/v4/mapbox.pencil/{z}/{x}/{y}.png?access_token=' + apiKey,
						type: 'xyz'
					}
				},
				overlays: {
					demosutfgrid: {
						name: 'UTFGrid Interactivity',
						type: 'utfGrid',
						url: 'http://{s}.tiles.mapbox.com/v3/mapbox.geography-class/{z}/{x}/{y}.grid.json?callback={cb}',
						visible: true
					}
				}
			}
		});
		$scope.searchIP = function (ip) {
			var url = "http://freegeoip.net/json/" + ip;
			$http.get(url).success(function (res) {
				$scope.center = {
					lat: res.latitude,
					lng: res.longitude,
					zoom: 3
				}
				$scope.ip = res.ip;
			})
		};

		$scope.searchIP("");
		$scope.interactivity = "";
		$scope.flag = "";
		$scope.$on('leafletDirectiveMap.utfgridMouseover', function (event, leafletEvent) {
			// the UTFGrid information is on leafletEvent.data
			$scope.interactivity = leafletEvent.data.admin;
			$scope.flag = "data:image/png;base64," + leafletEvent.data.flag_png;

		});
		$scope.$on('leafletDirectiveMap.utfgridMouseout', function (event, leafletEvent) {
			$scope.interactivity = "";
			$scope.flag = "";
		});
		MapService.setLeafletData(leafletData.getMap('map'));

	}]);
})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('MiscCtrl', function(){
        //
    });

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('RestApiCtrl', function(){
        //
    });

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('SidebarCtrl', ["$scope", "$state", function($scope, $state){


	}]);

})();
(function(){
	"use strict";

	angular.module('app.controllers').controller('DashboardCtrl', function(){

	});

})();

(function(){
	"use strict";

	angular.module('app.controllers').controller('ToastsCtrl', ["$scope", "ToastService", function($scope, ToastService){

		$scope.toastSuccess = function(){
			ToastService.show('User added successfully!');
		};

		$scope.toastError = function(){
			ToastService.error('Connection interrupted!');
		};

	}]);

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('UnsupportedBrowserCtrl', function(){
        //
    });

})();

(function(){
    "use strict";

    angular.module('app.controllers').controller('AddUsersCtrl', ["$scope", "DialogService", function($scope, DialogService){

        $scope.save = function(){
	        //do something useful
            DialogService.hide();
        };

        $scope.hide = function(){
        	DialogService.hide();
        };

    }]);

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'BubblesCtrl', function(){
		//
  });

})();

(function () {
	"use strict";

	function CustomTooltip(tooltipId, width) {
		var tooltipId = tooltipId;
		angular.element(document).find('body').append("<div class='tooltip md-whiteframe-z3' id='" + tooltipId + "'></div>");

		/*if (width) {
		  //$("#" + tooltipId).css("width", width);
		}*/

		hideTooltip();

		function showTooltip(content, data, event) {
			angular.element(document.querySelector('#' + tooltipId)).html(content);
			angular.element(document.querySelector('#' + tooltipId)).css('display', 'block');

			return updatePosition(event, data);
		}

		function hideTooltip() {
			angular.element(document.querySelector('#' + tooltipId)).css('display', 'none');
		}

		function updatePosition(event, d) {
			var ttid = "#" + tooltipId;
			var xOffset = 20;
			var yOffset = 10;
			var svg = document.querySelector('#svg_vis');
			var wscrY = window.scrollY;
			var ttw = angular.element(document.querySelector(ttid)).offsetWidth;
			var tth = document.querySelector(ttid).offsetHeight;
			var tttop = svg.getBoundingClientRect().top + d.y - tth / 2;
			var ttleft = svg.getBoundingClientRect().left + d.x + d.radius + 12;
			return angular.element(document.querySelector(ttid)).css('top', tttop + 'px').css('left', ttleft + 'px');
		}

		return {
			showTooltip: showTooltip,
			hideTooltip: hideTooltip,
			updatePosition: updatePosition
		}
	}
	angular.module('app.directives').directive('bubbles', ["$compile", function ($compile) {
		var defaults;
		defaults = function () {
			return {
				width: 940,
				height: 600,
				layout_gravity: 0,
				vis: null,
				force: null,
				damper: 0.1,
				circles: null,
				fill_color: d3.scale.ordinal().domain(["eh", "ev"]).range(["#a31031", "#beccae"]),
				max_amount: '',
				radius_scale: '',
				duration: 1000,
				tooltip: CustomTooltip("bubbles_tooltip", 240)
			};
		};
		return {
			restrict: 'E',
			//controller: 'BubblesCtrl',
			scope: {
				chartdata: '=',
				direction: '=',
				gravity: '=',
				sizefactor: '='
			},
			link: function (scope, elem, attrs) {
				var options = angular.extend(defaults(), attrs);
				var nodes = [],
					links = [];

				var max_amount = d3.max(scope.chartdata, function (d) {
					return parseInt(d.value);
				});

				options.radius_scale = d3.scale.pow().exponent(0.5).domain([0, max_amount]).range([2, 85]);
				options.center = {
					x: options.width / 2,
					y: options.height / 2
				};
				options.cat_centers = {
					"eh": {
						x: options.width / 2,
						y: options.height / 100 * 45,
						damper: 0.085
					},
					"ev": {
						x: options.width / 2,
						y: options.height / 100 * 55,
						damper: 0.085
					}
				};
				var create_nodes = function () {
					nodes = [{
						id: 1,
						type: 'eh_hi',
						radius: scope.chartdata.eh_hi / scope.sizefactor,
						value: scope.chartdata.eh_hi / scope.sizefactor,
						name: 'Health Impact',
						group: 'eh',
						x: options.center.x,
						y: options.center.y,
						color: '#ff9600',
						icon: 'man',
						unicode: '\ue605'
					}, {
						id: 2,
						type: 'eh_aq',
						radius: scope.chartdata.eh_aq / scope.sizefactor,
						value: scope.chartdata.eh_aq / scope.sizefactor,
						name: 'Air Quality',
						group: 'eh',
						x: options.center.x,
						y: options.center.y,
						color: '#f7c80b',
						icon: 'sink',
						unicode: '\ue606'
					}, {
						id: 3,
						type: 'eh_ws',
						radius: scope.chartdata.eh_ws / scope.sizefactor,
						value: scope.chartdata.eh_ws / scope.sizefactor,
						name: 'Water Sanitation',
						group: 'eh',
						x: options.center.x,
						y: options.center.y,
						color: '#ff6d24',
						icon: 'fabric',
						unicode: '\ue604'
					}, {
						id: 4,
						type: 'ev_wr',
						radius: scope.chartdata.ev_wr / scope.sizefactor,
						value: scope.chartdata.ev_wr / scope.sizefactor,
						name: 'Water Resources',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#7993f2',
						icon: 'water',
						unicode: '\ue608'
					}, {
						id: 5,
						type: 'ev_ag',
						radius: scope.chartdata.ev_ag / scope.sizefactor,
						value: scope.chartdata.ev_ag / scope.sizefactor,
						name: 'Agriculture',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#009bcc',
						icon: 'agrar',
						unicode: '\ue600'
					}, {
						id: 6,
						type: 'ev_fo',
						radius: scope.chartdata.ev_fo / scope.sizefactor,
						value: scope.chartdata.ev_fo / scope.sizefactor,
						name: 'Forest',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#2e74ba',
						icon: 'tree',
						unicode: '\ue607'
					}, {
						id: 7,
						type: 'ev_fi',
						radius: scope.chartdata.ev_fi / scope.sizefactor,
						value: scope.chartdata.ev_fi / scope.sizefactor,
						name: 'Fisheries',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#008c8c',
						icon: 'anchor',
						unicode: '\ue601'
					}, {
						id: 8,
						type: 'ev_bd',
						radius: scope.chartdata.ev_bd / scope.sizefactor,
						value: scope.chartdata.ev_bd / scope.sizefactor,
						name: 'Biodiversity and Habitat',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#00ccaa',
						icon: 'butterfly',
						unicode: '\ue602'
					}, {
						id: 9,
						type: 'ev_ce',
						radius: scope.chartdata.ev_ce / scope.sizefactor,
						value: scope.chartdata.ev_ce / scope.sizefactor,
						name: 'Climate and Energy',
						group: 'ev',
						x: options.center.x,
						y: options.center.y,
						color: '#1cb85d',
						icon: 'energy',
						unicode: '\ue603'
					}];
					/*scope.chartdata.forEach((function (_this) {

						return function (d) {
							var node;
							node = {
								id: d.id,
								radius: d.value,
								value: d.value,
								name: d.name,
								org: 'bla',
								group: d.group,
								//year: d.start_year,
								x: options.center.x,
								y: options.center.y
							};
							return nodes.push(node);

						};
					})(this));
					return nodes.sort(function (a, b) {
						return b.value - a.value;
					});
					links = [
						{source:0, target:1},
						{source:0, target:2},
						{source:0, target:3},
						{source:4, target:5},
						{source:4, target:6},
						{source:4, target:7},
						{source:4, target:8}
					]*/
				};
				var create_vis = function () {
					angular.element(elem).html('');
					options.vis = d3.select(elem[0]).append("svg").attr("width", options.width).attr("height", options.height).attr("id", "svg_vis");
					var pi = Math.PI;
					var arcTop = d3.svg.arc()
						.innerRadius(109)
						.outerRadius(110)
						.startAngle(-90 * (pi / 180)) //converting from degs to radians
						.endAngle(90 * (pi / 180)); //just radians
					var arcBottom = d3.svg.arc()
						.innerRadius(134)
						.outerRadius(135)
						.startAngle(90 * (pi / 180)) //converting from degs to radians
						.endAngle(270 * (pi / 180)); //just radians

					options.arcTop = options.vis.append("path")
						.attr("d", arcTop)
						.attr("fill", "#be5f00")
						.attr("transform", "translate(170,140)");
					options.arcBottom = options.vis.append("path")
						.attr("d", arcBottom)
						.attr("fill", "#006bb6")
						.attr("transform", "translate(170,180)");
					options.containers = options.vis.selectAll('g.node').data(nodes).enter().append('g').attr('transform', 'translate(' + (options.width / 2) + ',' + (options.height / 2) + ')').attr('class', 'node');

					/*options.circles = options.containers.selectAll("circle").data(nodes, function (d) {
						return d.id;
					});*/

					options.circles = options.containers.append("circle").attr("r", 0).attr("fill", (function (d) {
						return d.color || options.fill_color(d.group);
					})).attr("stroke-width", 0).attr("stroke", function (d) {
						return d3.rgb(options.fill_color(d.group)).darker();
					}).attr("id", function (d) {
						return "bubble_" + d.id;
					});
					options.icons = options.containers.append("text")
						.attr('font-family', 'EPI')
						.attr('font-size', function (d) {
							0
						})
						.attr("text-anchor", "middle")
						.attr('fill', '#fff')
						.text(function (d) {
							return d.unicode
						});
					options.icons.on("mouseover", function (d, i) {
						return show_details(d, i, this);
					}).on("mouseout", function (d, i) {
						return hide_details(d, i, this);
					});
					/*options.tooltips = options.containers.append('md-tooltip').html('Photos');
					options.tooltips.call(function () {
						$compile(this[0].parentNode)(scope);
					});*/
					options.circles.transition().duration(options.duration).attr("r", function (d) {
						return d.radius;
					});
					options.icons.transition().duration(options.duration).attr("font-size", function (d) {
						return d.radius * 1.75 + 'px';
					}).attr('y', function (d) {
						return d.radius * .75 + 'px';
					});
				};
				var update_vis = function () {

					nodes.forEach(function (d, i) {
						options.circles.transition().duration(options.duration).delay(i * options.duration)
							.attr("r", function (d) {
								d.radius = d.value = scope.chartdata[d.type] / scope.sizefactor;

								return scope.chartdata[d.type] / scope.sizefactor;
							});
						options.icons.transition().duration(options.duration).delay(i * options.duration)
							.attr("font-size", function (d) {
								return (scope.chartdata[d.type] / scope.sizefactor) * 1.75 + 'px'
							})
							.attr('y', function (d) {
								return (scope.chartdata[d.type] / scope.sizefactor) * .75 + 'px';
							})
					});
				};
				var charge = function (d) {
					return -Math.pow(d.radius, 2.0) / 4;
				};
				var start = function () {
					return options.force = d3.layout.force().nodes(nodes).size([options.width, options.height]).links(links);
				};
				/*var display_group_all = function () {
					options.force.gravity(options.layout_gravity).charge(charge).friction(0.9).on("tick", function (e) {
						return options.circles.each(move_towards_center(e.alpha)).attr('cx', function (d) {
							return d.x;
						}).attr("cy", function (d) {
							return d.y;
						})
					});
					options.force.start();
					//return this.hide_years();
				};*/
				var display_by_cat = function () {
					options.force.gravity(options.layout_gravity).charge(charge).friction(0.9).on("tick", function (e) {
						options.containers.each(move_towards_cat(e.alpha)).attr("transform", function (d) {
							return 'translate(' + d.x + ',' + d.y + ')';
						});
						/*options.icons.each(move_towards_cat(e.alpha)).attr("transform", function (d) {
							return "translate(" + (d.x) + ", " + (d.y) + ")";
						});*/
					});
					options.force.start();
					//return this.display_years();
				};
				var move_towards_center = function (alpha) {
					return (function (_this) {
						return function (d) {
							d.x = d.x + (options.center.x - d.x) * (options.damper + 0.02) * alpha;
							d.y = d.y + (options.center.y - d.y) * (options.damper + 0.02) * alpha;
						}
					})(this);
				};
				var move_towards_top = function (alpha) {
					return (function (_this) {
						return function (d) {
							d.x = d.x + (options.center.x - d.x) * (options.damper + 0.02) * alpha * 1.1;
							d.y = d.y + (200 - d.y) * (options.damper + 0.02) * alpha * 1.1;
						}
					})(this);
				};
				var move_towards_cat = function (alpha) {
					return (function (_this) {
						return function (d) {
							var target;
							target = options.cat_centers[d.group];
							d.x = d.x + (target.x - d.x) * (target.damper + 0.02) * alpha * 1;
							return d.y = d.y + (target.y - d.y) * (target.damper + 0.02) * alpha * 1;
						}
					})(this);
				};
				var show_details = function (data, i, element) {
					var content;
					//d3.select(element).attr("stroke", "black");
					content = "<span class=\"title\">" + data.name + ":</span><br/>";
					//content +='<div class="close-it" ng-click="options.tooltip.hideTooltip()"><ng-md-icon size="12" icon="close"></ng-md-icon></div>';
					//content += "<span class=\"name\">Value:</span><span class=\"value\"> " + (addCommas(data.value)) + "</span><br/>";
					//content += "<span class=\"name\">Year:</span><span class=\"value\"> " + data.value + "</span>";

					$compile(options.tooltip.showTooltip(content, data, d3.event).contents())(scope);
				};

				var hide_details = function (data, i, element) {
					return options.tooltip.hideTooltip();
				};


				scope.$watch('chartdata', function (data, oldData) {
					options.tooltip.hideTooltip();
					if (options.circles == null) {
						create_nodes();
						create_vis();
						start();
					} else {
						update_vis();
					}

					display_by_cat();
					//$compile(elem)(scope);
				});

				scope.$watch('direction', function (oldD, newD) {
					if (oldD === newD) {
						return;
					}
					if (oldD == "all") {
						display_group_all();
					} else {
						display_by_cat();
					}
				})
			}
		};
	}]);
})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'CirclegraphCtrl', function(){
		//
    });

})();

(function() {
	"use strict";

	angular.module('app.directives').directive('circlegraph', function() {
		var defaults = function() {
			return {
				width: 80,
				height: 80,
				color: '#00ccaa',
				size: 178
			}
		}
		return {
			restrict: 'E',
			controller: 'CirclegraphCtrl',
			scope: true,
			require: 'ngModel',
			link: function($scope, element, $attrs, ngModel) {
				//Fetching Options
				var options = angular.extend(defaults(), $attrs);

				//Creating the Scale
				var rotate = d3.scale.linear()
					.domain([1, options.size])
					.range([1, 0])
					.clamp(true);

				//Creating Elements
				var svg = d3.select(element[0]).append('svg')
					.attr('width', options.width)
					.attr('height', options.height)
					.append('g');
				var container = svg.append('g')
					.attr('transform', 'translate(' + options.width / 2 + ',' + options.height / 2 + ')');
				var circleBack = container.append('circle')
					.attr('r', options.width / 2 - 2)
					.attr('stroke-width', 2)
					.attr('stroke', options.color)
					.style('opacity', '0.6')
					.attr('fill', 'none');
				var arc = d3.svg.arc()
					.startAngle(0)
					.innerRadius(function(d) {
						return options.width / 2 - 4;
					})
					.outerRadius(function(d) {
						return options.width / 2;
					});
				var circleGraph = container.append('path')
					.datum({
						endAngle: 2 * Math.PI * 0
					})
					.style("fill", options.color)
					.attr('d', arc);
				var text = container.selectAll('text')
					.data([0])
					.enter()
					.append('text')
					.text(function(d) {
						return d + '/' + options.size;
					})
					.attr('text-anchor', 'middle')
					.attr('y', '0.35em');

				//Transition if selection has changed
				function animateIt(radius) {
					circleGraph.transition()
						.duration(750)
						.call(arcTween, rotate(radius) * 2 * Math.PI);
					text.transition().duration(750).tween('text', function(d) {
						var data = this.textContent.split("/");
						var i = d3.interpolate(data[0], radius);
						return function(t) {
							this.textContent = (Math.round(i(t) * 1) / 1) + '/' + options.size;
						};
					})
				}

				//Tween animation for the Arc
				function arcTween(transition, newAngle) {
					transition.attrTween("d", function(d) {
						var interpolate = d3.interpolate(d.endAngle, newAngle);
						return function(t) {
							d.endAngle = interpolate(t);
							return arc(d);
						};
					});
				}

				//Watching if selection has changed from another UI element
				$scope.$watch(
					function() {
						return ngModel.$modelValue;
					},
					function(newValue, oldValue) {
						if (newValue === oldValue)
							return;
						animateIt(newValue.rank)
					}, true);
			}
		};

	});

})();
(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'DataListingCtrl', function(){
		//
    });

})();

(function(){
	"use strict";

	angular.module('app.directives').directive( 'dataListing', function() {

		return {
			restrict: 'EA',
			templateUrl: 'views/directives/data_listing/data_listing.html',
			controller: 'DataListingCtrl',
			link: function( $scope, element, $attrs ){
				//
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module('app.directives').directive( 'gradient', function() {

		return {
			restrict: 'EA',
			templateUrl: 'views/directives/gradient/gradient.html',
			controller: 'GradientCtrl',
			link: function( $scope, element, $attrs ){
				//
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'GradientCtrl', function(){
		//
    });

})();

(function () {
	"use strict";

	angular.module('app.directives').directive('linechart', function () {
		var defaults = function () {
			return {
				width: 300,
				height: 200,
				margin: 20
			};
		}
		return {
			restrict: 'E',
			scope: {
				data: '='
			},
			link: function ($scope, element, $attrs) {
				var values = [];
				var options = angular.extend(defaults(), $attrs);
				var svg = d3.select(element[0]).append("svg")
					.attr("width", options.width + options.margin * 2)
					.attr("height", options.height + options.margin * 2);

				var color = d3.scale.category10();
				var x = d3.scale.linear().range([0, options.width - 20]);
				var y = d3.scale.linear().range([options.height - 20, 0]).domain([0, 100]);
				var xAxis = d3.svg.axis().scale(x).orient('bottom').tickSize(1).tickSubdivide(true);
				var yAxis = d3.svg.axis().scale(y).orient('left').tickSize(1).tickSubdivide(true);
				x.domain([d3.min($scope.data.epi, function (d) {
					return d.year;
				}), d3.max($scope.data.epi, function (d) {
					return d.year;
				})]);
				var line = d3.svg.line()
					.interpolate("basis")
					.x(function (d) {
						return x(d.year);
					})
					.y(function (d) {
						return y(d.val);
					});

					svg.append('g')
						.attr('transform', 'translate(0, ' + (options.height - 20) + ')')
						.call(xAxis);
					svg.append('g')
						.attr('transform', 'translate(0, 0)')
						.call(yAxis);
				/*svg.append('path')
					.datum($scope.data.epi)
					.attr('class', "line")
					.attr('d', line)
					.attr('stroke', 'green')
					.attr('stroke-width', 2)
					.attr('fill','none');*/
				var cities = "";
				var prepareData = function () {
					values = [];
					angular.forEach($scope.data.epi, function (item) {
						values.push({
							year: item.year,
							fi: item.ev_fi,
							stock: item.ev_fi_fish_stocks,
							coastal: item.ev_fi_coastal_shelf_fishing_pressure
						});
					});
					color.domain(d3.keys(values[0]).filter(function (key) {
						return key !== "year";
					}));
					cities = color.domain().map(function (name) {
						return {
							name: name,
							values: values.map(function (d) {
								return {
									year: d.year,
									val: +d[name]
								};
							})
						};
					});

					x.domain(d3.extent(values, function(d) { return d.year; }));
					console.log(cities);
				};
				var drawData = function () {

					var types = svg.selectAll('.types')
						.remove()
						.data(cities)
						.enter()
						.append('g')
						.attr('class', 'types');

					types.append('path')
						.attr('class', 'line')
						.attr('d', function (d) {
							return line(d.values)
						})
						.style("stroke", function(d) { return color(d.name); });

				};
				$scope.$watch('data', function (newData, oldData) {
					if (newData == oldData) {
						return false;
					}
					prepareData();
					drawData()
				});
				prepareData();
				drawData();
			}
		};

	});

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'LinechartCtrl', function(){
		//
    });

})();

(function() {
	"use strict";

	angular.module('app.directives').directive('median', ["$timeout", function($timeout) {
		var defaults = function() {
			return {
				id: 'gradient',
				width: 340,
				height: 40,
				margin: {
					left: 20,
					right: 20,
					top: 10,
					bottom: 10
				},
				colors: [{
					position: 0,
					color: 'rgba(255,255,255,1)',
					opacity: 0
				}, {
					position: 53,
					color: 'rgba(128, 243, 198,1)',
					opacity: 1
				}, {
					position: 100,
					color: 'rgba(102,102,102,1)',
					opacity: 1
				}]
			};
		}
		return {
			restrict: 'E',
			scope: {
				data: '='
			},
			require: 'ngModel',
			link: function($scope, element, $attrs, ngModel) {
				var options = angular.extend(defaults(), $attrs);
				var x = d3.scale.linear()
					.domain([0, 100])
					.range([20, options.width - options.margin.left])
					.clamp(true);

				var brush = d3.svg.brush()
					.x(x)
					.extent([0, 0])
					.on("brush", brush)
					.on("brushend", brushed);

				var svg = d3.select(element[0]).append("svg")
					.attr("width", options.width)
					.attr("height", options.height + options.margin.top + options.margin.bottom)
					.append("g")
					//.attr("transform", "translate(0," + options.margin.top / 2 + ")");
				var gradient = svg.append('svg:defs')
					.append("svg:linearGradient")
					.attr('id', options.id)
					.attr('x1', '0%')
					.attr('y1', '0%')
					.attr('x2', '100%')
					.attr('y2', '0%')
					.attr('spreadMethod', 'pad')
				angular.forEach(options.colors, function(color) {
					gradient.append('svg:stop')
						.attr('offset', color.position + '%')
						.attr('stop-color', color.color)
						.attr('stop-opacity', color.opacity);
				});
				svg.append('svg:rect')
					.attr('width', options.width)
					.attr('height', options.height)
					.style('fill', 'url(#' + options.id + ')');
				var legend = svg.append('g').attr('transform', 'translate(' + options.height / 2 + ', ' + options.height / 2 + ')')
					.attr('class', 'startLabel')
				legend.append('circle')
					.attr('r', options.height / 2)

				legend.append('text')
					.text(0)
					.attr('text-anchor', 'middle')
					.attr('y', '.35em')

				var legend2 = svg.append('g').attr('transform', 'translate(' + (options.width - (options.height / 2)) + ', ' + options.height / 2 + ')')
					.attr('class', 'endLabel')
				legend2.append('circle')
					.attr('r', options.height / 2)

				legend2.append('text')
					.text(100)
					.attr('text-anchor', 'middle')
					.attr('y', '.35em')

				var slider = svg.append("g")
					.attr("class", "slider")
					.call(brush);

				slider.select(".background")
					.attr("height", options.height);
				slider.append('line')
					.attr('x1', options.width / 2)
					.attr('y1', 0)
					.attr('x2', options.width / 2)
					.attr('y2', options.height)
					.attr('stroke-dasharray', '3,3')
					.attr('stroke-width', 1)
					.attr('stroke', 'rgba(0,0,0,87)');
				var handleCont = slider.append('g')
					.attr("transform", "translate(0," + options.height / 2 + ")");
				var handle = handleCont.append("circle")
					.attr("class", "handle")
					.attr("r", options.height / 2);
				var handleLabel = handleCont.append('text')
					.text(0)
					.attr("text-anchor", "middle").attr('y', '0.3em');

				slider
					.call(brush.extent([0, 0]))
					.call(brush.event);

				function brush() {
					var value = brush.extent()[0];

					if (d3.event.sourceEvent) { // not a programmatic event
						value = x.invert(d3.mouse(this)[0]);
						brush.extent([value, value]);
					}
					handleLabel.text(parseInt(value));
					handleCont.attr("transform", 'translate(' + x(value) + ',' + options.height / 2 + ')');
				}

				function brushed() {
					var value = brush.extent()[0],
						count = 0,
						found = false;

					do {
						angular.forEach($scope.data, function(nat, key) {
							if (parseInt(nat.score) == parseInt(value)) {
								ngModel.$setViewValue(nat);
								ngModel.$render();
								found = true;
							}
						});
						count++;
						value = value > 50 ? value - 1 : value + 1;
					} while (!found && count < 100)
				}

				$scope.$watch(
					function() {
						return ngModel.$modelValue;
					},
					function(newValue, oldValue) {
						if (newValue === oldValue)
							return;
						handleLabel.text(parseInt(newValue.score));
						handleCont.transition().duration(500).ease('quad').attr("transform", 'translate(' + x(newValue.score) + ',' + options.height / 2 + ')');
					}, true);
			}
		};

	}]);

})();

(function(){
	"use strict";

	angular.module( 'app.controllers' ).controller( 'MedianCtrl', function(){
		//
    });

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tYWluLmpzIiwiYXBwL3JvdXRlcy5qcyIsImFwcC9yb3V0ZXMucnVuLmpzIiwiY29uZmlnL2F1dGguanMiLCJjb25maWcvbG9hZGluZ19iYXIuanMiLCJjb25maWcvcmVzdGFuZ3VsYXIuanMiLCJjb25maWcvdGhlbWUuanMiLCJmaWx0ZXJzL2NhcGl0YWxpemUuanMiLCJmaWx0ZXJzL2h1bWFuX3JlYWRhYmxlLmpzIiwiZmlsdGVycy90cnVzdF9odG1sLmpzIiwiZmlsdGVycy91Y2ZpcnN0LmpzIiwic2VydmljZXMvTWFwLmpzIiwic2VydmljZXMvZGlhbG9nLmpzIiwic2VydmljZXMvdG9hc3QuanMiLCJhcHAvZGlhbG9ncy9kaWFsb2dzLmpzIiwiYXBwL2VsaXhpci9lbGl4aXIuanMiLCJhcHAvZXBpL2VwaS5qcyIsImFwcC9nZW5lcmF0b3JzL2dlbmVyYXRvcnMuanMiLCJhcHAvaGVhZGVyL2hlYWRlci5qcyIsImFwcC9pbXBvcnRjc3YvaW1wb3J0Y3N2LmpzIiwiYXBwL2p3dF9hdXRoL2p3dF9hdXRoLmpzIiwiYXBwL2xhbmRpbmcvbGFuZGluZy5qcyIsImFwcC9sb2dpbi9sb2dpbi5qcyIsImFwcC9tYXAvbWFwLmpzIiwiYXBwL21pc2MvbWlzYy5qcyIsImFwcC9yZXN0X2FwaS9yZXN0X2FwaS5qcyIsImFwcC9zaWRlYmFyL3NpZGViYXIuanMiLCJhcHAvdGFicy90YWJzLmpzIiwiYXBwL3RvYXN0cy90b2FzdHMuanMiLCJhcHAvdW5zdXBwb3J0ZWRfYnJvd3Nlci91bnN1cHBvcnRlZF9icm93c2VyLmpzIiwiZGlhbG9ncy9hZGRfdXNlcnMvYWRkX3VzZXJzLmpzIiwiZGlyZWN0aXZlcy9idWJibGVzL2J1YmJsZXMuanMiLCJkaXJlY3RpdmVzL2J1YmJsZXMvZGVmaW5pdGlvbi5qcyIsImRpcmVjdGl2ZXMvY2lyY2xlZ3JhcGgvY2lyY2xlZ3JhcGguanMiLCJkaXJlY3RpdmVzL2NpcmNsZWdyYXBoL2RlZmluaXRpb24uanMiLCJkaXJlY3RpdmVzL2RhdGFfbGlzdGluZy9kYXRhX2xpc3RpbmcuanMiLCJkaXJlY3RpdmVzL2RhdGFfbGlzdGluZy9kZWZpbml0aW9uLmpzIiwiZGlyZWN0aXZlcy9ncmFkaWVudC9kZWZpbml0aW9uLmpzIiwiZGlyZWN0aXZlcy9ncmFkaWVudC9ncmFkaWVudC5qcyIsImRpcmVjdGl2ZXMvbGluZWNoYXJ0L2RlZmluaXRpb24uanMiLCJkaXJlY3RpdmVzL2xpbmVjaGFydC9saW5lY2hhcnQuanMiLCJkaXJlY3RpdmVzL21lZGlhbi9kZWZpbml0aW9uLmpzIiwiZGlyZWN0aXZlcy9tZWRpYW4vbWVkaWFuLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLENBQUEsVUFBQTtDQUNBOztDQUVBLElBQUEsTUFBQSxRQUFBLE9BQUE7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTs7OztDQUlBLFFBQUEsT0FBQSxjQUFBLENBQUEsYUFBQSxhQUFBO0NBQ0EsUUFBQSxPQUFBLG1CQUFBLENBQUEsYUFBQSxjQUFBLGFBQUEsZUFBQSxhQUFBLHVCQUFBLGNBQUEsb0JBQUEsUUFBQTtDQUNBLFFBQUEsT0FBQSxlQUFBO0NBQ0EsUUFBQSxPQUFBLGdCQUFBLENBQUEsYUFBQSxhQUFBO0NBQ0EsUUFBQSxPQUFBLGtCQUFBO0NBQ0EsUUFBQSxPQUFBLGNBQUE7Ozs7QUNuQkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGNBQUEsZ0RBQUEsU0FBQSxnQkFBQSxtQkFBQTs7RUFFQSxJQUFBLFVBQUEsU0FBQSxTQUFBO0dBQ0EsT0FBQSxnQkFBQSxXQUFBLE1BQUEsV0FBQTs7O0VBR0EsbUJBQUEsVUFBQTs7RUFFQTtJQUNBLE1BQUEsT0FBQTtJQUNBLFVBQUE7SUFDQSxPQUFBOzs7O0tBSUEsUUFBQTtNQUNBLGFBQUEsUUFBQTs7S0FFQSxNQUFBOzs7SUFHQSxNQUFBLFdBQUE7SUFDQSxLQUFBO0lBQ0EsTUFBQSxDQUFBLFVBQUE7SUFDQSxPQUFBO0tBQ0EsU0FBQTtNQUNBLGFBQUEsUUFBQTs7S0FFQSxPQUFBO01BQ0EsYUFBQSxRQUFBOzs7TUFHQSxNQUFBLGlCQUFBO0lBQ0EsS0FBQTtJQUNBLE1BQUEsQ0FBQSxVQUFBO0lBQ0EsT0FBQTtLQUNBLFNBQUE7TUFDQSxhQUFBLFFBQUE7O0tBRUEsTUFBQTs7Ozs7Ozs7O0FDMUNBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxjQUFBLG1CQUFBLFNBQUEsV0FBQTtFQUNBLFdBQUEsSUFBQSxxQkFBQSxTQUFBLE9BQUEsUUFBQTs7R0FFQSxJQUFBLFFBQUEsUUFBQSxRQUFBLEtBQUEsU0FBQTtJQUNBLFdBQUEsZUFBQSxRQUFBLEtBQUE7Ozs7O0VBS0EsV0FBQSxJQUFBLHNCQUFBLFNBQUEsT0FBQSxRQUFBO0dBQ0EsT0FBQSxNQUFBOzs7Ozs7QUNiQSxDQUFBLFdBQUE7SUFDQTs7SUFFQSxRQUFBLE9BQUEsY0FBQSx5QkFBQSxVQUFBLGNBQUE7OztRQUdBLGNBQUEsV0FBQTs7Ozs7QUNOQSxDQUFBLFdBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsY0FBQSxpQ0FBQSxVQUFBLHNCQUFBO0VBQ0Esc0JBQUEsaUJBQUE7Ozs7O0FDSkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGNBQUEsZ0NBQUEsU0FBQSxxQkFBQTtFQUNBO0dBQ0EsV0FBQTs7Ozs7QUNMQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsY0FBQSw4QkFBQSxTQUFBLG9CQUFBOztFQUVBLG1CQUFBLE1BQUE7R0FDQSxlQUFBO0dBQ0EsY0FBQTtHQUNBLFlBQUE7Ozs7O0FDUkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGVBQUEsUUFBQSxjQUFBLFVBQUE7RUFDQSxPQUFBLFNBQUEsT0FBQSxLQUFBO0dBQ0EsT0FBQSxDQUFBLENBQUEsQ0FBQSxTQUFBLE1BQUEsUUFBQSxzQkFBQSxTQUFBLElBQUE7SUFDQSxPQUFBLElBQUEsT0FBQSxHQUFBLGdCQUFBLElBQUEsT0FBQSxHQUFBO1FBQ0E7Ozs7O0FDUEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGVBQUEsUUFBQSxpQkFBQSxVQUFBO0VBQ0EsT0FBQSxTQUFBLFNBQUEsS0FBQTtHQUNBLEtBQUEsQ0FBQSxLQUFBO0lBQ0EsT0FBQTs7R0FFQSxJQUFBLFFBQUEsSUFBQSxNQUFBO0dBQ0EsS0FBQSxJQUFBLEVBQUEsR0FBQSxFQUFBLE1BQUEsUUFBQSxLQUFBO0lBQ0EsTUFBQSxLQUFBLE1BQUEsR0FBQSxPQUFBLEdBQUEsZ0JBQUEsTUFBQSxHQUFBLE1BQUE7O0dBRUEsT0FBQSxNQUFBLEtBQUE7Ozs7QUNaQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsZUFBQSxRQUFBLHNCQUFBLFVBQUEsTUFBQTtFQUNBLE9BQUEsVUFBQSxNQUFBO0dBQ0EsT0FBQSxLQUFBLFlBQUE7Ozs7QUNMQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsZUFBQSxPQUFBLFdBQUEsV0FBQTtFQUNBLE9BQUEsVUFBQSxRQUFBO0dBQ0EsS0FBQSxDQUFBLE9BQUE7SUFDQSxPQUFBOztHQUVBLE9BQUEsTUFBQSxVQUFBLEdBQUEsR0FBQSxnQkFBQSxNQUFBLFVBQUE7Ozs7OztBQ1JBLENBQUEsVUFBQTtJQUNBOztJQUVBLFFBQUEsT0FBQSxnQkFBQSxRQUFBLDhCQUFBLFNBQUEsWUFBQTs7UUFFQSxJQUFBLFVBQUE7UUFDQSxPQUFBO1VBQ0EsZ0JBQUEsU0FBQSxLQUFBO1lBQ0EsVUFBQTs7VUFFQSxnQkFBQSxVQUFBO1lBQ0EsT0FBQTs7Ozs7OztBQ1hBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxnQkFBQSxRQUFBLCtCQUFBLFNBQUEsVUFBQTs7RUFFQSxPQUFBO0dBQ0EsY0FBQSxTQUFBLFVBQUEsT0FBQTs7SUFFQSxJQUFBLFVBQUE7S0FDQSxhQUFBLG9CQUFBLFdBQUEsTUFBQSxXQUFBOzs7SUFHQSxJQUFBLE9BQUE7S0FDQSxRQUFBLFFBQUEsT0FBQTs7O0lBR0EsT0FBQSxVQUFBLEtBQUE7OztHQUdBLE1BQUEsVUFBQTtJQUNBLE9BQUEsVUFBQTs7O0dBR0EsT0FBQSxTQUFBLE9BQUEsUUFBQTtJQUNBLFVBQUE7S0FDQSxVQUFBO09BQ0EsTUFBQTtPQUNBLFFBQUE7T0FDQSxHQUFBOzs7Ozs7QUM1QkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGdCQUFBLFFBQUEsNkJBQUEsU0FBQSxTQUFBOztFQUVBLElBQUEsUUFBQTtHQUNBLFdBQUE7R0FDQSxTQUFBOztFQUVBLE9BQUE7R0FDQSxNQUFBLFNBQUEsUUFBQTtJQUNBLElBQUEsQ0FBQSxRQUFBO0tBQ0EsT0FBQTs7O0lBR0EsT0FBQSxTQUFBO0tBQ0EsU0FBQTtPQUNBLFFBQUE7T0FDQSxTQUFBO09BQ0EsT0FBQTtPQUNBLFVBQUE7OztHQUdBLE9BQUEsU0FBQSxRQUFBO0lBQ0EsSUFBQSxDQUFBLFFBQUE7S0FDQSxPQUFBOzs7SUFHQSxPQUFBLFNBQUE7S0FDQSxTQUFBO09BQ0EsUUFBQTtPQUNBLFNBQUE7T0FDQSxNQUFBO09BQ0EsT0FBQTtPQUNBLFVBQUE7Ozs7Ozs7QUNsQ0EsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsMkNBQUEsU0FBQSxRQUFBLGNBQUE7RUFDQSxPQUFBLGNBQUEsVUFBQTtHQUNBLGNBQUEsTUFBQSwwQkFBQTs7O0VBR0EsT0FBQSxlQUFBLFVBQUE7R0FDQSxjQUFBLGFBQUEsYUFBQTs7Ozs7O0FDVEEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsY0FBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFlBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxrRUFBQSxVQUFBLFFBQUEsYUFBQSxhQUFBLFlBQUE7RUFDQSxPQUFBLFVBQUE7RUFDQSxPQUFBLFFBQUE7R0FDQSxTQUFBO0lBQ0EsT0FBQTtLQUNBLE1BQUE7S0FDQSxRQUFBO0tBQ0EsUUFBQTtNQUNBLEtBQUE7TUFDQSxPQUFBO01BQ0EsUUFBQTtNQUNBLE1BQUE7O0tBRUEsR0FBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUE7O0tBRUEsR0FBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUE7O0tBRUEsWUFBQTtLQUNBLG9CQUFBO0tBQ0EsYUFBQTtLQUNBLE9BQUEsQ0FBQSxJQUFBO0tBQ0EsT0FBQTtNQUNBLFdBQUE7O0tBRUEsT0FBQTtNQUNBLFdBQUE7TUFDQSxtQkFBQTs7OztHQUlBLE1BQUE7O0VBRUEsT0FBQSxZQUFBO0VBQ0EsT0FBQSxVQUFBO0VBQ0EsT0FBQSxZQUFBO0VBQ0EsT0FBQSxTQUFBLENBQUEsV0FBQSxZQUFBLFNBQUEsU0FBQSxPQUFBLFFBQUE7RUFDQSxPQUFBLFNBQUEsQ0FBQSxZQUFBO0VBQ0EsT0FBQSxPQUFBO0dBQ0EsQ0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUEsSUFBQTtHQUNBLENBQUEsSUFBQSxJQUFBLElBQUEsSUFBQSxJQUFBLElBQUE7O0VBRUEsSUFBQSxNQUFBLFlBQUEsSUFBQTtFQUNBLElBQUEsVUFBQSxLQUFBLFVBQUEsTUFBQTtHQUNBLE9BQUEsTUFBQTtHQUNBLE9BQUE7O0VBRUEsT0FBQSxhQUFBLFlBQUE7R0FDQSxPQUFBLFlBQUEsQ0FBQSxPQUFBO0dBQ0EsT0FBQSxZQUFBLE9BQUEsYUFBQSxPQUFBLGlCQUFBOztFQUVBLE9BQUEsYUFBQSxVQUFBLEtBQUE7R0FDQSxPQUFBLFVBQUE7O0VBRUEsT0FBQSxVQUFBLFVBQUEsS0FBQTtHQUNBLE9BQUEsT0FBQSxJQUFBLFFBQUEsT0FBQTs7RUFFQSxPQUFBLGdCQUFBLFlBQUE7R0FDQSxPQUFBLE9BQUEsVUFBQSxDQUFBLE9BQUE7O0VBRUEsT0FBQSxZQUFBLFlBQUE7R0FDQSxJQUFBLENBQUEsT0FBQSxTQUFBO0lBQ0EsT0FBQTs7R0FFQSxPQUFBLENBQUEsT0FBQSxRQUFBLFFBQUEsSUFBQSxJQUFBLE9BQUEsUUFBQSxRQUFBLE9BQUEsUUFBQSxTQUFBLElBQUEsT0FBQSxRQUFBLE9BQUEsT0FBQSxRQUFBLE9BQUEsS0FBQTs7O0VBR0EsT0FBQSxjQUFBLFlBQUE7R0FDQSxJQUFBLENBQUEsT0FBQSxTQUFBO0lBQ0EsT0FBQTs7R0FFQSxPQUFBLE9BQUEsUUFBQSxpQkFBQSxJQUFBLGtCQUFBOztFQUVBLE9BQUEsT0FBQSxXQUFBLFVBQUEsU0FBQSxTQUFBO0dBQ0EsSUFBQSxZQUFBLFNBQUE7SUFDQTs7R0FFQSxJQUFBLFVBQUEsWUFBQSxJQUFBLFdBQUEsUUFBQSxLQUFBO0dBQ0EsUUFBQSxLQUFBLFVBQUEsTUFBQTtJQUNBLE9BQUEsVUFBQTtJQUNBLElBQUEsS0FBQTtLQUNBLFFBQUE7S0FDQSxRQUFBO0lBQ0EsUUFBQSxRQUFBLE9BQUEsUUFBQSxLQUFBLFVBQUEsTUFBQTtLQUNBLEdBQUEsS0FBQTtNQUNBLEdBQUEsS0FBQTtNQUNBLEdBQUEsS0FBQTs7S0FFQSxNQUFBLEtBQUE7TUFDQSxHQUFBLEtBQUE7TUFDQSxHQUFBLEtBQUE7O0tBRUEsTUFBQSxLQUFBO01BQ0EsR0FBQSxLQUFBO01BQ0EsR0FBQSxLQUFBOzs7SUFHQSxJQUFBLFlBQUE7Ozs7U0FJQTtLQUNBLFFBQUE7S0FDQSxLQUFBO0tBQ0EsT0FBQTtNQUNBO0tBQ0EsUUFBQTtLQUNBLEtBQUE7S0FDQSxNQUFBOztJQUVBLFFBQUEsSUFBQTtJQUNBLE9BQUEsTUFBQSxPQUFBOzs7O0VBSUEsSUFBQSxrQkFBQSxVQUFBLE1BQUE7R0FDQSxJQUFBLFNBQUE7R0FDQSxRQUFBLFFBQUEsT0FBQSxLQUFBLFVBQUEsS0FBQTtJQUNBLElBQUEsSUFBQSxXQUFBLE1BQUE7S0FDQSxTQUFBOzs7R0FHQSxPQUFBOztFQUVBLElBQUEsZUFBQSxVQUFBLFFBQUE7R0FDQSxPQUFBLFNBQUEsU0FBQSxjQUFBO0dBQ0EsT0FBQSxPQUFBLFFBQUE7R0FDQSxPQUFBLE9BQUEsU0FBQTtHQUNBLE9BQUEsTUFBQSxPQUFBLE9BQUEsV0FBQTtHQUNBLElBQUEsV0FBQSxPQUFBLElBQUEscUJBQUEsR0FBQSxHQUFBLEtBQUE7R0FDQSxTQUFBLGFBQUEsR0FBQTtHQUNBLFNBQUEsYUFBQSxNQUFBO0dBQ0EsU0FBQSxhQUFBLEdBQUE7R0FDQSxPQUFBLElBQUEsWUFBQTtHQUNBLE9BQUEsSUFBQSxTQUFBLEdBQUEsR0FBQSxLQUFBO0dBQ0EsT0FBQSxVQUFBLE9BQUEsSUFBQSxhQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUE7R0FDQSxTQUFBLHFCQUFBLFFBQUEsR0FBQSxZQUFBLE9BQUE7O0VBRUE7OztFQUdBLE9BQUEsZ0JBQUEsWUFBQTtHQUNBLFlBQUEsT0FBQSxPQUFBLEtBQUEsVUFBQSxLQUFBOztJQUVBLElBQUEsUUFBQTtJQUNBLElBQUEsU0FBQTtJQUNBLElBQUEsTUFBQTtJQUNBLElBQUEsT0FBQSxvR0FBQTtJQUNBLElBQUEsWUFBQSxJQUFBLEVBQUEsVUFBQSxVQUFBO0tBQ0EsS0FBQTtLQUNBLE9BQUE7S0FDQSxpQkFBQSxDQUFBO0tBQ0EsYUFBQTtLQUNBLFNBQUEsVUFBQSxLQUFBLEdBQUE7Ozs7Ozs7Ozs7O01BV0EsSUFBQSxPQUFBLFFBQUEsV0FBQSxJQUFBLFFBQUEsV0FBQSxPQUFBOzs7T0FHQSxJQUFBLFVBQUE7UUFDQSxDQUFBLElBQUEsUUFBQSxPQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFdBQUEsSUFBQSxRQUFBLE9BQUEsTUFBQSxJQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUE7UUFDQSxDQUFBLElBQUEsUUFBQSxPQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFdBQUEsSUFBQSxRQUFBLE9BQUEsTUFBQSxJQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUE7OztNQUdBLE9BQUEsVUFBQSxnQkFBQSxJQUFBLFFBQUEsV0FBQTs7S0FFQSxzQkFBQSxVQUFBLFNBQUE7O01BRUEsT0FBQSxRQUFBLFdBQUE7O0tBRUEsUUFBQSxVQUFBLFNBQUEsU0FBQTs7TUFFQSxJQUFBLFFBQUEsTUFBQSxTQUFBLFdBQUEsUUFBQSxNQUFBLFNBQUEsd0JBQUE7O09BRUEsSUFBQSxRQUFBLFdBQUEsZUFBQSxLQUFBLFFBQUEsV0FBQSxlQUFBLEtBQUEsUUFBQSxXQUFBLGVBQUEsR0FBQTtRQUNBLE9BQUE7Y0FDQTtRQUNBLE9BQUE7Ozs7TUFJQSxPQUFBOzs7S0FHQSxPQUFBLFVBQUEsU0FBQTtNQUNBLElBQUEsUUFBQTtNQUNBLElBQUEsU0FBQSxnQkFBQSxRQUFBLFdBQUE7TUFDQSxJQUFBLE9BQUEsUUFBQTtNQUNBLFFBQUE7TUFDQSxLQUFBO09BQ0EsTUFBQSxRQUFBO09BQ0EsTUFBQSxTQUFBO09BQ0EsTUFBQSxXQUFBO1FBQ0EsT0FBQTtRQUNBLFFBQUE7O09BRUE7TUFDQSxLQUFBO09BQ0EsTUFBQSxRQUFBO09BQ0EsTUFBQSxPQUFBO09BQ0EsTUFBQSxXQUFBO1FBQ0EsT0FBQTtRQUNBLE1BQUE7O09BRUE7TUFDQSxLQUFBO09BQ0EsSUFBQSxPQUFBLE9BQUE7UUFDQSxJQUFBLFdBQUEsU0FBQSxNQUFBLE1BQUEsT0FBQSxTQUFBO1FBQ0EsSUFBQSxRQUFBLFVBQUEsT0FBQSxRQUFBLFlBQUEsT0FBQSxPQUFBLFFBQUEsV0FBQSxLQUFBLE9BQUEsT0FBQSxRQUFBLFdBQUEsS0FBQSxNQUFBLE9BQUEsUUFBQSxXQUFBLEtBQUE7UUFDQSxNQUFBLFFBQUE7UUFDQSxNQUFBLFVBQUE7U0FDQSxPQUFBO1NBQ0EsTUFBQTs7UUFFQSxNQUFBLFdBQUE7U0FDQSxPQUFBO1NBQ0EsU0FBQTtVQUNBLE9BQUE7VUFDQSxNQUFBOzs7UUFHQTtjQUNBO1FBQ0EsTUFBQSxRQUFBO1FBQ0EsTUFBQSxVQUFBO1NBQ0EsT0FBQTtTQUNBLE1BQUE7Ozs7OztNQU1BLE1BQUEsYUFBQSxVQUFBLFlBQUE7T0FDQSxJQUFBLEtBQUEsV0FBQTs7Ozs7TUFLQSxNQUFBLGNBQUEsVUFBQSxZQUFBLFVBQUE7T0FDQSxJQUFBLFFBQUE7UUFDQSxNQUFBLFNBQUE7UUFDQSxVQUFBLENBQUEsSUFBQTtRQUNBLFVBQUE7UUFDQSxrQkFBQTs7T0FFQSxPQUFBOzs7O01BSUEsT0FBQTs7OztLQUlBLFdBQUEsVUFBQSxXQUFBO01BQ0EsSUFBQSxVQUFBLFFBQUEsWUFBQSxDQUFBLEdBQUE7T0FDQSxPQUFBLFVBQUEsUUFBQSxVQUFBOztNQUVBLE9BQUEsWUFBQTs7OztJQUlBLE1BQUEsWUFBQTtJQUNBLElBQUEsU0FBQTs7Ozs7O0FDbFJBLENBQUEsVUFBQTtJQUNBOztJQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLGtCQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLHVDQUFBLFNBQUEsUUFBQSxXQUFBOztFQUVBLE9BQUEsT0FBQSxVQUFBO0dBQ0EsT0FBQSxXQUFBO0tBQ0EsU0FBQSxRQUFBO0dBQ0EsT0FBQSxlQUFBLFdBQUE7Ozs7Ozs7QUNSQSxDQUFBLFlBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSwrQkFBQSxVQUFBLFdBQUE7RUFDQSxLQUFBLFdBQUE7R0FDQSxhQUFBO0dBQ0EsV0FBQTtHQUNBLHlCQUFBO0dBQ0Esa0JBQUE7OztFQUdBLEtBQUEsZUFBQSxVQUFBLE1BQUEsSUFBQTtHQUNBLFVBQUEsS0FBQSxVQUFBO0tBQ0EsTUFBQTtLQUNBLFFBQUEsd0JBQUEsT0FBQTtLQUNBLEdBQUE7S0FDQSxZQUFBOzs7O0lBSUEsS0FBQSxnQkFBQSxXQUFBO0dBQ0EsVUFBQSxLQUFBOztLQUVBLGFBQUE7U0FDQSxrQkFBQTs7S0FFQSxLQUFBLFVBQUEsUUFBQTs7T0FFQSxZQUFBOzs7Ozs7Ozs7O0FDNUJBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLGtEQUFBLFNBQUEsUUFBQSxPQUFBLFlBQUE7O0VBRUEsSUFBQSxjQUFBOztFQUVBLE9BQUEsZUFBQSxVQUFBOztHQUVBLE1BQUEsTUFBQSxhQUFBLEtBQUEsVUFBQSxLQUFBOzs7Ozs7OztFQVFBLE9BQUEsVUFBQSxVQUFBO0dBQ0EsWUFBQSxJQUFBLHFCQUFBLE1BQUEsS0FBQSxVQUFBLFNBQUE7O01BRUEsVUFBQSxNQUFBOzs7Ozs7Ozs7QUNwQkEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsaUdBQUEsU0FBQSxRQUFBLFVBQUEsV0FBQSxXQUFBLGNBQUEsY0FBQTs7RUFFQSxPQUFBLGFBQUE7RUFDQSxPQUFBLE9BQUE7O0VBRUEsSUFBQSxRQUFBO0lBQ0EsVUFBQSxZQUFBLFdBQUEsU0FBQSxZQUFBLFlBQUEsV0FBQSxpQkFBQSxTQUFBO0lBQ0EsYUFBQSxvQkFBQSxhQUFBLE9BQUEsb0JBQUEsV0FBQSxvQkFBQSxXQUFBO0lBQ0Esc0JBQUEsU0FBQSxxQkFBQSxrQkFBQSxpQkFBQSxjQUFBLGNBQUE7SUFDQSxZQUFBLGtCQUFBLGFBQUEsZUFBQSxjQUFBLFdBQUEsT0FBQSx1QkFBQTtJQUNBLGFBQUEsUUFBQSxRQUFBLGFBQUEsV0FBQSxVQUFBLFNBQUEsZUFBQSxXQUFBLGVBQUE7SUFDQSxRQUFBLHlCQUFBLFFBQUEsZUFBQSxlQUFBLG1CQUFBLGFBQUE7SUFDQSxhQUFBLGlCQUFBLGVBQUEsV0FBQSxrQkFBQSxlQUFBO0lBQ0Esd0JBQUEsZ0JBQUEseUJBQUEsYUFBQSxlQUFBLGlCQUFBO0lBQ0EsUUFBQSxXQUFBLHNCQUFBLFNBQUEsV0FBQSxTQUFBLGNBQUEsUUFBQSxTQUFBLFNBQUE7SUFDQSxVQUFBLGtCQUFBLGNBQUEsZ0JBQUEsYUFBQSxTQUFBLG1CQUFBLFNBQUE7SUFDQSxtQkFBQSxjQUFBLGVBQUEsaUJBQUEsZUFBQSxjQUFBLFlBQUEsY0FBQTtJQUNBLFNBQUEsY0FBQSxhQUFBLFdBQUEsZ0JBQUEsYUFBQSxRQUFBLFNBQUEsUUFBQTtJQUNBLHNCQUFBLFlBQUEsVUFBQSxTQUFBOztHQUVBLFVBQUE7O0VBRUEsVUFBQSxVQUFBO0dBQ0EsT0FBQSxPQUFBLE1BQUEsRUFBQTtHQUNBLElBQUEsVUFBQSxJQUFBO0lBQ0EsVUFBQTs7S0FFQTs7Ozs7O0FDOUJBLENBQUEsV0FBQTtJQUNBOztJQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLGFBQUEsV0FBQTs7Ozs7O0FDSEEsQ0FBQSxZQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsc0ZBQUEsVUFBQSxRQUFBLFlBQUEsVUFBQSxZQUFBLGFBQUEsT0FBQTs7RUFFQSxJQUFBLFNBQUE7Ozs7Ozs7Ozs7Ozs7RUFhQSxRQUFBLE9BQUEsWUFBQTtHQUNBLFFBQUE7SUFDQSxLQUFBO0lBQ0EsS0FBQTtJQUNBLE1BQUE7O0dBRUEsUUFBQTtJQUNBLFlBQUE7S0FDQSxLQUFBO01BQ0EsTUFBQTtNQUNBLEtBQUEsZ0ZBQUE7TUFDQSxNQUFBOzs7SUFHQSxVQUFBO0tBQ0EsY0FBQTtNQUNBLE1BQUE7TUFDQSxNQUFBO01BQ0EsS0FBQTtNQUNBLFNBQUE7Ozs7O0VBS0EsT0FBQSxXQUFBLFVBQUEsSUFBQTtHQUNBLElBQUEsTUFBQSwrQkFBQTtHQUNBLE1BQUEsSUFBQSxLQUFBLFFBQUEsVUFBQSxLQUFBO0lBQ0EsT0FBQSxTQUFBO0tBQ0EsS0FBQSxJQUFBO0tBQ0EsS0FBQSxJQUFBO0tBQ0EsTUFBQTs7SUFFQSxPQUFBLEtBQUEsSUFBQTs7OztFQUlBLE9BQUEsU0FBQTtFQUNBLE9BQUEsZ0JBQUE7RUFDQSxPQUFBLE9BQUE7RUFDQSxPQUFBLElBQUEsd0NBQUEsVUFBQSxPQUFBLGNBQUE7O0dBRUEsT0FBQSxnQkFBQSxhQUFBLEtBQUE7R0FDQSxPQUFBLE9BQUEsMkJBQUEsYUFBQSxLQUFBOzs7RUFHQSxPQUFBLElBQUEsdUNBQUEsVUFBQSxPQUFBLGNBQUE7R0FDQSxPQUFBLGdCQUFBO0dBQ0EsT0FBQSxPQUFBOztFQUVBLFdBQUEsZUFBQSxZQUFBLE9BQUE7Ozs7O0FDbkVBLENBQUEsVUFBQTtJQUNBOztJQUVBLFFBQUEsT0FBQSxtQkFBQSxXQUFBLFlBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsZUFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsbUJBQUEsV0FBQSxvQ0FBQSxTQUFBLFFBQUEsT0FBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsaUJBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEseUNBQUEsU0FBQSxRQUFBLGFBQUE7O0VBRUEsT0FBQSxlQUFBLFVBQUE7R0FDQSxhQUFBLEtBQUE7OztFQUdBLE9BQUEsYUFBQSxVQUFBO0dBQ0EsYUFBQSxNQUFBOzs7Ozs7O0FDVkEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsMEJBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxVQUFBO0lBQ0E7O0lBRUEsUUFBQSxPQUFBLG1CQUFBLFdBQUEsNENBQUEsU0FBQSxRQUFBLGNBQUE7O1FBRUEsT0FBQSxPQUFBLFVBQUE7O1lBRUEsY0FBQTs7O1FBR0EsT0FBQSxPQUFBLFVBQUE7U0FDQSxjQUFBOzs7Ozs7O0FDWEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxRQUFBLG9CQUFBLFlBQUEsZUFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFlBQUE7Q0FDQTs7Q0FFQSxTQUFBLGNBQUEsV0FBQSxPQUFBO0VBQ0EsSUFBQSxZQUFBO0VBQ0EsUUFBQSxRQUFBLFVBQUEsS0FBQSxRQUFBLE9BQUEsK0NBQUEsWUFBQTs7Ozs7O0VBTUE7O0VBRUEsU0FBQSxZQUFBLFNBQUEsTUFBQSxPQUFBO0dBQ0EsUUFBQSxRQUFBLFNBQUEsY0FBQSxNQUFBLFlBQUEsS0FBQTtHQUNBLFFBQUEsUUFBQSxTQUFBLGNBQUEsTUFBQSxZQUFBLElBQUEsV0FBQTs7R0FFQSxPQUFBLGVBQUEsT0FBQTs7O0VBR0EsU0FBQSxjQUFBO0dBQ0EsUUFBQSxRQUFBLFNBQUEsY0FBQSxNQUFBLFlBQUEsSUFBQSxXQUFBOzs7RUFHQSxTQUFBLGVBQUEsT0FBQSxHQUFBO0dBQ0EsSUFBQSxPQUFBLE1BQUE7R0FDQSxJQUFBLFVBQUE7R0FDQSxJQUFBLFVBQUE7R0FDQSxJQUFBLE1BQUEsU0FBQSxjQUFBO0dBQ0EsSUFBQSxRQUFBLE9BQUE7R0FDQSxJQUFBLE1BQUEsUUFBQSxRQUFBLFNBQUEsY0FBQSxPQUFBO0dBQ0EsSUFBQSxNQUFBLFNBQUEsY0FBQSxNQUFBO0dBQ0EsSUFBQSxRQUFBLElBQUEsd0JBQUEsTUFBQSxFQUFBLElBQUEsTUFBQTtHQUNBLElBQUEsU0FBQSxJQUFBLHdCQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsU0FBQTtHQUNBLE9BQUEsUUFBQSxRQUFBLFNBQUEsY0FBQSxPQUFBLElBQUEsT0FBQSxRQUFBLE1BQUEsSUFBQSxRQUFBLFNBQUE7OztFQUdBLE9BQUE7R0FDQSxhQUFBO0dBQ0EsYUFBQTtHQUNBLGdCQUFBOzs7Q0FHQSxRQUFBLE9BQUEsa0JBQUEsVUFBQSx3QkFBQSxVQUFBLFVBQUE7RUFDQSxJQUFBO0VBQ0EsV0FBQSxZQUFBO0dBQ0EsT0FBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsZ0JBQUE7SUFDQSxLQUFBO0lBQ0EsT0FBQTtJQUNBLFFBQUE7SUFDQSxTQUFBO0lBQ0EsWUFBQSxHQUFBLE1BQUEsVUFBQSxPQUFBLENBQUEsTUFBQSxPQUFBLE1BQUEsQ0FBQSxXQUFBO0lBQ0EsWUFBQTtJQUNBLGNBQUE7SUFDQSxVQUFBO0lBQ0EsU0FBQSxjQUFBLG1CQUFBOzs7RUFHQSxPQUFBO0dBQ0EsVUFBQTs7R0FFQSxPQUFBO0lBQ0EsV0FBQTtJQUNBLFdBQUE7SUFDQSxTQUFBO0lBQ0EsWUFBQTs7R0FFQSxNQUFBLFVBQUEsT0FBQSxNQUFBLE9BQUE7SUFDQSxJQUFBLFVBQUEsUUFBQSxPQUFBLFlBQUE7SUFDQSxJQUFBLFFBQUE7S0FDQSxRQUFBOztJQUVBLElBQUEsYUFBQSxHQUFBLElBQUEsTUFBQSxXQUFBLFVBQUEsR0FBQTtLQUNBLE9BQUEsU0FBQSxFQUFBOzs7SUFHQSxRQUFBLGVBQUEsR0FBQSxNQUFBLE1BQUEsU0FBQSxLQUFBLE9BQUEsQ0FBQSxHQUFBLGFBQUEsTUFBQSxDQUFBLEdBQUE7SUFDQSxRQUFBLFNBQUE7S0FDQSxHQUFBLFFBQUEsUUFBQTtLQUNBLEdBQUEsUUFBQSxTQUFBOztJQUVBLFFBQUEsY0FBQTtLQUNBLE1BQUE7TUFDQSxHQUFBLFFBQUEsUUFBQTtNQUNBLEdBQUEsUUFBQSxTQUFBLE1BQUE7TUFDQSxRQUFBOztLQUVBLE1BQUE7TUFDQSxHQUFBLFFBQUEsUUFBQTtNQUNBLEdBQUEsUUFBQSxTQUFBLE1BQUE7TUFDQSxRQUFBOzs7SUFHQSxJQUFBLGVBQUEsWUFBQTtLQUNBLFFBQUEsQ0FBQTtNQUNBLElBQUE7TUFDQSxNQUFBO01BQ0EsUUFBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsT0FBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsT0FBQTtNQUNBLE1BQUE7TUFDQSxTQUFBO1FBQ0E7TUFDQSxJQUFBO01BQ0EsTUFBQTtNQUNBLFFBQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE9BQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtRQUNBO01BQ0EsSUFBQTtNQUNBLE1BQUE7TUFDQSxRQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxPQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxNQUFBO01BQ0EsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7UUFDQTtNQUNBLElBQUE7TUFDQSxNQUFBO01BQ0EsUUFBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsT0FBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsT0FBQTtNQUNBLE1BQUE7TUFDQSxTQUFBO1FBQ0E7TUFDQSxJQUFBO01BQ0EsTUFBQTtNQUNBLFFBQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE9BQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtRQUNBO01BQ0EsSUFBQTtNQUNBLE1BQUE7TUFDQSxRQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxPQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxNQUFBO01BQ0EsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7UUFDQTtNQUNBLElBQUE7TUFDQSxNQUFBO01BQ0EsUUFBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsT0FBQSxNQUFBLFVBQUEsUUFBQSxNQUFBO01BQ0EsTUFBQTtNQUNBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsT0FBQTtNQUNBLE1BQUE7TUFDQSxTQUFBO1FBQ0E7TUFDQSxJQUFBO01BQ0EsTUFBQTtNQUNBLFFBQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE9BQUEsTUFBQSxVQUFBLFFBQUEsTUFBQTtNQUNBLE1BQUE7TUFDQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxHQUFBLFFBQUEsT0FBQTtNQUNBLE9BQUE7TUFDQSxNQUFBO01BQ0EsU0FBQTtRQUNBO01BQ0EsSUFBQTtNQUNBLE1BQUE7TUFDQSxRQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxPQUFBLE1BQUEsVUFBQSxRQUFBLE1BQUE7TUFDQSxNQUFBO01BQ0EsT0FBQTtNQUNBLEdBQUEsUUFBQSxPQUFBO01BQ0EsR0FBQSxRQUFBLE9BQUE7TUFDQSxPQUFBO01BQ0EsTUFBQTtNQUNBLFNBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFrQ0EsSUFBQSxhQUFBLFlBQUE7S0FDQSxRQUFBLFFBQUEsTUFBQSxLQUFBO0tBQ0EsUUFBQSxNQUFBLEdBQUEsT0FBQSxLQUFBLElBQUEsT0FBQSxPQUFBLEtBQUEsU0FBQSxRQUFBLE9BQUEsS0FBQSxVQUFBLFFBQUEsUUFBQSxLQUFBLE1BQUE7S0FDQSxJQUFBLEtBQUEsS0FBQTtLQUNBLElBQUEsU0FBQSxHQUFBLElBQUE7T0FDQSxZQUFBO09BQ0EsWUFBQTtPQUNBLFdBQUEsQ0FBQSxNQUFBLEtBQUE7T0FDQSxTQUFBLE1BQUEsS0FBQTtLQUNBLElBQUEsWUFBQSxHQUFBLElBQUE7T0FDQSxZQUFBO09BQ0EsWUFBQTtPQUNBLFdBQUEsTUFBQSxLQUFBO09BQ0EsU0FBQSxPQUFBLEtBQUE7O0tBRUEsUUFBQSxTQUFBLFFBQUEsSUFBQSxPQUFBO09BQ0EsS0FBQSxLQUFBO09BQ0EsS0FBQSxRQUFBO09BQ0EsS0FBQSxhQUFBO0tBQ0EsUUFBQSxZQUFBLFFBQUEsSUFBQSxPQUFBO09BQ0EsS0FBQSxLQUFBO09BQ0EsS0FBQSxRQUFBO09BQ0EsS0FBQSxhQUFBO0tBQ0EsUUFBQSxhQUFBLFFBQUEsSUFBQSxVQUFBLFVBQUEsS0FBQSxPQUFBLFFBQUEsT0FBQSxLQUFBLEtBQUEsYUFBQSxnQkFBQSxRQUFBLFFBQUEsS0FBQSxPQUFBLFFBQUEsU0FBQSxLQUFBLEtBQUEsS0FBQSxTQUFBOzs7Ozs7S0FNQSxRQUFBLFVBQUEsUUFBQSxXQUFBLE9BQUEsVUFBQSxLQUFBLEtBQUEsR0FBQSxLQUFBLFNBQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxFQUFBLFNBQUEsUUFBQSxXQUFBLEVBQUE7U0FDQSxLQUFBLGdCQUFBLEdBQUEsS0FBQSxVQUFBLFVBQUEsR0FBQTtNQUNBLE9BQUEsR0FBQSxJQUFBLFFBQUEsV0FBQSxFQUFBLFFBQUE7UUFDQSxLQUFBLE1BQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxZQUFBLEVBQUE7O0tBRUEsUUFBQSxRQUFBLFFBQUEsV0FBQSxPQUFBO09BQ0EsS0FBQSxlQUFBO09BQ0EsS0FBQSxhQUFBLFVBQUEsR0FBQTtPQUNBOztPQUVBLEtBQUEsZUFBQTtPQUNBLEtBQUEsUUFBQTtPQUNBLEtBQUEsVUFBQSxHQUFBO09BQ0EsT0FBQSxFQUFBOztLQUVBLFFBQUEsTUFBQSxHQUFBLGFBQUEsVUFBQSxHQUFBLEdBQUE7TUFDQSxPQUFBLGFBQUEsR0FBQSxHQUFBO1FBQ0EsR0FBQSxZQUFBLFVBQUEsR0FBQSxHQUFBO01BQ0EsT0FBQSxhQUFBLEdBQUEsR0FBQTs7Ozs7O0tBTUEsUUFBQSxRQUFBLGFBQUEsU0FBQSxRQUFBLFVBQUEsS0FBQSxLQUFBLFVBQUEsR0FBQTtNQUNBLE9BQUEsRUFBQTs7S0FFQSxRQUFBLE1BQUEsYUFBQSxTQUFBLFFBQUEsVUFBQSxLQUFBLGFBQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxFQUFBLFNBQUEsT0FBQTtRQUNBLEtBQUEsS0FBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUEsU0FBQSxNQUFBOzs7SUFHQSxJQUFBLGFBQUEsWUFBQTs7S0FFQSxNQUFBLFFBQUEsVUFBQSxHQUFBLEdBQUE7TUFDQSxRQUFBLFFBQUEsYUFBQSxTQUFBLFFBQUEsVUFBQSxNQUFBLElBQUEsUUFBQTtRQUNBLEtBQUEsS0FBQSxVQUFBLEdBQUE7UUFDQSxFQUFBLFNBQUEsRUFBQSxRQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsTUFBQTs7UUFFQSxPQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsTUFBQTs7TUFFQSxRQUFBLE1BQUEsYUFBQSxTQUFBLFFBQUEsVUFBQSxNQUFBLElBQUEsUUFBQTtRQUNBLEtBQUEsYUFBQSxVQUFBLEdBQUE7UUFDQSxPQUFBLENBQUEsTUFBQSxVQUFBLEVBQUEsUUFBQSxNQUFBLGNBQUEsT0FBQTs7UUFFQSxLQUFBLEtBQUEsVUFBQSxHQUFBO1FBQ0EsT0FBQSxDQUFBLE1BQUEsVUFBQSxFQUFBLFFBQUEsTUFBQSxjQUFBLE1BQUE7Ozs7SUFJQSxJQUFBLFNBQUEsVUFBQSxHQUFBO0tBQ0EsT0FBQSxDQUFBLEtBQUEsSUFBQSxFQUFBLFFBQUEsT0FBQTs7SUFFQSxJQUFBLFFBQUEsWUFBQTtLQUNBLE9BQUEsUUFBQSxRQUFBLEdBQUEsT0FBQSxRQUFBLE1BQUEsT0FBQSxLQUFBLENBQUEsUUFBQSxPQUFBLFFBQUEsU0FBQSxNQUFBOzs7Ozs7Ozs7Ozs7O0lBYUEsSUFBQSxpQkFBQSxZQUFBO0tBQ0EsUUFBQSxNQUFBLFFBQUEsUUFBQSxnQkFBQSxPQUFBLFFBQUEsU0FBQSxLQUFBLEdBQUEsUUFBQSxVQUFBLEdBQUE7TUFDQSxRQUFBLFdBQUEsS0FBQSxpQkFBQSxFQUFBLFFBQUEsS0FBQSxhQUFBLFVBQUEsR0FBQTtPQUNBLE9BQUEsZUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLElBQUE7Ozs7OztLQU1BLFFBQUEsTUFBQTs7O0lBR0EsSUFBQSxzQkFBQSxVQUFBLE9BQUE7S0FDQSxPQUFBLENBQUEsVUFBQSxPQUFBO01BQ0EsT0FBQSxVQUFBLEdBQUE7T0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsUUFBQSxPQUFBLElBQUEsRUFBQSxNQUFBLFFBQUEsU0FBQSxRQUFBO09BQ0EsRUFBQSxJQUFBLEVBQUEsSUFBQSxDQUFBLFFBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQTs7UUFFQTs7SUFFQSxJQUFBLG1CQUFBLFVBQUEsT0FBQTtLQUNBLE9BQUEsQ0FBQSxVQUFBLE9BQUE7TUFDQSxPQUFBLFVBQUEsR0FBQTtPQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQSxRQUFBLE9BQUEsSUFBQSxFQUFBLE1BQUEsUUFBQSxTQUFBLFFBQUEsUUFBQTtPQUNBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQSxNQUFBLEVBQUEsTUFBQSxRQUFBLFNBQUEsUUFBQSxRQUFBOztRQUVBOztJQUVBLElBQUEsbUJBQUEsVUFBQSxPQUFBO0tBQ0EsT0FBQSxDQUFBLFVBQUEsT0FBQTtNQUNBLE9BQUEsVUFBQSxHQUFBO09BQ0EsSUFBQTtPQUNBLFNBQUEsUUFBQSxZQUFBLEVBQUE7T0FDQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxPQUFBLFNBQUEsUUFBQSxRQUFBO09BQ0EsT0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLENBQUEsT0FBQSxJQUFBLEVBQUEsTUFBQSxPQUFBLFNBQUEsUUFBQSxRQUFBOztRQUVBOztJQUVBLElBQUEsZUFBQSxVQUFBLE1BQUEsR0FBQSxTQUFBO0tBQ0EsSUFBQTs7S0FFQSxVQUFBLDJCQUFBLEtBQUEsT0FBQTs7Ozs7S0FLQSxTQUFBLFFBQUEsUUFBQSxZQUFBLFNBQUEsTUFBQSxHQUFBLE9BQUEsWUFBQTs7O0lBR0EsSUFBQSxlQUFBLFVBQUEsTUFBQSxHQUFBLFNBQUE7S0FDQSxPQUFBLFFBQUEsUUFBQTs7OztJQUlBLE1BQUEsT0FBQSxhQUFBLFVBQUEsTUFBQSxTQUFBO0tBQ0EsUUFBQSxRQUFBO0tBQ0EsSUFBQSxRQUFBLFdBQUEsTUFBQTtNQUNBO01BQ0E7TUFDQTtZQUNBO01BQ0E7OztLQUdBOzs7O0lBSUEsTUFBQSxPQUFBLGFBQUEsVUFBQSxNQUFBLE1BQUE7S0FDQSxJQUFBLFNBQUEsTUFBQTtNQUNBOztLQUVBLElBQUEsUUFBQSxPQUFBO01BQ0E7WUFDQTtNQUNBOzs7Ozs7OztBQzVaQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLFFBQUEsb0JBQUEsWUFBQSxtQkFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFdBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsa0JBQUEsVUFBQSxlQUFBLFdBQUE7RUFDQSxJQUFBLFdBQUEsV0FBQTtHQUNBLE9BQUE7SUFDQSxPQUFBO0lBQ0EsUUFBQTtJQUNBLE9BQUE7SUFDQSxNQUFBOzs7RUFHQSxPQUFBO0dBQ0EsVUFBQTtHQUNBLFlBQUE7R0FDQSxPQUFBO0dBQ0EsU0FBQTtHQUNBLE1BQUEsU0FBQSxRQUFBLFNBQUEsUUFBQSxTQUFBOztJQUVBLElBQUEsVUFBQSxRQUFBLE9BQUEsWUFBQTs7O0lBR0EsSUFBQSxTQUFBLEdBQUEsTUFBQTtNQUNBLE9BQUEsQ0FBQSxHQUFBLFFBQUE7TUFDQSxNQUFBLENBQUEsR0FBQTtNQUNBLE1BQUE7OztJQUdBLElBQUEsTUFBQSxHQUFBLE9BQUEsUUFBQSxJQUFBLE9BQUE7TUFDQSxLQUFBLFNBQUEsUUFBQTtNQUNBLEtBQUEsVUFBQSxRQUFBO01BQ0EsT0FBQTtJQUNBLElBQUEsWUFBQSxJQUFBLE9BQUE7TUFDQSxLQUFBLGFBQUEsZUFBQSxRQUFBLFFBQUEsSUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBO0lBQ0EsSUFBQSxhQUFBLFVBQUEsT0FBQTtNQUNBLEtBQUEsS0FBQSxRQUFBLFFBQUEsSUFBQTtNQUNBLEtBQUEsZ0JBQUE7TUFDQSxLQUFBLFVBQUEsUUFBQTtNQUNBLE1BQUEsV0FBQTtNQUNBLEtBQUEsUUFBQTtJQUNBLElBQUEsTUFBQSxHQUFBLElBQUE7TUFDQSxXQUFBO01BQ0EsWUFBQSxTQUFBLEdBQUE7TUFDQSxPQUFBLFFBQUEsUUFBQSxJQUFBOztNQUVBLFlBQUEsU0FBQSxHQUFBO01BQ0EsT0FBQSxRQUFBLFFBQUE7O0lBRUEsSUFBQSxjQUFBLFVBQUEsT0FBQTtNQUNBLE1BQUE7TUFDQSxVQUFBLElBQUEsS0FBQSxLQUFBOztNQUVBLE1BQUEsUUFBQSxRQUFBO01BQ0EsS0FBQSxLQUFBO0lBQ0EsSUFBQSxPQUFBLFVBQUEsVUFBQTtNQUNBLEtBQUEsQ0FBQTtNQUNBO01BQ0EsT0FBQTtNQUNBLEtBQUEsU0FBQSxHQUFBO01BQ0EsT0FBQSxJQUFBLE1BQUEsUUFBQTs7TUFFQSxLQUFBLGVBQUE7TUFDQSxLQUFBLEtBQUE7OztJQUdBLFNBQUEsVUFBQSxRQUFBO0tBQ0EsWUFBQTtPQUNBLFNBQUE7T0FDQSxLQUFBLFVBQUEsT0FBQSxVQUFBLElBQUEsS0FBQTtLQUNBLEtBQUEsYUFBQSxTQUFBLEtBQUEsTUFBQSxRQUFBLFNBQUEsR0FBQTtNQUNBLElBQUEsT0FBQSxLQUFBLFlBQUEsTUFBQTtNQUNBLElBQUEsSUFBQSxHQUFBLFlBQUEsS0FBQSxJQUFBO01BQ0EsT0FBQSxTQUFBLEdBQUE7T0FDQSxLQUFBLGNBQUEsQ0FBQSxLQUFBLE1BQUEsRUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLFFBQUE7Ozs7OztJQU1BLFNBQUEsU0FBQSxZQUFBLFVBQUE7S0FDQSxXQUFBLFVBQUEsS0FBQSxTQUFBLEdBQUE7TUFDQSxJQUFBLGNBQUEsR0FBQSxZQUFBLEVBQUEsVUFBQTtNQUNBLE9BQUEsU0FBQSxHQUFBO09BQ0EsRUFBQSxXQUFBLFlBQUE7T0FDQSxPQUFBLElBQUE7Ozs7OztJQU1BLE9BQUE7S0FDQSxXQUFBO01BQ0EsT0FBQSxRQUFBOztLQUVBLFNBQUEsVUFBQSxVQUFBO01BQ0EsSUFBQSxhQUFBO09BQ0E7TUFDQSxVQUFBLFNBQUE7UUFDQTs7Ozs7OztBQ2xHQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLFFBQUEsb0JBQUEsWUFBQSxtQkFBQSxVQUFBOzs7Ozs7QUNIQSxDQUFBLFVBQUE7Q0FDQTs7Q0FFQSxRQUFBLE9BQUEsa0JBQUEsV0FBQSxlQUFBLFdBQUE7O0VBRUEsT0FBQTtHQUNBLFVBQUE7R0FDQSxhQUFBO0dBQ0EsWUFBQTtHQUNBLE1BQUEsVUFBQSxRQUFBLFNBQUEsUUFBQTs7Ozs7Ozs7O0FDVEEsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGtCQUFBLFdBQUEsWUFBQSxXQUFBOztFQUVBLE9BQUE7R0FDQSxVQUFBO0dBQ0EsYUFBQTtHQUNBLFlBQUE7R0FDQSxNQUFBLFVBQUEsUUFBQSxTQUFBLFFBQUE7Ozs7Ozs7OztBQ1RBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsUUFBQSxvQkFBQSxZQUFBLGdCQUFBLFVBQUE7Ozs7OztBQ0hBLENBQUEsWUFBQTtDQUNBOztDQUVBLFFBQUEsT0FBQSxrQkFBQSxVQUFBLGFBQUEsWUFBQTtFQUNBLElBQUEsV0FBQSxZQUFBO0dBQ0EsT0FBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsUUFBQTs7O0VBR0EsT0FBQTtHQUNBLFVBQUE7R0FDQSxPQUFBO0lBQ0EsTUFBQTs7R0FFQSxNQUFBLFVBQUEsUUFBQSxTQUFBLFFBQUE7SUFDQSxJQUFBLFNBQUE7SUFDQSxJQUFBLFVBQUEsUUFBQSxPQUFBLFlBQUE7SUFDQSxJQUFBLE1BQUEsR0FBQSxPQUFBLFFBQUEsSUFBQSxPQUFBO01BQ0EsS0FBQSxTQUFBLFFBQUEsUUFBQSxRQUFBLFNBQUE7TUFDQSxLQUFBLFVBQUEsUUFBQSxTQUFBLFFBQUEsU0FBQTs7SUFFQSxJQUFBLFFBQUEsR0FBQSxNQUFBO0lBQ0EsSUFBQSxJQUFBLEdBQUEsTUFBQSxTQUFBLE1BQUEsQ0FBQSxHQUFBLFFBQUEsUUFBQTtJQUNBLElBQUEsSUFBQSxHQUFBLE1BQUEsU0FBQSxNQUFBLENBQUEsUUFBQSxTQUFBLElBQUEsSUFBQSxPQUFBLENBQUEsR0FBQTtJQUNBLElBQUEsUUFBQSxHQUFBLElBQUEsT0FBQSxNQUFBLEdBQUEsT0FBQSxVQUFBLFNBQUEsR0FBQSxjQUFBO0lBQ0EsSUFBQSxRQUFBLEdBQUEsSUFBQSxPQUFBLE1BQUEsR0FBQSxPQUFBLFFBQUEsU0FBQSxHQUFBLGNBQUE7SUFDQSxFQUFBLE9BQUEsQ0FBQSxHQUFBLElBQUEsT0FBQSxLQUFBLEtBQUEsVUFBQSxHQUFBO0tBQ0EsT0FBQSxFQUFBO1FBQ0EsR0FBQSxJQUFBLE9BQUEsS0FBQSxLQUFBLFVBQUEsR0FBQTtLQUNBLE9BQUEsRUFBQTs7SUFFQSxJQUFBLE9BQUEsR0FBQSxJQUFBO01BQ0EsWUFBQTtNQUNBLEVBQUEsVUFBQSxHQUFBO01BQ0EsT0FBQSxFQUFBLEVBQUE7O01BRUEsRUFBQSxVQUFBLEdBQUE7TUFDQSxPQUFBLEVBQUEsRUFBQTs7O0tBR0EsSUFBQSxPQUFBO09BQ0EsS0FBQSxhQUFBLG1CQUFBLFFBQUEsU0FBQSxNQUFBO09BQ0EsS0FBQTtLQUNBLElBQUEsT0FBQTtPQUNBLEtBQUEsYUFBQTtPQUNBLEtBQUE7Ozs7Ozs7O0lBUUEsSUFBQSxTQUFBO0lBQ0EsSUFBQSxjQUFBLFlBQUE7S0FDQSxTQUFBO0tBQ0EsUUFBQSxRQUFBLE9BQUEsS0FBQSxLQUFBLFVBQUEsTUFBQTtNQUNBLE9BQUEsS0FBQTtPQUNBLE1BQUEsS0FBQTtPQUNBLElBQUEsS0FBQTtPQUNBLE9BQUEsS0FBQTtPQUNBLFNBQUEsS0FBQTs7O0tBR0EsTUFBQSxPQUFBLEdBQUEsS0FBQSxPQUFBLElBQUEsT0FBQSxVQUFBLEtBQUE7TUFDQSxPQUFBLFFBQUE7O0tBRUEsU0FBQSxNQUFBLFNBQUEsSUFBQSxVQUFBLE1BQUE7TUFDQSxPQUFBO09BQ0EsTUFBQTtPQUNBLFFBQUEsT0FBQSxJQUFBLFVBQUEsR0FBQTtRQUNBLE9BQUE7U0FDQSxNQUFBLEVBQUE7U0FDQSxLQUFBLENBQUEsRUFBQTs7Ozs7O0tBTUEsRUFBQSxPQUFBLEdBQUEsT0FBQSxRQUFBLFNBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQTtLQUNBLFFBQUEsSUFBQTs7SUFFQSxJQUFBLFdBQUEsWUFBQTs7S0FFQSxJQUFBLFFBQUEsSUFBQSxVQUFBO09BQ0E7T0FDQSxLQUFBO09BQ0E7T0FDQSxPQUFBO09BQ0EsS0FBQSxTQUFBOztLQUVBLE1BQUEsT0FBQTtPQUNBLEtBQUEsU0FBQTtPQUNBLEtBQUEsS0FBQSxVQUFBLEdBQUE7T0FDQSxPQUFBLEtBQUEsRUFBQTs7T0FFQSxNQUFBLFVBQUEsU0FBQSxHQUFBLEVBQUEsT0FBQSxNQUFBLEVBQUE7OztJQUdBLE9BQUEsT0FBQSxRQUFBLFVBQUEsU0FBQSxTQUFBO0tBQ0EsSUFBQSxXQUFBLFNBQUE7TUFDQSxPQUFBOztLQUVBO0tBQ0E7O0lBRUE7SUFDQTs7Ozs7Ozs7QUM3R0EsQ0FBQSxVQUFBO0NBQ0E7O0NBRUEsUUFBQSxRQUFBLG9CQUFBLFlBQUEsaUJBQUEsVUFBQTs7Ozs7O0FDSEEsQ0FBQSxXQUFBO0NBQ0E7O0NBRUEsUUFBQSxPQUFBLGtCQUFBLFVBQUEsdUJBQUEsU0FBQSxVQUFBO0VBQ0EsSUFBQSxXQUFBLFdBQUE7R0FDQSxPQUFBO0lBQ0EsSUFBQTtJQUNBLE9BQUE7SUFDQSxRQUFBO0lBQ0EsUUFBQTtLQUNBLE1BQUE7S0FDQSxPQUFBO0tBQ0EsS0FBQTtLQUNBLFFBQUE7O0lBRUEsUUFBQSxDQUFBO0tBQ0EsVUFBQTtLQUNBLE9BQUE7S0FDQSxTQUFBO09BQ0E7S0FDQSxVQUFBO0tBQ0EsT0FBQTtLQUNBLFNBQUE7T0FDQTtLQUNBLFVBQUE7S0FDQSxPQUFBO0tBQ0EsU0FBQTs7OztFQUlBLE9BQUE7R0FDQSxVQUFBO0dBQ0EsT0FBQTtJQUNBLE1BQUE7O0dBRUEsU0FBQTtHQUNBLE1BQUEsU0FBQSxRQUFBLFNBQUEsUUFBQSxTQUFBO0lBQ0EsSUFBQSxVQUFBLFFBQUEsT0FBQSxZQUFBO0lBQ0EsSUFBQSxJQUFBLEdBQUEsTUFBQTtNQUNBLE9BQUEsQ0FBQSxHQUFBO01BQ0EsTUFBQSxDQUFBLElBQUEsUUFBQSxRQUFBLFFBQUEsT0FBQTtNQUNBLE1BQUE7O0lBRUEsSUFBQSxRQUFBLEdBQUEsSUFBQTtNQUNBLEVBQUE7TUFDQSxPQUFBLENBQUEsR0FBQTtNQUNBLEdBQUEsU0FBQTtNQUNBLEdBQUEsWUFBQTs7SUFFQSxJQUFBLE1BQUEsR0FBQSxPQUFBLFFBQUEsSUFBQSxPQUFBO01BQ0EsS0FBQSxTQUFBLFFBQUE7TUFDQSxLQUFBLFVBQUEsUUFBQSxTQUFBLFFBQUEsT0FBQSxNQUFBLFFBQUEsT0FBQTtNQUNBLE9BQUE7O0lBRUEsSUFBQSxXQUFBLElBQUEsT0FBQTtNQUNBLE9BQUE7TUFDQSxLQUFBLE1BQUEsUUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsTUFBQTtNQUNBLEtBQUEsZ0JBQUE7SUFDQSxRQUFBLFFBQUEsUUFBQSxRQUFBLFNBQUEsT0FBQTtLQUNBLFNBQUEsT0FBQTtPQUNBLEtBQUEsVUFBQSxNQUFBLFdBQUE7T0FDQSxLQUFBLGNBQUEsTUFBQTtPQUNBLEtBQUEsZ0JBQUEsTUFBQTs7SUFFQSxJQUFBLE9BQUE7TUFDQSxLQUFBLFNBQUEsUUFBQTtNQUNBLEtBQUEsVUFBQSxRQUFBO01BQ0EsTUFBQSxRQUFBLFVBQUEsUUFBQSxLQUFBO0lBQ0EsSUFBQSxTQUFBLElBQUEsT0FBQSxLQUFBLEtBQUEsYUFBQSxlQUFBLFFBQUEsU0FBQSxJQUFBLE9BQUEsUUFBQSxTQUFBLElBQUE7TUFDQSxLQUFBLFNBQUE7SUFDQSxPQUFBLE9BQUE7TUFDQSxLQUFBLEtBQUEsUUFBQSxTQUFBOztJQUVBLE9BQUEsT0FBQTtNQUNBLEtBQUE7TUFDQSxLQUFBLGVBQUE7TUFDQSxLQUFBLEtBQUE7O0lBRUEsSUFBQSxVQUFBLElBQUEsT0FBQSxLQUFBLEtBQUEsYUFBQSxnQkFBQSxRQUFBLFNBQUEsUUFBQSxTQUFBLE1BQUEsT0FBQSxRQUFBLFNBQUEsSUFBQTtNQUNBLEtBQUEsU0FBQTtJQUNBLFFBQUEsT0FBQTtNQUNBLEtBQUEsS0FBQSxRQUFBLFNBQUE7O0lBRUEsUUFBQSxPQUFBO01BQ0EsS0FBQTtNQUNBLEtBQUEsZUFBQTtNQUNBLEtBQUEsS0FBQTs7SUFFQSxJQUFBLFNBQUEsSUFBQSxPQUFBO01BQ0EsS0FBQSxTQUFBO01BQ0EsS0FBQTs7SUFFQSxPQUFBLE9BQUE7TUFDQSxLQUFBLFVBQUEsUUFBQTtJQUNBLE9BQUEsT0FBQTtNQUNBLEtBQUEsTUFBQSxRQUFBLFFBQUE7TUFDQSxLQUFBLE1BQUE7TUFDQSxLQUFBLE1BQUEsUUFBQSxRQUFBO01BQ0EsS0FBQSxNQUFBLFFBQUE7TUFDQSxLQUFBLG9CQUFBO01BQ0EsS0FBQSxnQkFBQTtNQUNBLEtBQUEsVUFBQTtJQUNBLElBQUEsYUFBQSxPQUFBLE9BQUE7TUFDQSxLQUFBLGFBQUEsaUJBQUEsUUFBQSxTQUFBLElBQUE7SUFDQSxJQUFBLFNBQUEsV0FBQSxPQUFBO01BQ0EsS0FBQSxTQUFBO01BQ0EsS0FBQSxLQUFBLFFBQUEsU0FBQTtJQUNBLElBQUEsY0FBQSxXQUFBLE9BQUE7TUFDQSxLQUFBO01BQ0EsS0FBQSxlQUFBLFVBQUEsS0FBQSxLQUFBOztJQUVBO01BQ0EsS0FBQSxNQUFBLE9BQUEsQ0FBQSxHQUFBO01BQ0EsS0FBQSxNQUFBOztJQUVBLFNBQUEsUUFBQTtLQUNBLElBQUEsUUFBQSxNQUFBLFNBQUE7O0tBRUEsSUFBQSxHQUFBLE1BQUEsYUFBQTtNQUNBLFFBQUEsRUFBQSxPQUFBLEdBQUEsTUFBQSxNQUFBO01BQ0EsTUFBQSxPQUFBLENBQUEsT0FBQTs7S0FFQSxZQUFBLEtBQUEsU0FBQTtLQUNBLFdBQUEsS0FBQSxhQUFBLGVBQUEsRUFBQSxTQUFBLE1BQUEsUUFBQSxTQUFBLElBQUE7OztJQUdBLFNBQUEsVUFBQTtLQUNBLElBQUEsUUFBQSxNQUFBLFNBQUE7TUFDQSxRQUFBO01BQ0EsUUFBQTs7S0FFQSxHQUFBO01BQ0EsUUFBQSxRQUFBLE9BQUEsTUFBQSxTQUFBLEtBQUEsS0FBQTtPQUNBLElBQUEsU0FBQSxJQUFBLFVBQUEsU0FBQSxRQUFBO1FBQ0EsUUFBQSxjQUFBO1FBQ0EsUUFBQTtRQUNBLFFBQUE7OztNQUdBO01BQ0EsUUFBQSxRQUFBLEtBQUEsUUFBQSxJQUFBLFFBQUE7Y0FDQSxDQUFBLFNBQUEsUUFBQTs7O0lBR0EsT0FBQTtLQUNBLFdBQUE7TUFDQSxPQUFBLFFBQUE7O0tBRUEsU0FBQSxVQUFBLFVBQUE7TUFDQSxJQUFBLGFBQUE7T0FDQTtNQUNBLFlBQUEsS0FBQSxTQUFBLFNBQUE7TUFDQSxXQUFBLGFBQUEsU0FBQSxLQUFBLEtBQUEsUUFBQSxLQUFBLGFBQUEsZUFBQSxFQUFBLFNBQUEsU0FBQSxNQUFBLFFBQUEsU0FBQSxJQUFBO1FBQ0E7Ozs7Ozs7O0FDN0pBLENBQUEsVUFBQTtDQUNBOztDQUVBLFFBQUEsUUFBQSxvQkFBQSxZQUFBLGNBQUEsVUFBQTs7Ozs7QUFLQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnLFxuXHRcdFtcblx0XHQnYXBwLmNvbnRyb2xsZXJzJyxcblx0XHQnYXBwLmZpbHRlcnMnLFxuXHRcdCdhcHAuc2VydmljZXMnLFxuXHRcdCdhcHAuZGlyZWN0aXZlcycsXG5cdFx0J2FwcC5yb3V0ZXMnLFxuXHRcdCdhcHAuY29uZmlnJyxcblx0XHRdKTtcblxuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAucm91dGVzJywgWyd1aS5yb3V0ZXInLCAnbmdTdG9yYWdlJywgJ3NhdGVsbGl6ZXInXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnLCBbJ3VpLnJvdXRlcicsICduZ01hdGVyaWFsJywgJ25nU3RvcmFnZScsICdyZXN0YW5ndWxhcicsICduZ01kSWNvbnMnLCAnYW5ndWxhci1sb2FkaW5nLWJhcicsICduZ01lc3NhZ2VzJywgXCJsZWFmbGV0LWRpcmVjdGl2ZVwiLCdudmQzJywgJ25nQ3N2SW1wb3J0J10pO1xuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnLCBbXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuc2VydmljZXMnLCBbJ3VpLnJvdXRlcicsICduZ1N0b3JhZ2UnLCAncmVzdGFuZ3VsYXInXSk7XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycsIFtdKTtcblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnLCBbXSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5yb3V0ZXMnKS5jb25maWcoZnVuY3Rpb24oJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcil7XG5cblx0XHR2YXIgZ2V0VmlldyA9IGZ1bmN0aW9uKHZpZXdOYW1lKXtcblx0XHRcdHJldHVybiAnL3ZpZXdzL2FwcC8nICsgdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZSArICcuaHRtbCc7XG5cdFx0fTtcblxuXHRcdCR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoJy8nKTtcblxuXHRcdCRzdGF0ZVByb3ZpZGVyXG5cdFx0XHQuc3RhdGUoJ2FwcCcsIHtcblx0XHRcdFx0YWJzdHJhY3Q6IHRydWUsXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdC8qXHRzaWRlYmFyOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogZ2V0Vmlldygnc2lkZWJhcicpXG5cdFx0XHRcdFx0fSwqL1xuXHRcdFx0XHRcdGhlYWRlcjoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6IGdldFZpZXcoJ2hlYWRlcicpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRtYWluOiB7fVxuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdFx0LnN0YXRlKCdhcHAuZXBpJywge1xuXHRcdFx0XHR1cmw6ICcvZXBpJyxcblx0XHRcdFx0ZGF0YToge3BhZ2VOYW1lOiAnRW52aXJvbm1lbnQgUGVyZm9ybWFuY2UgSW5kZXgnfSxcblx0XHRcdFx0dmlld3M6IHtcblx0XHRcdFx0XHQnbWFpbkAnOiB7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogZ2V0VmlldygnZXBpJylcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdCdtYXBAJzp7XG5cdFx0XHRcdFx0XHR0ZW1wbGF0ZVVybDogZ2V0VmlldygnbWFwJylcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pLnN0YXRlKCdhcHAuaW1wb3J0Y3N2Jywge1xuXHRcdFx0XHR1cmw6ICcvaW1wb3J0ZXInLFxuXHRcdFx0XHRkYXRhOiB7cGFnZU5hbWU6ICdJbXBvcnQgQ1NWJ30sXG5cdFx0XHRcdHZpZXdzOiB7XG5cdFx0XHRcdFx0J21haW5AJzoge1xuXHRcdFx0XHRcdFx0dGVtcGxhdGVVcmw6IGdldFZpZXcoJ2ltcG9ydGNzdicpXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQnbWFwJzp7fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXG5cblx0fSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAucm91dGVzJykucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpe1xuXHRcdCRyb290U2NvcGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3RhcnRcIiwgZnVuY3Rpb24oZXZlbnQsIHRvU3RhdGUpe1xuXG5cdFx0XHRpZiAodG9TdGF0ZS5kYXRhICYmIHRvU3RhdGUuZGF0YS5wYWdlTmFtZSl7XG5cdFx0XHRcdCRyb290U2NvcGUuY3VycmVudF9wYWdlID0gdG9TdGF0ZS5kYXRhLnBhZ2VOYW1lO1xuXHRcdFx0fVxuXG5cblx0XHR9KTtcblx0XHQkcm9vdFNjb3BlLiRvbihcIiR2aWV3Q29udGVudExvYWRlZFwiLCBmdW5jdGlvbihldmVudCwgdG9TdGF0ZSl7XG5cdFx0XHR3aW5kb3cuUHJpc20uaGlnaGxpZ2h0QWxsKCk7XG5cdFx0fSk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnKS5jb25maWcoZnVuY3Rpb24gKCRhdXRoUHJvdmlkZXIpe1xuICAgICAgICAvLyBTYXRlbGxpemVyIGNvbmZpZ3VyYXRpb24gdGhhdCBzcGVjaWZpZXMgd2hpY2ggQVBJXG4gICAgICAgIC8vIHJvdXRlIHRoZSBKV1Qgc2hvdWxkIGJlIHJldHJpZXZlZCBmcm9tXG4gICAgICAgICRhdXRoUHJvdmlkZXIubG9naW5VcmwgPSAnL2FwaS8xL2F1dGhlbnRpY2F0ZS9hdXRoJztcbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbiAoKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb25maWcnKS5jb25maWcoZnVuY3Rpb24gKGNmcExvYWRpbmdCYXJQcm92aWRlcil7XG5cdFx0Y2ZwTG9hZGluZ0JhclByb3ZpZGVyLmluY2x1ZGVTcGlubmVyID0gZmFsc2U7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJykuY29uZmlnKCBmdW5jdGlvbihSZXN0YW5ndWxhclByb3ZpZGVyKSB7XG5cdFx0UmVzdGFuZ3VsYXJQcm92aWRlclxuXHRcdC5zZXRCYXNlVXJsKCcvYXBpLzEvJyk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29uZmlnJykuY29uZmlnKGZ1bmN0aW9uKCRtZFRoZW1pbmdQcm92aWRlcikge1xuXHRcdC8qIEZvciBtb3JlIGluZm8sIHZpc2l0IGh0dHBzOi8vbWF0ZXJpYWwuYW5ndWxhcmpzLm9yZy8jL1RoZW1pbmcvMDFfaW50cm9kdWN0aW9uICovXG5cdFx0JG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdkZWZhdWx0Jylcblx0XHQucHJpbWFyeVBhbGV0dGUoJ2luZGlnbycpXG5cdFx0LmFjY2VudFBhbGV0dGUoJ2dyZXknKVxuXHRcdC53YXJuUGFsZXR0ZSgncmVkJyk7XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZmlsdGVycycpLmZpbHRlciggJ2NhcGl0YWxpemUnLCBmdW5jdGlvbigpe1xuXHRcdHJldHVybiBmdW5jdGlvbihpbnB1dCwgYWxsKSB7XG5cdFx0XHRyZXR1cm4gKCEhaW5wdXQpID8gaW5wdXQucmVwbGFjZSgvKFteXFxXX10rW15cXHMtXSopICovZyxmdW5jdGlvbih0eHQpe1xuXHRcdFx0XHRyZXR1cm4gdHh0LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdHh0LnN1YnN0cigxKS50b0xvd2VyQ2FzZSgpO1xuXHRcdFx0fSkgOiAnJztcblx0XHR9O1xuXHR9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5maWx0ZXJzJykuZmlsdGVyKCAnaHVtYW5SZWFkYWJsZScsIGZ1bmN0aW9uKCl7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIGh1bWFuaXplKHN0cikge1xuXHRcdFx0aWYgKCAhc3RyICl7XG5cdFx0XHRcdHJldHVybiAnJztcblx0XHRcdH1cblx0XHRcdHZhciBmcmFncyA9IHN0ci5zcGxpdCgnXycpO1xuXHRcdFx0Zm9yICh2YXIgaT0wOyBpPGZyYWdzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGZyYWdzW2ldID0gZnJhZ3NbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBmcmFnc1tpXS5zbGljZSgxKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmcmFncy5qb2luKCcgJyk7XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnKS5maWx0ZXIoICd0cnVzdEh0bWwnLCBmdW5jdGlvbiggJHNjZSApe1xuXHRcdHJldHVybiBmdW5jdGlvbiggaHRtbCApe1xuXHRcdFx0cmV0dXJuICRzY2UudHJ1c3RBc0h0bWwoaHRtbCk7XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmZpbHRlcnMnKS5maWx0ZXIoJ3VjZmlyc3QnLCBmdW5jdGlvbigpIHtcblx0XHRyZXR1cm4gZnVuY3Rpb24oIGlucHV0ICkge1xuXHRcdFx0aWYgKCAhaW5wdXQgKXtcblx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaW5wdXQuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBpbnB1dC5zdWJzdHJpbmcoMSk7XG5cdFx0fTtcblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuc2VydmljZXMnKS5mYWN0b3J5KCdNYXBTZXJ2aWNlJywgZnVuY3Rpb24obGVhZmxldERhdGEpe1xuICAgICAgICAvL1xuICAgICAgICB2YXIgbGVhZmxldCA9IHt9O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNldExlYWZsZXREYXRhOiBmdW5jdGlvbihsZWFmKXtcbiAgICAgICAgICAgIGxlYWZsZXQgPSBsZWFmbGV0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0TGVhZmxldERhdGE6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gbGVhZmxldDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZShcImFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdEaWFsb2dTZXJ2aWNlJywgZnVuY3Rpb24oJG1kRGlhbG9nKXtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRmcm9tVGVtcGxhdGU6IGZ1bmN0aW9uKHRlbXBsYXRlLCAkc2NvcGUpe1xuXG5cdFx0XHRcdHZhciBvcHRpb25zID0ge1xuXHRcdFx0XHRcdHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2RpYWxvZ3MvJyArIHRlbXBsYXRlICsgJy8nICsgdGVtcGxhdGUgKyAnLmh0bWwnXG5cdFx0XHRcdH07XG5cblx0XHRcdFx0aWYgKCRzY29wZSl7XG5cdFx0XHRcdFx0b3B0aW9ucy5zY29wZSA9ICRzY29wZS4kbmV3KCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gJG1kRGlhbG9nLnNob3cob3B0aW9ucyk7XG5cdFx0XHR9LFxuXG5cdFx0XHRoaWRlOiBmdW5jdGlvbigpe1xuXHRcdFx0XHRyZXR1cm4gJG1kRGlhbG9nLmhpZGUoKTtcblx0XHRcdH0sXG5cblx0XHRcdGFsZXJ0OiBmdW5jdGlvbih0aXRsZSwgY29udGVudCl7XG5cdFx0XHRcdCRtZERpYWxvZy5zaG93KFxuXHRcdFx0XHRcdCRtZERpYWxvZy5hbGVydCgpXG5cdFx0XHRcdFx0XHQudGl0bGUodGl0bGUpXG5cdFx0XHRcdFx0XHQuY29udGVudChjb250ZW50KVxuXHRcdFx0XHRcdFx0Lm9rKCdPaycpXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZShcImFwcC5zZXJ2aWNlc1wiKS5mYWN0b3J5KCdUb2FzdFNlcnZpY2UnLCBmdW5jdGlvbigkbWRUb2FzdCl7XG5cblx0XHR2YXIgZGVsYXkgPSA2MDAwLFxuXHRcdFx0cG9zaXRpb24gPSAndG9wIHJpZ2h0Jyxcblx0XHRcdGFjdGlvbiA9ICdPSyc7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2hvdzogZnVuY3Rpb24oY29udGVudCl7XG5cdFx0XHRcdGlmICghY29udGVudCl7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuICRtZFRvYXN0LnNob3coXG5cdFx0XHRcdFx0JG1kVG9hc3Quc2ltcGxlKClcblx0XHRcdFx0XHRcdC5jb250ZW50KGNvbnRlbnQpXG5cdFx0XHRcdFx0XHQucG9zaXRpb24ocG9zaXRpb24pXG5cdFx0XHRcdFx0XHQuYWN0aW9uKGFjdGlvbilcblx0XHRcdFx0XHRcdC5oaWRlRGVsYXkoZGVsYXkpXG5cdFx0XHRcdCk7XG5cdFx0XHR9LFxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIWNvbnRlbnQpe1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiAkbWRUb2FzdC5zaG93KFxuXHRcdFx0XHRcdCRtZFRvYXN0LnNpbXBsZSgpXG5cdFx0XHRcdFx0XHQuY29udGVudChjb250ZW50KVxuXHRcdFx0XHRcdFx0LnBvc2l0aW9uKHBvc2l0aW9uKVxuXHRcdFx0XHRcdFx0LnRoZW1lKCd3YXJuJylcblx0XHRcdFx0XHRcdC5hY3Rpb24oYWN0aW9uKVxuXHRcdFx0XHRcdFx0LmhpZGVEZWxheShkZWxheSlcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdEaWFsb2dzQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgRGlhbG9nU2VydmljZSl7XG5cdFx0JHNjb3BlLmFsZXJ0RGlhbG9nID0gZnVuY3Rpb24oKXtcblx0XHRcdERpYWxvZ1NlcnZpY2UuYWxlcnQoJ1RoaXMgaXMgYW4gYWxlcnQgdGl0bGUnLCAnWW91IGNhbiBzcGVjaWZ5IHNvbWUgZGVzY3JpcHRpb24gdGV4dCBpbiBoZXJlLicpO1xuXHRcdH07XG5cblx0XHQkc2NvcGUuY3VzdG9tRGlhbG9nID0gZnVuY3Rpb24oKXtcblx0XHRcdERpYWxvZ1NlcnZpY2UuZnJvbVRlbXBsYXRlKCdhZGRfdXNlcnMnLCAkc2NvcGUpO1xuXHRcdH07XG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignRWxpeGlyQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignRXBpQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsIFJlc3Rhbmd1bGFyLCBsZWFmbGV0RGF0YSwgTWFwU2VydmljZSkge1xuXHRcdCRzY29wZS5jdXJyZW50ID0gXCJcIjtcblx0XHQkc2NvcGUuY2hhcnQgPSB7XG5cdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdGNoYXJ0OiB7XG5cdFx0XHRcdFx0dHlwZTogJ2xpbmVDaGFydCcsXG5cdFx0XHRcdFx0aGVpZ2h0OiAyMDAsXG5cdFx0XHRcdFx0bWFyZ2luOiB7XG5cdFx0XHRcdFx0XHR0b3A6IDIwLFxuXHRcdFx0XHRcdFx0cmlnaHQ6IDIwLFxuXHRcdFx0XHRcdFx0Ym90dG9tOiAyMCxcblx0XHRcdFx0XHRcdGxlZnQ6IDQwXG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHR4OiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQueDtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHk6IGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZC55O1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0c2hvd1ZhbHVlczogdHJ1ZSxcblx0XHRcdFx0XHR0cmFuc2l0aW9uRHVyYXRpb246IDUwMCxcblx0XHRcdFx0XHRjbGlwVm9yb25vaTogZmFsc2UsXG5cdFx0XHRcdFx0Zm9yY2VZOlsxMDAsMF0sXG5cdFx0XHRcdFx0eEF4aXM6IHtcblx0XHRcdFx0XHRcdGF4aXNMYWJlbDogJydcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdHlBeGlzOiB7XG5cdFx0XHRcdFx0XHRheGlzTGFiZWw6ICcnLFxuXHRcdFx0XHRcdFx0YXhpc0xhYmVsRGlzdGFuY2U6IDMwXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9LFxuXHRcdFx0ZGF0YTogW11cblx0XHR9O1xuXHRcdCRzY29wZS5tZW51ZU9wZW4gPSB0cnVlO1xuXHRcdCRzY29wZS5kZXRhaWxzID0gZmFsc2U7XG5cdFx0JHNjb3BlLmNsb3NlSWNvbiA9ICdjaGV2cm9uX2xlZnQnO1xuXHRcdCRzY29wZS5sYWJlbHMgPSBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIl07XG5cdFx0JHNjb3BlLnNlcmllcyA9IFsnU2VyaWVzIEEnLCAnU2VyaWVzIEInXTtcblx0XHQkc2NvcGUuZGF0YSA9IFtcblx0XHRcdFs2NSwgNTksIDgwLCA4MSwgNTYsIDU1LCA0MF0sXG5cdFx0XHRbMjgsIDQ4LCA0MCwgMTksIDg2LCAyNywgOTBdXG5cdFx0XTtcblx0XHR2YXIgZXBpID0gUmVzdGFuZ3VsYXIuYWxsKCdlcGkveWVhci8yMDE0Jyk7XG5cdFx0ZXBpLmdldExpc3QoKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG5cdFx0XHQkc2NvcGUuZXBpID0gZGF0YTtcblx0XHRcdCRzY29wZS5kcmF3Q291bnRyaWVzKCk7XG5cdFx0fSk7XG5cdFx0JHNjb3BlLnRvZ2dsZU9wZW4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHQkc2NvcGUubWVudWVPcGVuID0gISRzY29wZS5tZW51ZU9wZW47XG5cdFx0XHQkc2NvcGUuY2xvc2VJY29uID0gJHNjb3BlLm1lbnVlT3BlbiA9PSB0cnVlID8gJ2NoZXZyb25fbGVmdCcgOiAnY2hldnJvbl9yaWdodCc7XG5cdFx0fVxuXHRcdCRzY29wZS5zZXRDdXJyZW50ID0gZnVuY3Rpb24gKG5hdCkge1xuXHRcdFx0JHNjb3BlLmN1cnJlbnQgPSBuYXQ7XG5cdFx0fTtcblx0XHQkc2NvcGUuZ2V0UmFuayA9IGZ1bmN0aW9uIChuYXQpIHtcblx0XHRcdHJldHVybiAkc2NvcGUuZXBpLmluZGV4T2YobmF0KSArIDE7XG5cdFx0fTtcblx0XHQkc2NvcGUudG9nZ2xlRGV0YWlscyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiAkc2NvcGUuZGV0YWlscyA9ICEkc2NvcGUuZGV0YWlscztcblx0XHR9XG5cdFx0JHNjb3BlLmdldE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICghJHNjb3BlLmN1cnJlbnQpIHtcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gKCRzY29wZS5jdXJyZW50LnJhbmsgPT0gMSA/IDAgOiAkc2NvcGUuY3VycmVudC5yYW5rID09ICRzY29wZS5jdXJyZW50Lmxlbmd0aCArIDEgPyAkc2NvcGUuY3VycmVudC5yYW5rIDogJHNjb3BlLmN1cnJlbnQucmFuayAtIDIpICogMTY7XG5cdFx0XHQvL3JldHVybiAkc2NvcGUuY3VycmVudC5yYW5rIC0gMiB8fCAwO1xuXHRcdH07XG5cdFx0JHNjb3BlLmdldFRlbmRlbmN5ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCEkc2NvcGUuY3VycmVudCkge1xuXHRcdFx0XHRyZXR1cm4gJ2Fycm93X2Ryb3BfZG93bidcblx0XHRcdH1cblx0XHRcdHJldHVybiAkc2NvcGUuY3VycmVudC5wZXJjZW50X2NoYW5nZSA+IDAgPyAnYXJyb3dfZHJvcF91cCcgOiAnYXJyb3dfZHJvcF9kb3duJztcblx0XHR9O1xuXHRcdCRzY29wZS4kd2F0Y2goJ2N1cnJlbnQnLCBmdW5jdGlvbiAobmV3SXRlbSwgb2xkSXRlbSkge1xuXHRcdFx0aWYgKG5ld0l0ZW0gPT09IG9sZEl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0dmFyIGNvdW50cnkgPSBSZXN0YW5ndWxhci5vbmUoJ25hdGlvbnMnLCBuZXdJdGVtLmlzbykuZ2V0KCk7XG5cdFx0XHRjb3VudHJ5LnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcblx0XHRcdFx0JHNjb3BlLmNvdW50cnkgPSBkYXRhO1xuXHRcdFx0XHR2YXIgZmkgPSBbXSxcblx0XHRcdFx0XHRzdG9jayA9IFtdLFxuXHRcdFx0XHRcdGNvYXN0ID0gW107XG5cdFx0XHRcdGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnRyeS5lcGksIGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHRcdFx0ZmkucHVzaCh7XG5cdFx0XHRcdFx0XHR4OiBpdGVtLnllYXIsXG5cdFx0XHRcdFx0XHR5OiBpdGVtLmV2X2ZpXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0c3RvY2sucHVzaCh7XG5cdFx0XHRcdFx0XHR4OiBpdGVtLnllYXIsXG5cdFx0XHRcdFx0XHR5OiBpdGVtLmV2X2ZpX2Zpc2hfc3RvY2tzXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y29hc3QucHVzaCh7XG5cdFx0XHRcdFx0XHR4OiBpdGVtLnllYXIsXG5cdFx0XHRcdFx0XHR5OiBpdGVtLmV2X2ZpX2NvYXN0YWxfc2hlbGZfZmlzaGluZ19wcmVzc3VyZVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIGNoYXJ0RGF0YSA9IFsvKntcblx0XHRcdFx0XHR2YWx1ZXM6IGZpLFxuXHRcdFx0XHRcdGtleTogJ0Zpc2hlcmllcycsXG5cdFx0XHRcdFx0Y29sb3I6ICcjZmY3ZjBlJ1xuXHRcdFx0XHR9LCAqL3tcblx0XHRcdFx0XHR2YWx1ZXM6IHN0b2NrLFxuXHRcdFx0XHRcdGtleTogJ0Zpc2ggU3RvY2snLFxuXHRcdFx0XHRcdGNvbG9yOiAnIzJjYTAyYydcblx0XHRcdFx0fSx7XG5cdFx0XHRcdFx0dmFsdWVzOiBjb2FzdCxcblx0XHRcdFx0XHRrZXk6ICdDb2FzdGFsIFNoZWxmIEZpc2hpbmcgUHJlc3N1cmUnLFxuXHRcdFx0XHRcdGNvbG9yOicjMDA2YmI2J1xuXHRcdFx0XHR9XTtcblx0XHRcdFx0Y29uc29sZS5sb2coY2hhcnREYXRhKTtcblx0XHRcdFx0JHNjb3BlLmNoYXJ0LmRhdGEgPSBjaGFydERhdGE7XG5cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHZhciBnZXROYXRpb25CeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0dmFyIG5hdGlvbiA9IHt9O1xuXHRcdFx0YW5ndWxhci5mb3JFYWNoKCRzY29wZS5lcGksIGZ1bmN0aW9uIChuYXQpIHtcblx0XHRcdFx0aWYgKG5hdC5jb3VudHJ5ID09IG5hbWUpIHtcblx0XHRcdFx0XHRuYXRpb24gPSBuYXQ7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0cmV0dXJuIG5hdGlvbjtcblx0XHR9O1xuXHRcdHZhciBjcmVhdGVDYW52YXMgPSBmdW5jdGlvbiAoY29sb3JzKSB7XG5cdFx0XHQkc2NvcGUuY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG5cdFx0XHQkc2NvcGUuY2FudmFzLndpZHRoID0gMjU2O1xuXHRcdFx0JHNjb3BlLmNhbnZhcy5oZWlnaHQgPSAxMDtcblx0XHRcdCRzY29wZS5jdHggPSAkc2NvcGUuY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cdFx0XHR2YXIgZ3JhZGllbnQgPSAkc2NvcGUuY3R4LmNyZWF0ZUxpbmVhckdyYWRpZW50KDAsIDAsIDI1NiwgMTApO1xuXHRcdFx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDAsICdyZ2JhKDI1NSwyNTUsMjU1LDApJyk7XG5cdFx0XHRncmFkaWVudC5hZGRDb2xvclN0b3AoMC41MywgJ3JnYmEoMTI4LCAyNDMsIDE5OCwxKScpO1xuXHRcdFx0Z3JhZGllbnQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDEwMiwxMDIsMTAyLDEpJyk7XG5cdFx0XHQkc2NvcGUuY3R4LmZpbGxTdHlsZSA9IGdyYWRpZW50O1xuXHRcdFx0JHNjb3BlLmN0eC5maWxsUmVjdCgwLCAwLCAyNTYsIDEwKTtcblx0XHRcdCRzY29wZS5wYWxldHRlID0gJHNjb3BlLmN0eC5nZXRJbWFnZURhdGEoMCwgMCwgMjU2LCAxKS5kYXRhO1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXS5hcHBlbmRDaGlsZCgkc2NvcGUuY2FudmFzKTtcblx0XHR9XG5cdFx0Y3JlYXRlQ2FudmFzKCk7XG5cblxuXHRcdCRzY29wZS5kcmF3Q291bnRyaWVzID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0bGVhZmxldERhdGEuZ2V0TWFwKCdtYXAnKS50aGVuKGZ1bmN0aW9uIChtYXApIHtcblx0XHRcdFx0Ly9cdEwudGlsZUxheWVyKCdodHRwOi8vbG9jYWxob3N0OjMwMDEvc2VydmljZXMvcG9zdGdpcy9jb3VudHJpZXNfYmlnL2dlb20vZHluYW1pY01hcC97en0ve3h9L3t5fS5wbmcnKS5hZGRUbyhtYXApO1xuXHRcdFx0XHR2YXIgZGVidWcgPSB7fTtcblx0XHRcdFx0dmFyIGFwaUtleSA9ICdway5leUoxSWpvaWJXRm5ibTlzYnlJc0ltRWlPaUp1U0ZkVVlrZzRJbjAuNUhPeWtLazBwTlAxTjNpc2ZQUUdUUSc7XG5cdFx0XHRcdHZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDozMDAxL3NlcnZpY2VzL3Bvc3RnaXMvY291bnRyaWVzX2JpZy9nZW9tL3ZlY3Rvci10aWxlcy97en0ve3h9L3t5fS5wYmY/ZmllbGRzPWlkLGFkbWluLGFkbTBfYTMsbmFtZSxuYW1lX2xvbmcnOyAvL1xuXHRcdFx0XHR2YXIgdXJsMiA9ICdodHRwczovL2EudGlsZXMubWFwYm94LmNvbS92NC9tYXBib3gubWFwYm94LXN0cmVldHMtdjYtZGV2L3t6fS97eH0ve3l9LnZlY3Rvci5wYmY/YWNjZXNzX3Rva2VuPScgKyBhcGlLZXk7XG5cdFx0XHRcdHZhciBtdnRTb3VyY2UgPSBuZXcgTC5UaWxlTGF5ZXIuTVZUU291cmNlKHtcblx0XHRcdFx0XHR1cmw6IHVybCwgLy9cImh0dHA6Ly9zcGF0aWFsc2VydmVyLnNwYXRpYWxkZXYuY29tL3NlcnZpY2VzL3ZlY3Rvci10aWxlcy9nYXVsX2ZzcF9pbmRpYS97en0ve3h9L3t5fS5wYmZcIixcblx0XHRcdFx0XHRkZWJ1ZzogZmFsc2UsXG5cdFx0XHRcdFx0Y2xpY2thYmxlTGF5ZXJzOiBbJ2NvdW50cmllc19iaWdfZ2VvbSddLFxuXHRcdFx0XHRcdG11dGV4VG9nZ2xlOiB0cnVlLFxuXHRcdFx0XHRcdG9uQ2xpY2s6IGZ1bmN0aW9uIChldnQsIHQpIHtcblx0XHRcdFx0XHRcdC8vbWFwLmZpdEJvdW5kcyhldnQudGFyZ2V0LmdldEJvdW5kcygpKTtcblx0XHRcdFx0XHRcdC8qY29uc29sZS5sb2coZXZ0LmxhdGxuZyk7XG5cdFx0XHRcdFx0XHR2YXIgeCA9IGV2dC5mZWF0dXJlLmJib3goKVswXS8gKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKTtcblx0XHRcdFx0XHRcdHZhciB5ID0gZXZ0LmZlYXR1cmUuYmJveCgpWzFdLyhldnQuZmVhdHVyZS5leHRlbnQgLyBldnQuZmVhdHVyZS50aWxlU2l6ZSlcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKG5ldyBMLlBvaW50KHgseSkpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coW1xuXHRcdFx0XHRcdFx0XHRbZXZ0LmZlYXR1cmUuYmJveCgpWzBdLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpLCBldnQuZmVhdHVyZS5iYm94KClbMV0vKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKV0sXG5cdFx0XHRcdFx0XHRcdFtldnQuZmVhdHVyZS5iYm94KClbMl0vKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKSwgZXZ0LmZlYXR1cmUuYmJveCgpWzNdLyhldnQuZmVhdHVyZS5leHRlbnQgLyBldnQuZmVhdHVyZS50aWxlU2l6ZSldLFxuXHRcdFx0XHRcdFx0XSk7XG5cdFx0XHRcdFx0XHRkZWJ1Z2dlcjsqL1xuXHRcdFx0XHRcdFx0aWYgKCRzY29wZS5jdXJyZW50LmNvdW50cnkgIT0gZXZ0LmZlYXR1cmUucHJvcGVydGllcy5hZG1pbikge1xuXHRcdFx0XHRcdFx0XHQvL21hcC5wYW5UbyhldnQubGF0bG5nKTtcblx0XHRcdFx0XHRcdFx0Ly9tYXAucGFuQnkobmV3IEwuUG9pbnQoLTIwMCwwKSk7XG5cdFx0XHRcdFx0XHRcdG1hcC5maXRCb3VuZHMoW1xuXHRcdFx0XHRcdFx0XHRcdFtldnQuZmVhdHVyZS5iYm94KClbMF0gLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpLCBldnQuZmVhdHVyZS5iYm94KClbMV0gLyAoZXZ0LmZlYXR1cmUuZXh0ZW50IC8gZXZ0LmZlYXR1cmUudGlsZVNpemUpXSxcblx0XHRcdFx0XHRcdFx0XHRbZXZ0LmZlYXR1cmUuYmJveCgpWzJdIC8gKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKSwgZXZ0LmZlYXR1cmUuYmJveCgpWzNdIC8gKGV2dC5mZWF0dXJlLmV4dGVudCAvIGV2dC5mZWF0dXJlLnRpbGVTaXplKV0sXG5cdFx0XHRcdFx0XHRcdF0pXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHQkc2NvcGUuY3VycmVudCA9IGdldE5hdGlvbkJ5TmFtZShldnQuZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluKTtcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdGdldElERm9yTGF5ZXJGZWF0dXJlOiBmdW5jdGlvbiAoZmVhdHVyZSkge1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmVhdHVyZS5wcm9wZXJ0aWVzLmlkO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZmlsdGVyOiBmdW5jdGlvbiAoZmVhdHVyZSwgY29udGV4dCkge1xuXG5cdFx0XHRcdFx0XHRpZiAoZmVhdHVyZS5sYXllci5uYW1lID09PSAnYWRtaW4nIHx8IGZlYXR1cmUubGF5ZXIubmFtZSA9PT0gJ2dhdWxfMjAxNF9hZG0xX2xhYmVsJykge1xuXHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKGZlYXR1cmUpO1xuXHRcdFx0XHRcdFx0XHRpZiAoZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluX2xldmVsID09IDAgfHwgZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluX2xldmVsID09IDEgfHwgZmVhdHVyZS5wcm9wZXJ0aWVzLmFkbWluX2xldmVsID09IDIpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHRcdFx0fSxcblxuXHRcdFx0XHRcdHN0eWxlOiBmdW5jdGlvbiAoZmVhdHVyZSkge1xuXHRcdFx0XHRcdFx0dmFyIHN0eWxlID0ge307XG5cdFx0XHRcdFx0XHR2YXIgbmF0aW9uID0gZ2V0TmF0aW9uQnlOYW1lKGZlYXR1cmUucHJvcGVydGllcy5hZG1pbik7XG5cdFx0XHRcdFx0XHR2YXIgdHlwZSA9IGZlYXR1cmUudHlwZTtcblx0XHRcdFx0XHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAxOiAvLydQb2ludCdcblx0XHRcdFx0XHRcdFx0c3R5bGUuY29sb3IgPSAncmdiYSg0OSw3OSw3OSwwLjAxKSc7XG5cdFx0XHRcdFx0XHRcdHN0eWxlLnJhZGl1cyA9IDU7XG5cdFx0XHRcdFx0XHRcdHN0eWxlLnNlbGVjdGVkID0ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbG9yOiAncmdiYSgyNTUsMjU1LDAsMC41KScsXG5cdFx0XHRcdFx0XHRcdFx0cmFkaXVzOiAwXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAyOiAvLydMaW5lU3RyaW5nJ1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5jb2xvciA9ICdyZ2JhKDI1NSwwLDAsMSknO1xuXHRcdFx0XHRcdFx0XHRzdHlsZS5zaXplID0gMTtcblx0XHRcdFx0XHRcdFx0c3R5bGUuc2VsZWN0ZWQgPSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDI1NSwyNSwwLDEpJyxcblx0XHRcdFx0XHRcdFx0XHRzaXplOiAyXG5cdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0Y2FzZSAzOiAvLydQb2x5Z29uJ1xuXHRcdFx0XHRcdFx0XHRpZiAobmF0aW9uLnNjb3JlKSB7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGNvbG9yUG9zID0gcGFyc2VJbnQoMjU2IC8gMTAwICogbmF0aW9uLnNjb3JlKSAqIDQ7XG5cdFx0XHRcdFx0XHRcdFx0dmFyIGNvbG9yID0gJ3JnYmEoJyArICRzY29wZS5wYWxldHRlW2NvbG9yUG9zXSArICcsICcgKyAkc2NvcGUucGFsZXR0ZVtjb2xvclBvcyArIDFdICsgJywgJyArICRzY29wZS5wYWxldHRlW2NvbG9yUG9zICsgMl0gKyAnLCcgKyAkc2NvcGUucGFsZXR0ZVtjb2xvclBvcyArIDNdICsgJyknO1xuXHRcdFx0XHRcdFx0XHRcdHN0eWxlLmNvbG9yID0gY29sb3I7XG5cdFx0XHRcdFx0XHRcdFx0c3R5bGUub3V0bGluZSA9IHtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbG9yOiAncmdiYSg1MCw1MCw1MCwwLjQpJyxcblx0XHRcdFx0XHRcdFx0XHRcdHNpemU6IDFcblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdHN0eWxlLnNlbGVjdGVkID0ge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMCknLFxuXHRcdFx0XHRcdFx0XHRcdFx0b3V0bGluZToge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogJ3JnYmEoMCwwLDAsMC41KScsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNpemU6IDFcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHN0eWxlLmNvbG9yID0gJ3JnYmEoMjU1LDI1NSwyNTUsMCknO1xuXHRcdFx0XHRcdFx0XHRcdHN0eWxlLm91dGxpbmUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb2xvcjogJ3JnYmEoMjU1LDI1NSwyNTUsMCknLFxuXHRcdFx0XHRcdFx0XHRcdFx0c2l6ZTogMVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0Ly9cdGlmIChmZWF0dXJlLmxheWVyLm5hbWUgPT09ICdnYXVsXzIwMTRfYWRtMV9sYWJlbCcpIHtcblx0XHRcdFx0XHRcdHN0eWxlLmFqYXhTb3VyY2UgPSBmdW5jdGlvbiAobXZ0RmVhdHVyZSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgaWQgPSBtdnRGZWF0dXJlLmlkO1xuXHRcdFx0XHRcdFx0XHQvL1x0Y29uc29sZS5sb2coaWQpO1xuXHRcdFx0XHRcdFx0XHQvL3JldHVybiAnaHR0cDovL3NwYXRpYWxzZXJ2ZXIuc3BhdGlhbGRldi5jb20vZnNwLzIwMTQvZnNwL2FnZ3JlZ2F0aW9ucy1uby1uYW1lLycgKyBpZCArICcuanNvbic7XG5cdFx0XHRcdFx0XHR9O1xuXG5cdFx0XHRcdFx0XHRzdHlsZS5zdGF0aWNMYWJlbCA9IGZ1bmN0aW9uIChtdnRGZWF0dXJlLCBhamF4RGF0YSkge1xuXHRcdFx0XHRcdFx0XHR2YXIgc3R5bGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0aHRtbDogYWpheERhdGEudG90YWxfY291bnQsXG5cdFx0XHRcdFx0XHRcdFx0aWNvblNpemU6IFszMywgMzNdLFxuXHRcdFx0XHRcdFx0XHRcdGNzc0NsYXNzOiAnbGFiZWwtaWNvbi1udW1iZXInLFxuXHRcdFx0XHRcdFx0XHRcdGNzc1NlbGVjdGVkQ2xhc3M6ICdsYWJlbC1pY29uLW51bWJlci1zZWxlY3RlZCdcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHN0eWxlO1xuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdC8vXHR9XG5cblx0XHRcdFx0XHRcdHJldHVybiBzdHlsZTtcblx0XHRcdFx0XHR9LFxuXG5cblx0XHRcdFx0XHRsYXllckxpbms6IGZ1bmN0aW9uIChsYXllck5hbWUpIHtcblx0XHRcdFx0XHRcdGlmIChsYXllck5hbWUuaW5kZXhPZignX2xhYmVsJykgPiAtMSkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbGF5ZXJOYW1lLnJlcGxhY2UoJ19sYWJlbCcsICcnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJldHVybiBsYXllck5hbWUgKyAnX2xhYmVsJztcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0fSk7XG5cdFx0XHRcdGRlYnVnLm12dFNvdXJjZSA9IG12dFNvdXJjZTtcblx0XHRcdFx0bWFwLmFkZExheWVyKG12dFNvdXJjZSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXHR9KTtcbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdHZW5lcmF0b3JzQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0hlYWRlckN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRyb290U2NvcGUpe1xuXG5cdFx0JHNjb3BlLiR3YXRjaChmdW5jdGlvbigpe1xuXHRcdFx0cmV0dXJuICRyb290U2NvcGUuY3VycmVudF9wYWdlO1xuXHRcdH0sIGZ1bmN0aW9uKG5ld1BhZ2Upe1xuXHRcdFx0JHNjb3BlLmN1cnJlbnRfcGFnZSA9IG5ld1BhZ2UgfHwgJ1BhZ2UgTmFtZSc7XG5cdFx0fSk7XG5cblxuXHR9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignSW1wb3J0Y3N2Q3RybCcsIGZ1bmN0aW9uICgkbWREaWFsb2cpIHtcblx0XHR0aGlzLnNldHRpbmdzID0ge1xuXHRcdFx0cHJpbnRMYXlvdXQ6IHRydWUsXG5cdFx0XHRzaG93UnVsZXI6IHRydWUsXG5cdFx0XHRzaG93U3BlbGxpbmdTdWdnZXN0aW9uczogdHJ1ZSxcblx0XHRcdHByZXNlbnRhdGlvbk1vZGU6ICdlZGl0J1xuXHRcdH07XG5cblx0XHR0aGlzLnNhbXBsZUFjdGlvbiA9IGZ1bmN0aW9uIChuYW1lLCBldikge1xuXHRcdFx0JG1kRGlhbG9nLnNob3coJG1kRGlhbG9nLmFsZXJ0KClcblx0XHRcdFx0LnRpdGxlKG5hbWUpXG5cdFx0XHRcdC5jb250ZW50KCdZb3UgdHJpZ2dlcmVkIHRoZSBcIicgKyBuYW1lICsgJ1wiIGFjdGlvbicpXG5cdFx0XHRcdC5vaygnR3JlYXQnKVxuXHRcdFx0XHQudGFyZ2V0RXZlbnQoZXYpXG5cdFx0XHQpO1xuXHRcdH07XG5cbiAgICB0aGlzLm9wZW5Dc3ZVcGxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdCRtZERpYWxvZy5zaG93KHtcblx0XHRcdFx0XHQvL2NvbnRyb2xsZXI6IERpYWxvZ0NvbnRyb2xsZXIsXG5cdFx0XHRcdFx0dGVtcGxhdGVVcmw6ICcvdmlld3MvYXBwL2ltcG9ydGNzdi9jc3ZVcGxvYWREaWFsb2cuaHRtbCcsXG5cdCAgICAgICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcblx0XHRcdFx0fSlcblx0XHRcdFx0LnRoZW4oZnVuY3Rpb24gKGFuc3dlcikge1xuXG5cdFx0XHRcdH0sIGZ1bmN0aW9uICgpIHtcblxuXHRcdFx0XHR9KTtcblx0XHR9O1xuXHR9KVxuXG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0p3dEF1dGhDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkYXV0aCwgUmVzdGFuZ3VsYXIpe1xuXG5cdFx0dmFyIGNyZWRlbnRpYWxzID0ge307XG5cblx0XHQkc2NvcGUucmVxdWVzdFRva2VuID0gZnVuY3Rpb24oKXtcblx0XHRcdC8vIFVzZSBTYXRlbGxpemVyJ3MgJGF1dGggc2VydmljZSB0byBsb2dpbiBiZWNhdXNlIGl0J2xsIGF1dG9tYXRpY2FsbHkgc2F2ZSB0aGUgSldUIGluIGxvY2FsU3RvcmFnZVxuXHRcdFx0JGF1dGgubG9naW4oY3JlZGVudGlhbHMpLnRoZW4oZnVuY3Rpb24gKGRhdGEpe1xuXHRcdFx0XHQvLyBJZiBsb2dpbiBpcyBzdWNjZXNzZnVsLCByZWRpcmVjdCB0byB0aGUgdXNlcnMgc3RhdGVcblx0XHRcdFx0Ly8kc3RhdGUuZ28oJ2Rhc2hib2FyZCcpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIFRoaXMgcmVxdWVzdCB3aWxsIGhpdCB0aGUgZ2V0RGF0YSBtZXRob2QgaW4gdGhlIEF1dGhlbnRpY2F0ZUNvbnRyb2xsZXJcblx0XHQvLyBvbiB0aGUgTGFyYXZlbCBzaWRlIGFuZCB3aWxsIHJldHVybiB5b3VyIGRhdGEgdGhhdCByZXF1aXJlIGF1dGhlbnRpY2F0aW9uXG5cdFx0JHNjb3BlLmdldERhdGEgPSBmdW5jdGlvbigpe1xuXHRcdFx0UmVzdGFuZ3VsYXIuYWxsKCdhdXRoZW50aWNhdGUvZGF0YScpLmdldCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKXtcblxuXHRcdFx0fSwgZnVuY3Rpb24gKGVycm9yKXt9KTtcblx0XHR9O1xuXG5cblxuXHR9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTGFuZGluZ0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRtZFRvYXN0LCAkbWREaWFsb2csICRpbnRlcnZhbCwgVG9hc3RTZXJ2aWNlLCBEaWFsb2dTZXJ2aWNlKXtcblxuXHRcdCRzY29wZS5wcm9tb0ltYWdlID0gJ2h0dHBzOi8vaS5pbWd1ci5jb20vWmJMek9QUC5qcGcnO1xuXHRcdCRzY29wZS5pY29uID0gJ3NlbmQnO1xuXG5cdFx0dmFyIGljb25zID0gW1xuXHRcdFx0XHQnb2ZmaWNlJywgJ2ZhY2Vib29rJywgJ3R3aXR0ZXInLCAnYXBwbGUnLCAnd2hhdHNhcHAnLCAnbGlua2VkaW4nLCAnd2luZG93cycsICdhY2Nlc3NpYmlsaXR5JywgJ2FsYXJtJywgJ2FzcGVjdF9yYXRpbycsXG5cdFx0XHRcdCdhdXRvcmVuZXcnLCAnYm9va21hcmtfb3V0bGluZScsICdkYXNoYm9hcmQnLCAnZG5zJywgJ2Zhdm9yaXRlX291dGxpbmUnLCAnZ2V0X2FwcCcsICdoaWdobGlnaHRfcmVtb3ZlJywgJ2hpc3RvcnknLCAnbGlzdCcsXG5cdFx0XHRcdCdwaWN0dXJlX2luX3BpY3R1cmUnLCAncHJpbnQnLCAnc2V0dGluZ3NfZXRoZXJuZXQnLCAnc2V0dGluZ3NfcG93ZXInLCAnc2hvcHBpbmdfY2FydCcsICdzcGVsbGNoZWNrJywgJ3N3YXBfaG9yaXonLCAnc3dhcF92ZXJ0Jyxcblx0XHRcdFx0J3RodW1iX3VwJywgJ3RodW1ic191cF9kb3duJywgJ3RyYW5zbGF0ZScsICd0cmVuZGluZ191cCcsICd2aXNpYmlsaXR5JywgJ3dhcm5pbmcnLCAnbWljJywgJ3BsYXlfY2lyY2xlX291dGxpbmUnLCAncmVwZWF0Jyxcblx0XHRcdFx0J3NraXBfbmV4dCcsICdjYWxsJywgJ2NoYXQnLCAnY2xlYXJfYWxsJywgJ2RpYWxwYWQnLCAnZG5kX29uJywgJ2ZvcnVtJywgJ2xvY2F0aW9uX29uJywgJ3Zwbl9rZXknLCAnZmlsdGVyX2xpc3QnLCAnaW5ib3gnLFxuXHRcdFx0XHQnbGluaycsICdyZW1vdmVfY2lyY2xlX291dGxpbmUnLCAnc2F2ZScsICd0ZXh0X2Zvcm1hdCcsICdhY2Nlc3NfdGltZScsICdhaXJwbGFuZW1vZGVfb24nLCAnYmx1ZXRvb3RoJywgJ2RhdGFfdXNhZ2UnLFxuXHRcdFx0XHQnZ3BzX2ZpeGVkJywgJ25vd193YWxscGFwZXInLCAnbm93X3dpZGdldHMnLCAnc3RvcmFnZScsICd3aWZpX3RldGhlcmluZycsICdhdHRhY2hfZmlsZScsICdmb3JtYXRfbGluZV9zcGFjaW5nJyxcblx0XHRcdFx0J2Zvcm1hdF9saXN0X251bWJlcmVkJywgJ2Zvcm1hdF9xdW90ZScsICd2ZXJ0aWNhbF9hbGlnbl9jZW50ZXInLCAnd3JhcF90ZXh0JywgJ2Nsb3VkX3F1ZXVlJywgJ2ZpbGVfZG93bmxvYWQnLCAnZm9sZGVyX29wZW4nLFxuXHRcdFx0XHQnY2FzdCcsICdoZWFkc2V0JywgJ2tleWJvYXJkX2JhY2tzcGFjZScsICdtb3VzZScsICdzcGVha2VyJywgJ3dhdGNoJywgJ2F1ZGlvdHJhY2snLCAnZWRpdCcsICdicnVzaCcsICdsb29rcycsICdjcm9wX2ZyZWUnLFxuXHRcdFx0XHQnY2FtZXJhJywgJ2ZpbHRlcl92aW50YWdlJywgJ2hkcl9zdHJvbmcnLCAncGhvdG9fY2FtZXJhJywgJ3NsaWRlc2hvdycsICd0aW1lcicsICdkaXJlY3Rpb25zX2Jpa2UnLCAnaG90ZWwnLCAnbG9jYWxfbGlicmFyeScsXG5cdFx0XHRcdCdkaXJlY3Rpb25zX3dhbGsnLCAnbG9jYWxfY2FmZScsICdsb2NhbF9waXp6YScsICdsb2NhbF9mbG9yaXN0JywgJ215X2xvY2F0aW9uJywgJ25hdmlnYXRpb24nLCAncGluX2Ryb3AnLCAnYXJyb3dfYmFjaycsICdtZW51Jyxcblx0XHRcdFx0J2Nsb3NlJywgJ21vcmVfaG9yaXonLCAnbW9yZV92ZXJ0JywgJ3JlZnJlc2gnLCAncGhvbmVfcGF1c2VkJywgJ3ZpYnJhdGlvbicsICdjYWtlJywgJ2dyb3VwJywgJ21vb2QnLCAncGVyc29uJyxcblx0XHRcdFx0J25vdGlmaWNhdGlvbnNfbm9uZScsICdwbHVzX29uZScsICdzY2hvb2wnLCAnc2hhcmUnLCAnc3Rhcl9vdXRsaW5lJ1xuXHRcdFx0XSxcblx0XHRcdGNvdW50ZXIgPSAwO1xuXG5cdFx0JGludGVydmFsKGZ1bmN0aW9uKCl7XG5cdFx0XHQkc2NvcGUuaWNvbiA9IGljb25zWysrY291bnRlcl07XG5cdFx0XHRpZiAoY291bnRlciA+IDExMil7XG5cdFx0XHRcdGNvdW50ZXIgPSAwO1xuXHRcdFx0fVxuXHRcdH0sIDIwMDApO1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgYW5ndWxhci5tb2R1bGUoJ2FwcC5jb250cm9sbGVycycpLmNvbnRyb2xsZXIoJ0xvZ2luQ3RybCcsIGZ1bmN0aW9uICgpe1xuXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTWFwQ3RybCcsIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR0aW1lb3V0LCBNYXBTZXJ2aWNlLCBsZWFmbGV0RGF0YSwgJGh0dHApIHtcblx0XHQvL1xuXHRcdHZhciBhcGlLZXkgPSAncGsuZXlKMUlqb2liV0ZuYm05c2J5SXNJbUVpT2lKdVNGZFVZa2c0SW4wLjVIT3lrS2swcE5QMU4zaXNmUFFHVFEnO1xuXG5cdFx0Lyokc2NvcGUuZGVmYXVsdHMgPSB7XG5cdFx0XHR0aWxlTGF5ZXI6ICdodHRwczovL3tzfS50aWxlcy5tYXBib3guY29tL3Y0L21hcGJveC5wZW5jaWwve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj0nICsgYXBpS2V5LFxuXHRcdFx0bWF4Wm9vbTogMTQsXG5cdFx0XHRkZXRlY3RSZXRpbmE6IHRydWUsXG5cdFx0XHRhdHRyaWJ1dGlvbjogJydcblx0XHR9O1xuXHRcdCRzY29wZS5jZW50ZXIgPSB7XG5cdFx0XHRsYXQ6IDAsXG5cdFx0XHRsbmc6IDAsXG5cdFx0XHR6b29tOiAzXG5cdFx0fTsqL1xuXHRcdGFuZ3VsYXIuZXh0ZW5kKCRyb290U2NvcGUsIHtcblx0XHRcdGNlbnRlcjoge1xuXHRcdFx0XHRsYXQ6IDAsXG5cdFx0XHRcdGxuZzogMCxcblx0XHRcdFx0em9vbTogM1xuXHRcdFx0fSxcblx0XHRcdGxheWVyczoge1xuXHRcdFx0XHRiYXNlbGF5ZXJzOiB7XG5cdFx0XHRcdFx0eHl6OiB7XG5cdFx0XHRcdFx0XHRuYW1lOiAnTWFwQm94IFBlbmNpbCcsXG5cdFx0XHRcdFx0XHR1cmw6ICdodHRwczovL3tzfS50aWxlcy5tYXBib3guY29tL3Y0L21hcGJveC5wZW5jaWwve3p9L3t4fS97eX0ucG5nP2FjY2Vzc190b2tlbj0nICsgYXBpS2V5LFxuXHRcdFx0XHRcdFx0dHlwZTogJ3h5eidcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cdFx0XHRcdG92ZXJsYXlzOiB7XG5cdFx0XHRcdFx0ZGVtb3N1dGZncmlkOiB7XG5cdFx0XHRcdFx0XHRuYW1lOiAnVVRGR3JpZCBJbnRlcmFjdGl2aXR5Jyxcblx0XHRcdFx0XHRcdHR5cGU6ICd1dGZHcmlkJyxcblx0XHRcdFx0XHRcdHVybDogJ2h0dHA6Ly97c30udGlsZXMubWFwYm94LmNvbS92My9tYXBib3guZ2VvZ3JhcGh5LWNsYXNzL3t6fS97eH0ve3l9LmdyaWQuanNvbj9jYWxsYmFjaz17Y2J9Jyxcblx0XHRcdFx0XHRcdHZpc2libGU6IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0XHQkc2NvcGUuc2VhcmNoSVAgPSBmdW5jdGlvbiAoaXApIHtcblx0XHRcdHZhciB1cmwgPSBcImh0dHA6Ly9mcmVlZ2VvaXAubmV0L2pzb24vXCIgKyBpcDtcblx0XHRcdCRodHRwLmdldCh1cmwpLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlcykge1xuXHRcdFx0XHQkc2NvcGUuY2VudGVyID0ge1xuXHRcdFx0XHRcdGxhdDogcmVzLmxhdGl0dWRlLFxuXHRcdFx0XHRcdGxuZzogcmVzLmxvbmdpdHVkZSxcblx0XHRcdFx0XHR6b29tOiAzXG5cdFx0XHRcdH1cblx0XHRcdFx0JHNjb3BlLmlwID0gcmVzLmlwO1xuXHRcdFx0fSlcblx0XHR9O1xuXG5cdFx0JHNjb3BlLnNlYXJjaElQKFwiXCIpO1xuXHRcdCRzY29wZS5pbnRlcmFjdGl2aXR5ID0gXCJcIjtcblx0XHQkc2NvcGUuZmxhZyA9IFwiXCI7XG5cdFx0JHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcC51dGZncmlkTW91c2VvdmVyJywgZnVuY3Rpb24gKGV2ZW50LCBsZWFmbGV0RXZlbnQpIHtcblx0XHRcdC8vIHRoZSBVVEZHcmlkIGluZm9ybWF0aW9uIGlzIG9uIGxlYWZsZXRFdmVudC5kYXRhXG5cdFx0XHQkc2NvcGUuaW50ZXJhY3Rpdml0eSA9IGxlYWZsZXRFdmVudC5kYXRhLmFkbWluO1xuXHRcdFx0JHNjb3BlLmZsYWcgPSBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxcIiArIGxlYWZsZXRFdmVudC5kYXRhLmZsYWdfcG5nO1xuXG5cdFx0fSk7XG5cdFx0JHNjb3BlLiRvbignbGVhZmxldERpcmVjdGl2ZU1hcC51dGZncmlkTW91c2VvdXQnLCBmdW5jdGlvbiAoZXZlbnQsIGxlYWZsZXRFdmVudCkge1xuXHRcdFx0JHNjb3BlLmludGVyYWN0aXZpdHkgPSBcIlwiO1xuXHRcdFx0JHNjb3BlLmZsYWcgPSBcIlwiO1xuXHRcdH0pO1xuXHRcdE1hcFNlcnZpY2Uuc2V0TGVhZmxldERhdGEobGVhZmxldERhdGEuZ2V0TWFwKCdtYXAnKSk7XG5cblx0fSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignTWlzY0N0cmwnLCBmdW5jdGlvbigpe1xuICAgICAgICAvL1xuICAgIH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignUmVzdEFwaUN0cmwnLCBmdW5jdGlvbigpe1xuICAgICAgICAvL1xuICAgIH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdTaWRlYmFyQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJHN0YXRlKXtcblxuXG5cdH0pO1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignRGFzaGJvYXJkQ3RybCcsIGZ1bmN0aW9uKCl7XG5cblx0fSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdUb2FzdHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCBUb2FzdFNlcnZpY2Upe1xuXG5cdFx0JHNjb3BlLnRvYXN0U3VjY2VzcyA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRUb2FzdFNlcnZpY2Uuc2hvdygnVXNlciBhZGRlZCBzdWNjZXNzZnVsbHkhJyk7XG5cdFx0fTtcblxuXHRcdCRzY29wZS50b2FzdEVycm9yID0gZnVuY3Rpb24oKXtcblx0XHRcdFRvYXN0U2VydmljZS5lcnJvcignQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCEnKTtcblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICBhbmd1bGFyLm1vZHVsZSgnYXBwLmNvbnRyb2xsZXJzJykuY29udHJvbGxlcignVW5zdXBwb3J0ZWRCcm93c2VyQ3RybCcsIGZ1bmN0aW9uKCl7XG4gICAgICAgIC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcbiAgICBcInVzZSBzdHJpY3RcIjtcblxuICAgIGFuZ3VsYXIubW9kdWxlKCdhcHAuY29udHJvbGxlcnMnKS5jb250cm9sbGVyKCdBZGRVc2Vyc0N0cmwnLCBmdW5jdGlvbigkc2NvcGUsIERpYWxvZ1NlcnZpY2Upe1xuXG4gICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24oKXtcblx0ICAgICAgICAvL2RvIHNvbWV0aGluZyB1c2VmdWxcbiAgICAgICAgICAgIERpYWxvZ1NlcnZpY2UuaGlkZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgICRzY29wZS5oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgXHREaWFsb2dTZXJ2aWNlLmhpZGUoKTtcbiAgICAgICAgfTtcblxuICAgIH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdCdWJibGVzQ3RybCcsIGZ1bmN0aW9uKCl7XG5cdFx0Ly9cbiAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRmdW5jdGlvbiBDdXN0b21Ub29sdGlwKHRvb2x0aXBJZCwgd2lkdGgpIHtcblx0XHR2YXIgdG9vbHRpcElkID0gdG9vbHRpcElkO1xuXHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuZmluZCgnYm9keScpLmFwcGVuZChcIjxkaXYgY2xhc3M9J3Rvb2x0aXAgbWQtd2hpdGVmcmFtZS16MycgaWQ9J1wiICsgdG9vbHRpcElkICsgXCInPjwvZGl2PlwiKTtcblxuXHRcdC8qaWYgKHdpZHRoKSB7XG5cdFx0ICAvLyQoXCIjXCIgKyB0b29sdGlwSWQpLmNzcyhcIndpZHRoXCIsIHdpZHRoKTtcblx0XHR9Ki9cblxuXHRcdGhpZGVUb29sdGlwKCk7XG5cblx0XHRmdW5jdGlvbiBzaG93VG9vbHRpcChjb250ZW50LCBkYXRhLCBldmVudCkge1xuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdG9vbHRpcElkKSkuaHRtbChjb250ZW50KTtcblx0XHRcdGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRvb2x0aXBJZCkpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuXG5cdFx0XHRyZXR1cm4gdXBkYXRlUG9zaXRpb24oZXZlbnQsIGRhdGEpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGhpZGVUb29sdGlwKCkge1xuXHRcdFx0YW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdG9vbHRpcElkKSkuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB1cGRhdGVQb3NpdGlvbihldmVudCwgZCkge1xuXHRcdFx0dmFyIHR0aWQgPSBcIiNcIiArIHRvb2x0aXBJZDtcblx0XHRcdHZhciB4T2Zmc2V0ID0gMjA7XG5cdFx0XHR2YXIgeU9mZnNldCA9IDEwO1xuXHRcdFx0dmFyIHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzdmdfdmlzJyk7XG5cdFx0XHR2YXIgd3NjclkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0XHRcdHZhciB0dHcgPSBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0dGlkKSkub2Zmc2V0V2lkdGg7XG5cdFx0XHR2YXIgdHRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0dGlkKS5vZmZzZXRIZWlnaHQ7XG5cdFx0XHR2YXIgdHR0b3AgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgZC55IC0gdHRoIC8gMjtcblx0XHRcdHZhciB0dGxlZnQgPSBzdmcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCArIGQueCArIGQucmFkaXVzICsgMTI7XG5cdFx0XHRyZXR1cm4gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodHRpZCkpLmNzcygndG9wJywgdHR0b3AgKyAncHgnKS5jc3MoJ2xlZnQnLCB0dGxlZnQgKyAncHgnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c2hvd1Rvb2x0aXA6IHNob3dUb29sdGlwLFxuXHRcdFx0aGlkZVRvb2x0aXA6IGhpZGVUb29sdGlwLFxuXHRcdFx0dXBkYXRlUG9zaXRpb246IHVwZGF0ZVBvc2l0aW9uXG5cdFx0fVxuXHR9XG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmRpcmVjdGl2ZSgnYnViYmxlcycsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xuXHRcdHZhciBkZWZhdWx0cztcblx0XHRkZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHdpZHRoOiA5NDAsXG5cdFx0XHRcdGhlaWdodDogNjAwLFxuXHRcdFx0XHRsYXlvdXRfZ3Jhdml0eTogMCxcblx0XHRcdFx0dmlzOiBudWxsLFxuXHRcdFx0XHRmb3JjZTogbnVsbCxcblx0XHRcdFx0ZGFtcGVyOiAwLjEsXG5cdFx0XHRcdGNpcmNsZXM6IG51bGwsXG5cdFx0XHRcdGZpbGxfY29sb3I6IGQzLnNjYWxlLm9yZGluYWwoKS5kb21haW4oW1wiZWhcIiwgXCJldlwiXSkucmFuZ2UoW1wiI2EzMTAzMVwiLCBcIiNiZWNjYWVcIl0pLFxuXHRcdFx0XHRtYXhfYW1vdW50OiAnJyxcblx0XHRcdFx0cmFkaXVzX3NjYWxlOiAnJyxcblx0XHRcdFx0ZHVyYXRpb246IDEwMDAsXG5cdFx0XHRcdHRvb2x0aXA6IEN1c3RvbVRvb2x0aXAoXCJidWJibGVzX3Rvb2x0aXBcIiwgMjQwKVxuXHRcdFx0fTtcblx0XHR9O1xuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0UnLFxuXHRcdFx0Ly9jb250cm9sbGVyOiAnQnViYmxlc0N0cmwnLFxuXHRcdFx0c2NvcGU6IHtcblx0XHRcdFx0Y2hhcnRkYXRhOiAnPScsXG5cdFx0XHRcdGRpcmVjdGlvbjogJz0nLFxuXHRcdFx0XHRncmF2aXR5OiAnPScsXG5cdFx0XHRcdHNpemVmYWN0b3I6ICc9J1xuXHRcdFx0fSxcblx0XHRcdGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbSwgYXR0cnMpIHtcblx0XHRcdFx0dmFyIG9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZChkZWZhdWx0cygpLCBhdHRycyk7XG5cdFx0XHRcdHZhciBub2RlcyA9IFtdLFxuXHRcdFx0XHRcdGxpbmtzID0gW107XG5cblx0XHRcdFx0dmFyIG1heF9hbW91bnQgPSBkMy5tYXgoc2NvcGUuY2hhcnRkYXRhLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdHJldHVybiBwYXJzZUludChkLnZhbHVlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0b3B0aW9ucy5yYWRpdXNfc2NhbGUgPSBkMy5zY2FsZS5wb3coKS5leHBvbmVudCgwLjUpLmRvbWFpbihbMCwgbWF4X2Ftb3VudF0pLnJhbmdlKFsyLCA4NV0pO1xuXHRcdFx0XHRvcHRpb25zLmNlbnRlciA9IHtcblx0XHRcdFx0XHR4OiBvcHRpb25zLndpZHRoIC8gMixcblx0XHRcdFx0XHR5OiBvcHRpb25zLmhlaWdodCAvIDJcblx0XHRcdFx0fTtcblx0XHRcdFx0b3B0aW9ucy5jYXRfY2VudGVycyA9IHtcblx0XHRcdFx0XHRcImVoXCI6IHtcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMud2lkdGggLyAyLFxuXHRcdFx0XHRcdFx0eTogb3B0aW9ucy5oZWlnaHQgLyAxMDAgKiA0NSxcblx0XHRcdFx0XHRcdGRhbXBlcjogMC4wODVcblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFwiZXZcIjoge1xuXHRcdFx0XHRcdFx0eDogb3B0aW9ucy53aWR0aCAvIDIsXG5cdFx0XHRcdFx0XHR5OiBvcHRpb25zLmhlaWdodCAvIDEwMCAqIDU1LFxuXHRcdFx0XHRcdFx0ZGFtcGVyOiAwLjA4NVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIGNyZWF0ZV9ub2RlcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRub2RlcyA9IFt7XG5cdFx0XHRcdFx0XHRpZDogMSxcblx0XHRcdFx0XHRcdHR5cGU6ICdlaF9oaScsXG5cdFx0XHRcdFx0XHRyYWRpdXM6IHNjb3BlLmNoYXJ0ZGF0YS5laF9oaSAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhLmVoX2hpIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdG5hbWU6ICdIZWFsdGggSW1wYWN0Jyxcblx0XHRcdFx0XHRcdGdyb3VwOiAnZWgnLFxuXHRcdFx0XHRcdFx0eDogb3B0aW9ucy5jZW50ZXIueCxcblx0XHRcdFx0XHRcdHk6IG9wdGlvbnMuY2VudGVyLnksXG5cdFx0XHRcdFx0XHRjb2xvcjogJyNmZjk2MDAnLFxuXHRcdFx0XHRcdFx0aWNvbjogJ21hbicsXG5cdFx0XHRcdFx0XHR1bmljb2RlOiAnXFx1ZTYwNSdcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRpZDogMixcblx0XHRcdFx0XHRcdHR5cGU6ICdlaF9hcScsXG5cdFx0XHRcdFx0XHRyYWRpdXM6IHNjb3BlLmNoYXJ0ZGF0YS5laF9hcSAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhLmVoX2FxIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdG5hbWU6ICdBaXIgUXVhbGl0eScsXG5cdFx0XHRcdFx0XHRncm91cDogJ2VoJyxcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMuY2VudGVyLngsXG5cdFx0XHRcdFx0XHR5OiBvcHRpb25zLmNlbnRlci55LFxuXHRcdFx0XHRcdFx0Y29sb3I6ICcjZjdjODBiJyxcblx0XHRcdFx0XHRcdGljb246ICdzaW5rJyxcblx0XHRcdFx0XHRcdHVuaWNvZGU6ICdcXHVlNjA2J1xuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdGlkOiAzLFxuXHRcdFx0XHRcdFx0dHlwZTogJ2VoX3dzJyxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NvcGUuY2hhcnRkYXRhLmVoX3dzIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdHZhbHVlOiBzY29wZS5jaGFydGRhdGEuZWhfd3MgLyBzY29wZS5zaXplZmFjdG9yLFxuXHRcdFx0XHRcdFx0bmFtZTogJ1dhdGVyIFNhbml0YXRpb24nLFxuXHRcdFx0XHRcdFx0Z3JvdXA6ICdlaCcsXG5cdFx0XHRcdFx0XHR4OiBvcHRpb25zLmNlbnRlci54LFxuXHRcdFx0XHRcdFx0eTogb3B0aW9ucy5jZW50ZXIueSxcblx0XHRcdFx0XHRcdGNvbG9yOiAnI2ZmNmQyNCcsXG5cdFx0XHRcdFx0XHRpY29uOiAnZmFicmljJyxcblx0XHRcdFx0XHRcdHVuaWNvZGU6ICdcXHVlNjA0J1xuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdGlkOiA0LFxuXHRcdFx0XHRcdFx0dHlwZTogJ2V2X3dyJyxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NvcGUuY2hhcnRkYXRhLmV2X3dyIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdHZhbHVlOiBzY29wZS5jaGFydGRhdGEuZXZfd3IgLyBzY29wZS5zaXplZmFjdG9yLFxuXHRcdFx0XHRcdFx0bmFtZTogJ1dhdGVyIFJlc291cmNlcycsXG5cdFx0XHRcdFx0XHRncm91cDogJ2V2Jyxcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMuY2VudGVyLngsXG5cdFx0XHRcdFx0XHR5OiBvcHRpb25zLmNlbnRlci55LFxuXHRcdFx0XHRcdFx0Y29sb3I6ICcjNzk5M2YyJyxcblx0XHRcdFx0XHRcdGljb246ICd3YXRlcicsXG5cdFx0XHRcdFx0XHR1bmljb2RlOiAnXFx1ZTYwOCdcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRpZDogNSxcblx0XHRcdFx0XHRcdHR5cGU6ICdldl9hZycsXG5cdFx0XHRcdFx0XHRyYWRpdXM6IHNjb3BlLmNoYXJ0ZGF0YS5ldl9hZyAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhLmV2X2FnIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdG5hbWU6ICdBZ3JpY3VsdHVyZScsXG5cdFx0XHRcdFx0XHRncm91cDogJ2V2Jyxcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMuY2VudGVyLngsXG5cdFx0XHRcdFx0XHR5OiBvcHRpb25zLmNlbnRlci55LFxuXHRcdFx0XHRcdFx0Y29sb3I6ICcjMDA5YmNjJyxcblx0XHRcdFx0XHRcdGljb246ICdhZ3JhcicsXG5cdFx0XHRcdFx0XHR1bmljb2RlOiAnXFx1ZTYwMCdcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRpZDogNixcblx0XHRcdFx0XHRcdHR5cGU6ICdldl9mbycsXG5cdFx0XHRcdFx0XHRyYWRpdXM6IHNjb3BlLmNoYXJ0ZGF0YS5ldl9mbyAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhLmV2X2ZvIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdG5hbWU6ICdGb3Jlc3QnLFxuXHRcdFx0XHRcdFx0Z3JvdXA6ICdldicsXG5cdFx0XHRcdFx0XHR4OiBvcHRpb25zLmNlbnRlci54LFxuXHRcdFx0XHRcdFx0eTogb3B0aW9ucy5jZW50ZXIueSxcblx0XHRcdFx0XHRcdGNvbG9yOiAnIzJlNzRiYScsXG5cdFx0XHRcdFx0XHRpY29uOiAndHJlZScsXG5cdFx0XHRcdFx0XHR1bmljb2RlOiAnXFx1ZTYwNydcblx0XHRcdFx0XHR9LCB7XG5cdFx0XHRcdFx0XHRpZDogNyxcblx0XHRcdFx0XHRcdHR5cGU6ICdldl9maScsXG5cdFx0XHRcdFx0XHRyYWRpdXM6IHNjb3BlLmNoYXJ0ZGF0YS5ldl9maSAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc2NvcGUuY2hhcnRkYXRhLmV2X2ZpIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdG5hbWU6ICdGaXNoZXJpZXMnLFxuXHRcdFx0XHRcdFx0Z3JvdXA6ICdldicsXG5cdFx0XHRcdFx0XHR4OiBvcHRpb25zLmNlbnRlci54LFxuXHRcdFx0XHRcdFx0eTogb3B0aW9ucy5jZW50ZXIueSxcblx0XHRcdFx0XHRcdGNvbG9yOiAnIzAwOGM4YycsXG5cdFx0XHRcdFx0XHRpY29uOiAnYW5jaG9yJyxcblx0XHRcdFx0XHRcdHVuaWNvZGU6ICdcXHVlNjAxJ1xuXHRcdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRcdGlkOiA4LFxuXHRcdFx0XHRcdFx0dHlwZTogJ2V2X2JkJyxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NvcGUuY2hhcnRkYXRhLmV2X2JkIC8gc2NvcGUuc2l6ZWZhY3Rvcixcblx0XHRcdFx0XHRcdHZhbHVlOiBzY29wZS5jaGFydGRhdGEuZXZfYmQgLyBzY29wZS5zaXplZmFjdG9yLFxuXHRcdFx0XHRcdFx0bmFtZTogJ0Jpb2RpdmVyc2l0eSBhbmQgSGFiaXRhdCcsXG5cdFx0XHRcdFx0XHRncm91cDogJ2V2Jyxcblx0XHRcdFx0XHRcdHg6IG9wdGlvbnMuY2VudGVyLngsXG5cdFx0XHRcdFx0XHR5OiBvcHRpb25zLmNlbnRlci55LFxuXHRcdFx0XHRcdFx0Y29sb3I6ICcjMDBjY2FhJyxcblx0XHRcdFx0XHRcdGljb246ICdidXR0ZXJmbHknLFxuXHRcdFx0XHRcdFx0dW5pY29kZTogJ1xcdWU2MDInXG5cdFx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdFx0aWQ6IDksXG5cdFx0XHRcdFx0XHR0eXBlOiAnZXZfY2UnLFxuXHRcdFx0XHRcdFx0cmFkaXVzOiBzY29wZS5jaGFydGRhdGEuZXZfY2UgLyBzY29wZS5zaXplZmFjdG9yLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHNjb3BlLmNoYXJ0ZGF0YS5ldl9jZSAvIHNjb3BlLnNpemVmYWN0b3IsXG5cdFx0XHRcdFx0XHRuYW1lOiAnQ2xpbWF0ZSBhbmQgRW5lcmd5Jyxcblx0XHRcdFx0XHRcdGdyb3VwOiAnZXYnLFxuXHRcdFx0XHRcdFx0eDogb3B0aW9ucy5jZW50ZXIueCxcblx0XHRcdFx0XHRcdHk6IG9wdGlvbnMuY2VudGVyLnksXG5cdFx0XHRcdFx0XHRjb2xvcjogJyMxY2I4NWQnLFxuXHRcdFx0XHRcdFx0aWNvbjogJ2VuZXJneScsXG5cdFx0XHRcdFx0XHR1bmljb2RlOiAnXFx1ZTYwMydcblx0XHRcdFx0XHR9XTtcblx0XHRcdFx0XHQvKnNjb3BlLmNoYXJ0ZGF0YS5mb3JFYWNoKChmdW5jdGlvbiAoX3RoaXMpIHtcblxuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBub2RlO1xuXHRcdFx0XHRcdFx0XHRub2RlID0ge1xuXHRcdFx0XHRcdFx0XHRcdGlkOiBkLmlkLFxuXHRcdFx0XHRcdFx0XHRcdHJhZGl1czogZC52YWx1ZSxcblx0XHRcdFx0XHRcdFx0XHR2YWx1ZTogZC52YWx1ZSxcblx0XHRcdFx0XHRcdFx0XHRuYW1lOiBkLm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0b3JnOiAnYmxhJyxcblx0XHRcdFx0XHRcdFx0XHRncm91cDogZC5ncm91cCxcblx0XHRcdFx0XHRcdFx0XHQvL3llYXI6IGQuc3RhcnRfeWVhcixcblx0XHRcdFx0XHRcdFx0XHR4OiBvcHRpb25zLmNlbnRlci54LFxuXHRcdFx0XHRcdFx0XHRcdHk6IG9wdGlvbnMuY2VudGVyLnlcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIG5vZGVzLnB1c2gobm9kZSk7XG5cblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSkodGhpcykpO1xuXHRcdFx0XHRcdHJldHVybiBub2Rlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gYi52YWx1ZSAtIGEudmFsdWU7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bGlua3MgPSBbXG5cdFx0XHRcdFx0XHR7c291cmNlOjAsIHRhcmdldDoxfSxcblx0XHRcdFx0XHRcdHtzb3VyY2U6MCwgdGFyZ2V0OjJ9LFxuXHRcdFx0XHRcdFx0e3NvdXJjZTowLCB0YXJnZXQ6M30sXG5cdFx0XHRcdFx0XHR7c291cmNlOjQsIHRhcmdldDo1fSxcblx0XHRcdFx0XHRcdHtzb3VyY2U6NCwgdGFyZ2V0OjZ9LFxuXHRcdFx0XHRcdFx0e3NvdXJjZTo0LCB0YXJnZXQ6N30sXG5cdFx0XHRcdFx0XHR7c291cmNlOjQsIHRhcmdldDo4fVxuXHRcdFx0XHRcdF0qL1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgY3JlYXRlX3ZpcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRhbmd1bGFyLmVsZW1lbnQoZWxlbSkuaHRtbCgnJyk7XG5cdFx0XHRcdFx0b3B0aW9ucy52aXMgPSBkMy5zZWxlY3QoZWxlbVswXSkuYXBwZW5kKFwic3ZnXCIpLmF0dHIoXCJ3aWR0aFwiLCBvcHRpb25zLndpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIG9wdGlvbnMuaGVpZ2h0KS5hdHRyKFwiaWRcIiwgXCJzdmdfdmlzXCIpO1xuXHRcdFx0XHRcdHZhciBwaSA9IE1hdGguUEk7XG5cdFx0XHRcdFx0dmFyIGFyY1RvcCA9IGQzLnN2Zy5hcmMoKVxuXHRcdFx0XHRcdFx0LmlubmVyUmFkaXVzKDEwOSlcblx0XHRcdFx0XHRcdC5vdXRlclJhZGl1cygxMTApXG5cdFx0XHRcdFx0XHQuc3RhcnRBbmdsZSgtOTAgKiAocGkgLyAxODApKSAvL2NvbnZlcnRpbmcgZnJvbSBkZWdzIHRvIHJhZGlhbnNcblx0XHRcdFx0XHRcdC5lbmRBbmdsZSg5MCAqIChwaSAvIDE4MCkpOyAvL2p1c3QgcmFkaWFuc1xuXHRcdFx0XHRcdHZhciBhcmNCb3R0b20gPSBkMy5zdmcuYXJjKClcblx0XHRcdFx0XHRcdC5pbm5lclJhZGl1cygxMzQpXG5cdFx0XHRcdFx0XHQub3V0ZXJSYWRpdXMoMTM1KVxuXHRcdFx0XHRcdFx0LnN0YXJ0QW5nbGUoOTAgKiAocGkgLyAxODApKSAvL2NvbnZlcnRpbmcgZnJvbSBkZWdzIHRvIHJhZGlhbnNcblx0XHRcdFx0XHRcdC5lbmRBbmdsZSgyNzAgKiAocGkgLyAxODApKTsgLy9qdXN0IHJhZGlhbnNcblxuXHRcdFx0XHRcdG9wdGlvbnMuYXJjVG9wID0gb3B0aW9ucy52aXMuYXBwZW5kKFwicGF0aFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJkXCIsIGFyY1RvcClcblx0XHRcdFx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIiNiZTVmMDBcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDE3MCwxNDApXCIpO1xuXHRcdFx0XHRcdG9wdGlvbnMuYXJjQm90dG9tID0gb3B0aW9ucy52aXMuYXBwZW5kKFwicGF0aFwiKVxuXHRcdFx0XHRcdFx0LmF0dHIoXCJkXCIsIGFyY0JvdHRvbSlcblx0XHRcdFx0XHRcdC5hdHRyKFwiZmlsbFwiLCBcIiMwMDZiYjZcIilcblx0XHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDE3MCwxODApXCIpO1xuXHRcdFx0XHRcdG9wdGlvbnMuY29udGFpbmVycyA9IG9wdGlvbnMudmlzLnNlbGVjdEFsbCgnZy5ub2RlJykuZGF0YShub2RlcykuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyAob3B0aW9ucy53aWR0aCAvIDIpICsgJywnICsgKG9wdGlvbnMuaGVpZ2h0IC8gMikgKyAnKScpLmF0dHIoJ2NsYXNzJywgJ25vZGUnKTtcblxuXHRcdFx0XHRcdC8qb3B0aW9ucy5jaXJjbGVzID0gb3B0aW9ucy5jb250YWluZXJzLnNlbGVjdEFsbChcImNpcmNsZVwiKS5kYXRhKG5vZGVzLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQuaWQ7XG5cdFx0XHRcdFx0fSk7Ki9cblxuXHRcdFx0XHRcdG9wdGlvbnMuY2lyY2xlcyA9IG9wdGlvbnMuY29udGFpbmVycy5hcHBlbmQoXCJjaXJjbGVcIikuYXR0cihcInJcIiwgMCkuYXR0cihcImZpbGxcIiwgKGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZC5jb2xvciB8fCBvcHRpb25zLmZpbGxfY29sb3IoZC5ncm91cCk7XG5cdFx0XHRcdFx0fSkpLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMCkuYXR0cihcInN0cm9rZVwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQzLnJnYihvcHRpb25zLmZpbGxfY29sb3IoZC5ncm91cCkpLmRhcmtlcigpO1xuXHRcdFx0XHRcdH0pLmF0dHIoXCJpZFwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIFwiYnViYmxlX1wiICsgZC5pZDtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRvcHRpb25zLmljb25zID0gb3B0aW9ucy5jb250YWluZXJzLmFwcGVuZChcInRleHRcIilcblx0XHRcdFx0XHRcdC5hdHRyKCdmb250LWZhbWlseScsICdFUEknKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ2ZvbnQtc2l6ZScsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdDBcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHQuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG5cdFx0XHRcdFx0XHQuYXR0cignZmlsbCcsICcjZmZmJylcblx0XHRcdFx0XHRcdC50ZXh0KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBkLnVuaWNvZGVcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuaWNvbnMub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBzaG93X2RldGFpbHMoZCwgaSwgdGhpcyk7XG5cdFx0XHRcdFx0fSkub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCwgaSkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGhpZGVfZGV0YWlscyhkLCBpLCB0aGlzKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvKm9wdGlvbnMudG9vbHRpcHMgPSBvcHRpb25zLmNvbnRhaW5lcnMuYXBwZW5kKCdtZC10b29sdGlwJykuaHRtbCgnUGhvdG9zJyk7XG5cdFx0XHRcdFx0b3B0aW9ucy50b29sdGlwcy5jYWxsKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdCRjb21waWxlKHRoaXNbMF0ucGFyZW50Tm9kZSkoc2NvcGUpO1xuXHRcdFx0XHRcdH0pOyovXG5cdFx0XHRcdFx0b3B0aW9ucy5jaXJjbGVzLnRyYW5zaXRpb24oKS5kdXJhdGlvbihvcHRpb25zLmR1cmF0aW9uKS5hdHRyKFwiclwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQucmFkaXVzO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuaWNvbnMudHJhbnNpdGlvbigpLmR1cmF0aW9uKG9wdGlvbnMuZHVyYXRpb24pLmF0dHIoXCJmb250LXNpemVcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBkLnJhZGl1cyAqIDEuNzUgKyAncHgnO1xuXHRcdFx0XHRcdH0pLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQucmFkaXVzICogLjc1ICsgJ3B4Jztcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIHVwZGF0ZV92aXMgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHRub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChkLCBpKSB7XG5cdFx0XHRcdFx0XHRvcHRpb25zLmNpcmNsZXMudHJhbnNpdGlvbigpLmR1cmF0aW9uKG9wdGlvbnMuZHVyYXRpb24pLmRlbGF5KGkgKiBvcHRpb25zLmR1cmF0aW9uKVxuXHRcdFx0XHRcdFx0XHQuYXR0cihcInJcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0XHRkLnJhZGl1cyA9IGQudmFsdWUgPSBzY29wZS5jaGFydGRhdGFbZC50eXBlXSAvIHNjb3BlLnNpemVmYWN0b3I7XG5cblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc2NvcGUuY2hhcnRkYXRhW2QudHlwZV0gLyBzY29wZS5zaXplZmFjdG9yO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdG9wdGlvbnMuaWNvbnMudHJhbnNpdGlvbigpLmR1cmF0aW9uKG9wdGlvbnMuZHVyYXRpb24pLmRlbGF5KGkgKiBvcHRpb25zLmR1cmF0aW9uKVxuXHRcdFx0XHRcdFx0XHQuYXR0cihcImZvbnQtc2l6ZVwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiAoc2NvcGUuY2hhcnRkYXRhW2QudHlwZV0gLyBzY29wZS5zaXplZmFjdG9yKSAqIDEuNzUgKyAncHgnXG5cdFx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0XHRcdC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gKHNjb3BlLmNoYXJ0ZGF0YVtkLnR5cGVdIC8gc2NvcGUuc2l6ZWZhY3RvcikgKiAuNzUgKyAncHgnO1xuXHRcdFx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgY2hhcmdlID0gZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRyZXR1cm4gLU1hdGgucG93KGQucmFkaXVzLCAyLjApIC8gNDtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIHN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdHJldHVybiBvcHRpb25zLmZvcmNlID0gZDMubGF5b3V0LmZvcmNlKCkubm9kZXMobm9kZXMpLnNpemUoW29wdGlvbnMud2lkdGgsIG9wdGlvbnMuaGVpZ2h0XSkubGlua3MobGlua3MpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHQvKnZhciBkaXNwbGF5X2dyb3VwX2FsbCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRvcHRpb25zLmZvcmNlLmdyYXZpdHkob3B0aW9ucy5sYXlvdXRfZ3Jhdml0eSkuY2hhcmdlKGNoYXJnZSkuZnJpY3Rpb24oMC45KS5vbihcInRpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdHJldHVybiBvcHRpb25zLmNpcmNsZXMuZWFjaChtb3ZlX3Rvd2FyZHNfY2VudGVyKGUuYWxwaGEpKS5hdHRyKCdjeCcsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBkLng7XG5cdFx0XHRcdFx0XHR9KS5hdHRyKFwiY3lcIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGQueTtcblx0XHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0b3B0aW9ucy5mb3JjZS5zdGFydCgpO1xuXHRcdFx0XHRcdC8vcmV0dXJuIHRoaXMuaGlkZV95ZWFycygpO1xuXHRcdFx0XHR9OyovXG5cdFx0XHRcdHZhciBkaXNwbGF5X2J5X2NhdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRvcHRpb25zLmZvcmNlLmdyYXZpdHkob3B0aW9ucy5sYXlvdXRfZ3Jhdml0eSkuY2hhcmdlKGNoYXJnZSkuZnJpY3Rpb24oMC45KS5vbihcInRpY2tcIiwgZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdG9wdGlvbnMuY29udGFpbmVycy5lYWNoKG1vdmVfdG93YXJkc19jYXQoZS5hbHBoYSkpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuICd0cmFuc2xhdGUoJyArIGQueCArICcsJyArIGQueSArICcpJztcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0LypvcHRpb25zLmljb25zLmVhY2gobW92ZV90b3dhcmRzX2NhdChlLmFscGhhKSkuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAoZC54KSArIFwiLCBcIiArIChkLnkpICsgXCIpXCI7XG5cdFx0XHRcdFx0XHR9KTsqL1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdG9wdGlvbnMuZm9yY2Uuc3RhcnQoKTtcblx0XHRcdFx0XHQvL3JldHVybiB0aGlzLmRpc3BsYXlfeWVhcnMoKTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dmFyIG1vdmVfdG93YXJkc19jZW50ZXIgPSBmdW5jdGlvbiAoYWxwaGEpIHtcblx0XHRcdFx0XHRyZXR1cm4gKGZ1bmN0aW9uIChfdGhpcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdGQueCA9IGQueCArIChvcHRpb25zLmNlbnRlci54IC0gZC54KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGE7XG5cdFx0XHRcdFx0XHRcdGQueSA9IGQueSArIChvcHRpb25zLmNlbnRlci55IC0gZC55KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkodGhpcyk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBtb3ZlX3Rvd2FyZHNfdG9wID0gZnVuY3Rpb24gKGFscGhhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChmdW5jdGlvbiAoX3RoaXMpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRkLnggPSBkLnggKyAob3B0aW9ucy5jZW50ZXIueCAtIGQueCkgKiAob3B0aW9ucy5kYW1wZXIgKyAwLjAyKSAqIGFscGhhICogMS4xO1xuXHRcdFx0XHRcdFx0XHRkLnkgPSBkLnkgKyAoMjAwIC0gZC55KSAqIChvcHRpb25zLmRhbXBlciArIDAuMDIpICogYWxwaGEgKiAxLjE7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSkodGhpcyk7XG5cdFx0XHRcdH07XG5cdFx0XHRcdHZhciBtb3ZlX3Rvd2FyZHNfY2F0ID0gZnVuY3Rpb24gKGFscGhhKSB7XG5cdFx0XHRcdFx0cmV0dXJuIChmdW5jdGlvbiAoX3RoaXMpIHtcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHR2YXIgdGFyZ2V0O1xuXHRcdFx0XHRcdFx0XHR0YXJnZXQgPSBvcHRpb25zLmNhdF9jZW50ZXJzW2QuZ3JvdXBdO1xuXHRcdFx0XHRcdFx0XHRkLnggPSBkLnggKyAodGFyZ2V0LnggLSBkLngpICogKHRhcmdldC5kYW1wZXIgKyAwLjAyKSAqIGFscGhhICogMTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGQueSA9IGQueSArICh0YXJnZXQueSAtIGQueSkgKiAodGFyZ2V0LmRhbXBlciArIDAuMDIpICogYWxwaGEgKiAxO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pKHRoaXMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgc2hvd19kZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGksIGVsZW1lbnQpIHtcblx0XHRcdFx0XHR2YXIgY29udGVudDtcblx0XHRcdFx0XHQvL2QzLnNlbGVjdChlbGVtZW50KS5hdHRyKFwic3Ryb2tlXCIsIFwiYmxhY2tcIik7XG5cdFx0XHRcdFx0Y29udGVudCA9IFwiPHNwYW4gY2xhc3M9XFxcInRpdGxlXFxcIj5cIiArIGRhdGEubmFtZSArIFwiOjwvc3Bhbj48YnIvPlwiO1xuXHRcdFx0XHRcdC8vY29udGVudCArPSc8ZGl2IGNsYXNzPVwiY2xvc2UtaXRcIiBuZy1jbGljaz1cIm9wdGlvbnMudG9vbHRpcC5oaWRlVG9vbHRpcCgpXCI+PG5nLW1kLWljb24gc2l6ZT1cIjEyXCIgaWNvbj1cImNsb3NlXCI+PC9uZy1tZC1pY29uPjwvZGl2Pic7XG5cdFx0XHRcdFx0Ly9jb250ZW50ICs9IFwiPHNwYW4gY2xhc3M9XFxcIm5hbWVcXFwiPlZhbHVlOjwvc3Bhbj48c3BhbiBjbGFzcz1cXFwidmFsdWVcXFwiPiBcIiArIChhZGRDb21tYXMoZGF0YS52YWx1ZSkpICsgXCI8L3NwYW4+PGJyLz5cIjtcblx0XHRcdFx0XHQvL2NvbnRlbnQgKz0gXCI8c3BhbiBjbGFzcz1cXFwibmFtZVxcXCI+WWVhcjo8L3NwYW4+PHNwYW4gY2xhc3M9XFxcInZhbHVlXFxcIj4gXCIgKyBkYXRhLnZhbHVlICsgXCI8L3NwYW4+XCI7XG5cblx0XHRcdFx0XHQkY29tcGlsZShvcHRpb25zLnRvb2x0aXAuc2hvd1Rvb2x0aXAoY29udGVudCwgZGF0YSwgZDMuZXZlbnQpLmNvbnRlbnRzKCkpKHNjb3BlKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR2YXIgaGlkZV9kZXRhaWxzID0gZnVuY3Rpb24gKGRhdGEsIGksIGVsZW1lbnQpIHtcblx0XHRcdFx0XHRyZXR1cm4gb3B0aW9ucy50b29sdGlwLmhpZGVUb29sdGlwKCk7XG5cdFx0XHRcdH07XG5cblxuXHRcdFx0XHRzY29wZS4kd2F0Y2goJ2NoYXJ0ZGF0YScsIGZ1bmN0aW9uIChkYXRhLCBvbGREYXRhKSB7XG5cdFx0XHRcdFx0b3B0aW9ucy50b29sdGlwLmhpZGVUb29sdGlwKCk7XG5cdFx0XHRcdFx0aWYgKG9wdGlvbnMuY2lyY2xlcyA9PSBudWxsKSB7XG5cdFx0XHRcdFx0XHRjcmVhdGVfbm9kZXMoKTtcblx0XHRcdFx0XHRcdGNyZWF0ZV92aXMoKTtcblx0XHRcdFx0XHRcdHN0YXJ0KCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHVwZGF0ZV92aXMoKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRkaXNwbGF5X2J5X2NhdCgpO1xuXHRcdFx0XHRcdC8vJGNvbXBpbGUoZWxlbSkoc2NvcGUpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRzY29wZS4kd2F0Y2goJ2RpcmVjdGlvbicsIGZ1bmN0aW9uIChvbGRELCBuZXdEKSB7XG5cdFx0XHRcdFx0aWYgKG9sZEQgPT09IG5ld0QpIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKG9sZEQgPT0gXCJhbGxcIikge1xuXHRcdFx0XHRcdFx0ZGlzcGxheV9ncm91cF9hbGwoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGlzcGxheV9ieV9jYXQoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pXG5cdFx0XHR9XG5cdFx0fTtcblx0fSk7XG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdDaXJjbGVncmFwaEN0cmwnLCBmdW5jdGlvbigpe1xuXHRcdC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmRpcmVjdGl2ZSgnY2lyY2xlZ3JhcGgnLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgZGVmYXVsdHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHdpZHRoOiA4MCxcblx0XHRcdFx0aGVpZ2h0OiA4MCxcblx0XHRcdFx0Y29sb3I6ICcjMDBjY2FhJyxcblx0XHRcdFx0c2l6ZTogMTc4XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRyZXN0cmljdDogJ0UnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0NpcmNsZWdyYXBoQ3RybCcsXG5cdFx0XHRzY29wZTogdHJ1ZSxcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCwgJGF0dHJzLCBuZ01vZGVsKSB7XG5cdFx0XHRcdC8vRmV0Y2hpbmcgT3B0aW9uc1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRzKCksICRhdHRycyk7XG5cblx0XHRcdFx0Ly9DcmVhdGluZyB0aGUgU2NhbGVcblx0XHRcdFx0dmFyIHJvdGF0ZSA9IGQzLnNjYWxlLmxpbmVhcigpXG5cdFx0XHRcdFx0LmRvbWFpbihbMSwgb3B0aW9ucy5zaXplXSlcblx0XHRcdFx0XHQucmFuZ2UoWzEsIDBdKVxuXHRcdFx0XHRcdC5jbGFtcCh0cnVlKTtcblxuXHRcdFx0XHQvL0NyZWF0aW5nIEVsZW1lbnRzXG5cdFx0XHRcdHZhciBzdmcgPSBkMy5zZWxlY3QoZWxlbWVudFswXSkuYXBwZW5kKCdzdmcnKVxuXHRcdFx0XHRcdC5hdHRyKCd3aWR0aCcsIG9wdGlvbnMud2lkdGgpXG5cdFx0XHRcdFx0LmF0dHIoJ2hlaWdodCcsIG9wdGlvbnMuaGVpZ2h0KVxuXHRcdFx0XHRcdC5hcHBlbmQoJ2cnKTtcblx0XHRcdFx0dmFyIGNvbnRhaW5lciA9IHN2Zy5hcHBlbmQoJ2cnKVxuXHRcdFx0XHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBvcHRpb25zLndpZHRoIC8gMiArICcsJyArIG9wdGlvbnMuaGVpZ2h0IC8gMiArICcpJyk7XG5cdFx0XHRcdHZhciBjaXJjbGVCYWNrID0gY29udGFpbmVyLmFwcGVuZCgnY2lyY2xlJylcblx0XHRcdFx0XHQuYXR0cigncicsIG9wdGlvbnMud2lkdGggLyAyIC0gMilcblx0XHRcdFx0XHQuYXR0cignc3Ryb2tlLXdpZHRoJywgMilcblx0XHRcdFx0XHQuYXR0cignc3Ryb2tlJywgb3B0aW9ucy5jb2xvcilcblx0XHRcdFx0XHQuc3R5bGUoJ29wYWNpdHknLCAnMC42Jylcblx0XHRcdFx0XHQuYXR0cignZmlsbCcsICdub25lJyk7XG5cdFx0XHRcdHZhciBhcmMgPSBkMy5zdmcuYXJjKClcblx0XHRcdFx0XHQuc3RhcnRBbmdsZSgwKVxuXHRcdFx0XHRcdC5pbm5lclJhZGl1cyhmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gb3B0aW9ucy53aWR0aCAvIDIgLSA0O1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0Lm91dGVyUmFkaXVzKGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdHJldHVybiBvcHRpb25zLndpZHRoIC8gMjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0dmFyIGNpcmNsZUdyYXBoID0gY29udGFpbmVyLmFwcGVuZCgncGF0aCcpXG5cdFx0XHRcdFx0LmRhdHVtKHtcblx0XHRcdFx0XHRcdGVuZEFuZ2xlOiAyICogTWF0aC5QSSAqIDBcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC5zdHlsZShcImZpbGxcIiwgb3B0aW9ucy5jb2xvcilcblx0XHRcdFx0XHQuYXR0cignZCcsIGFyYyk7XG5cdFx0XHRcdHZhciB0ZXh0ID0gY29udGFpbmVyLnNlbGVjdEFsbCgndGV4dCcpXG5cdFx0XHRcdFx0LmRhdGEoWzBdKVxuXHRcdFx0XHRcdC5lbnRlcigpXG5cdFx0XHRcdFx0LmFwcGVuZCgndGV4dCcpXG5cdFx0XHRcdFx0LnRleHQoZnVuY3Rpb24oZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGQgKyAnLycgKyBvcHRpb25zLnNpemU7XG5cdFx0XHRcdFx0fSlcblx0XHRcdFx0XHQuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcblx0XHRcdFx0XHQuYXR0cigneScsICcwLjM1ZW0nKTtcblxuXHRcdFx0XHQvL1RyYW5zaXRpb24gaWYgc2VsZWN0aW9uIGhhcyBjaGFuZ2VkXG5cdFx0XHRcdGZ1bmN0aW9uIGFuaW1hdGVJdChyYWRpdXMpIHtcblx0XHRcdFx0XHRjaXJjbGVHcmFwaC50cmFuc2l0aW9uKClcblx0XHRcdFx0XHRcdC5kdXJhdGlvbig3NTApXG5cdFx0XHRcdFx0XHQuY2FsbChhcmNUd2Vlbiwgcm90YXRlKHJhZGl1cykgKiAyICogTWF0aC5QSSk7XG5cdFx0XHRcdFx0dGV4dC50cmFuc2l0aW9uKCkuZHVyYXRpb24oNzUwKS50d2VlbigndGV4dCcsIGZ1bmN0aW9uKGQpIHtcblx0XHRcdFx0XHRcdHZhciBkYXRhID0gdGhpcy50ZXh0Q29udGVudC5zcGxpdChcIi9cIik7XG5cdFx0XHRcdFx0XHR2YXIgaSA9IGQzLmludGVycG9sYXRlKGRhdGFbMF0sIHJhZGl1cyk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnRleHRDb250ZW50ID0gKE1hdGgucm91bmQoaSh0KSAqIDEpIC8gMSkgKyAnLycgKyBvcHRpb25zLnNpemU7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvL1R3ZWVuIGFuaW1hdGlvbiBmb3IgdGhlIEFyY1xuXHRcdFx0XHRmdW5jdGlvbiBhcmNUd2Vlbih0cmFuc2l0aW9uLCBuZXdBbmdsZSkge1xuXHRcdFx0XHRcdHRyYW5zaXRpb24uYXR0clR3ZWVuKFwiZFwiLCBmdW5jdGlvbihkKSB7XG5cdFx0XHRcdFx0XHR2YXIgaW50ZXJwb2xhdGUgPSBkMy5pbnRlcnBvbGF0ZShkLmVuZEFuZ2xlLCBuZXdBbmdsZSk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24odCkge1xuXHRcdFx0XHRcdFx0XHRkLmVuZEFuZ2xlID0gaW50ZXJwb2xhdGUodCk7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBhcmMoZCk7XG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly9XYXRjaGluZyBpZiBzZWxlY3Rpb24gaGFzIGNoYW5nZWQgZnJvbSBhbm90aGVyIFVJIGVsZW1lbnRcblx0XHRcdFx0JHNjb3BlLiR3YXRjaChcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdHJldHVybiBuZ01vZGVsLiRtb2RlbFZhbHVlO1xuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0ZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG5cdFx0XHRcdFx0XHRpZiAobmV3VmFsdWUgPT09IG9sZFZhbHVlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHRhbmltYXRlSXQobmV3VmFsdWUucmFuaylcblx0XHRcdFx0XHR9LCB0cnVlKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpOyIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSggJ2FwcC5jb250cm9sbGVycycgKS5jb250cm9sbGVyKCAnRGF0YUxpc3RpbmdDdHJsJywgZnVuY3Rpb24oKXtcblx0XHQvL1xuICAgIH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCdhcHAuZGlyZWN0aXZlcycpLmRpcmVjdGl2ZSggJ2RhdGFMaXN0aW5nJywgZnVuY3Rpb24oKSB7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzdHJpY3Q6ICdFQScsXG5cdFx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvZGF0YV9saXN0aW5nL2RhdGFfbGlzdGluZy5odG1sJyxcblx0XHRcdGNvbnRyb2xsZXI6ICdEYXRhTGlzdGluZ0N0cmwnLFxuXHRcdFx0bGluazogZnVuY3Rpb24oICRzY29wZSwgZWxlbWVudCwgJGF0dHJzICl7XG5cdFx0XHRcdC8vXG5cdFx0XHR9XG5cdFx0fTtcblxuXHR9KTtcblxufSkoKTtcbiIsIihmdW5jdGlvbigpe1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRpcmVjdGl2ZXMnKS5kaXJlY3RpdmUoICdncmFkaWVudCcsIGZ1bmN0aW9uKCkge1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3RyaWN0OiAnRUEnLFxuXHRcdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2dyYWRpZW50L2dyYWRpZW50Lmh0bWwnLFxuXHRcdFx0Y29udHJvbGxlcjogJ0dyYWRpZW50Q3RybCcsXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiggJHNjb3BlLCBlbGVtZW50LCAkYXR0cnMgKXtcblx0XHRcdFx0Ly9cblx0XHRcdH1cblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdHcmFkaWVudEN0cmwnLCBmdW5jdGlvbigpe1xuXHRcdC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRpcmVjdGl2ZXMnKS5kaXJlY3RpdmUoJ2xpbmVjaGFydCcsIGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgZGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHR3aWR0aDogMzAwLFxuXHRcdFx0XHRoZWlnaHQ6IDIwMCxcblx0XHRcdFx0bWFyZ2luOiAyMFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHJlc3RyaWN0OiAnRScsXG5cdFx0XHRzY29wZToge1xuXHRcdFx0XHRkYXRhOiAnPSdcblx0XHRcdH0sXG5cdFx0XHRsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtZW50LCAkYXR0cnMpIHtcblx0XHRcdFx0dmFyIHZhbHVlcyA9IFtdO1xuXHRcdFx0XHR2YXIgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRzKCksICRhdHRycyk7XG5cdFx0XHRcdHZhciBzdmcgPSBkMy5zZWxlY3QoZWxlbWVudFswXSkuYXBwZW5kKFwic3ZnXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJ3aWR0aFwiLCBvcHRpb25zLndpZHRoICsgb3B0aW9ucy5tYXJnaW4gKiAyKVxuXHRcdFx0XHRcdC5hdHRyKFwiaGVpZ2h0XCIsIG9wdGlvbnMuaGVpZ2h0ICsgb3B0aW9ucy5tYXJnaW4gKiAyKTtcblxuXHRcdFx0XHR2YXIgY29sb3IgPSBkMy5zY2FsZS5jYXRlZ29yeTEwKCk7XG5cdFx0XHRcdHZhciB4ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsIG9wdGlvbnMud2lkdGggLSAyMF0pO1xuXHRcdFx0XHR2YXIgeSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFtvcHRpb25zLmhlaWdodCAtIDIwLCAwXSkuZG9tYWluKFswLCAxMDBdKTtcblx0XHRcdFx0dmFyIHhBeGlzID0gZDMuc3ZnLmF4aXMoKS5zY2FsZSh4KS5vcmllbnQoJ2JvdHRvbScpLnRpY2tTaXplKDEpLnRpY2tTdWJkaXZpZGUodHJ1ZSk7XG5cdFx0XHRcdHZhciB5QXhpcyA9IGQzLnN2Zy5heGlzKCkuc2NhbGUoeSkub3JpZW50KCdsZWZ0JykudGlja1NpemUoMSkudGlja1N1YmRpdmlkZSh0cnVlKTtcblx0XHRcdFx0eC5kb21haW4oW2QzLm1pbigkc2NvcGUuZGF0YS5lcGksIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGQueWVhcjtcblx0XHRcdFx0fSksIGQzLm1heCgkc2NvcGUuZGF0YS5lcGksIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGQueWVhcjtcblx0XHRcdFx0fSldKTtcblx0XHRcdFx0dmFyIGxpbmUgPSBkMy5zdmcubGluZSgpXG5cdFx0XHRcdFx0LmludGVycG9sYXRlKFwiYmFzaXNcIilcblx0XHRcdFx0XHQueChmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHgoZC55ZWFyKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0XHRcdC55KGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4geShkLnZhbCk7XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRzdmcuYXBwZW5kKCdnJylcblx0XHRcdFx0XHRcdC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsICcgKyAob3B0aW9ucy5oZWlnaHQgLSAyMCkgKyAnKScpXG5cdFx0XHRcdFx0XHQuY2FsbCh4QXhpcyk7XG5cdFx0XHRcdFx0c3ZnLmFwcGVuZCgnZycpXG5cdFx0XHRcdFx0XHQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCAwKScpXG5cdFx0XHRcdFx0XHQuY2FsbCh5QXhpcyk7XG5cdFx0XHRcdC8qc3ZnLmFwcGVuZCgncGF0aCcpXG5cdFx0XHRcdFx0LmRhdHVtKCRzY29wZS5kYXRhLmVwaSlcblx0XHRcdFx0XHQuYXR0cignY2xhc3MnLCBcImxpbmVcIilcblx0XHRcdFx0XHQuYXR0cignZCcsIGxpbmUpXG5cdFx0XHRcdFx0LmF0dHIoJ3N0cm9rZScsICdncmVlbicpXG5cdFx0XHRcdFx0LmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIpXG5cdFx0XHRcdFx0LmF0dHIoJ2ZpbGwnLCdub25lJyk7Ki9cblx0XHRcdFx0dmFyIGNpdGllcyA9IFwiXCI7XG5cdFx0XHRcdHZhciBwcmVwYXJlRGF0YSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHR2YWx1ZXMgPSBbXTtcblx0XHRcdFx0XHRhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRhdGEuZXBpLCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goe1xuXHRcdFx0XHRcdFx0XHR5ZWFyOiBpdGVtLnllYXIsXG5cdFx0XHRcdFx0XHRcdGZpOiBpdGVtLmV2X2ZpLFxuXHRcdFx0XHRcdFx0XHRzdG9jazogaXRlbS5ldl9maV9maXNoX3N0b2Nrcyxcblx0XHRcdFx0XHRcdFx0Y29hc3RhbDogaXRlbS5ldl9maV9jb2FzdGFsX3NoZWxmX2Zpc2hpbmdfcHJlc3N1cmVcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGNvbG9yLmRvbWFpbihkMy5rZXlzKHZhbHVlc1swXSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdFx0XHRcdHJldHVybiBrZXkgIT09IFwieWVhclwiO1xuXHRcdFx0XHRcdH0pKTtcblx0XHRcdFx0XHRjaXRpZXMgPSBjb2xvci5kb21haW4oKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0XHRcdHZhbHVlczogdmFsdWVzLm1hcChmdW5jdGlvbiAoZCkge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR5ZWFyOiBkLnllYXIsXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWw6ICtkW25hbWVdXG5cdFx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHR4LmRvbWFpbihkMy5leHRlbnQodmFsdWVzLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnllYXI7IH0pKTtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhjaXRpZXMpO1xuXHRcdFx0XHR9O1xuXHRcdFx0XHR2YXIgZHJhd0RhdGEgPSBmdW5jdGlvbiAoKSB7XG5cblx0XHRcdFx0XHR2YXIgdHlwZXMgPSBzdmcuc2VsZWN0QWxsKCcudHlwZXMnKVxuXHRcdFx0XHRcdFx0LnJlbW92ZSgpXG5cdFx0XHRcdFx0XHQuZGF0YShjaXRpZXMpXG5cdFx0XHRcdFx0XHQuZW50ZXIoKVxuXHRcdFx0XHRcdFx0LmFwcGVuZCgnZycpXG5cdFx0XHRcdFx0XHQuYXR0cignY2xhc3MnLCAndHlwZXMnKTtcblxuXHRcdFx0XHRcdHR5cGVzLmFwcGVuZCgncGF0aCcpXG5cdFx0XHRcdFx0XHQuYXR0cignY2xhc3MnLCAnbGluZScpXG5cdFx0XHRcdFx0XHQuYXR0cignZCcsIGZ1bmN0aW9uIChkKSB7XG5cdFx0XHRcdFx0XHRcdHJldHVybiBsaW5lKGQudmFsdWVzKVxuXHRcdFx0XHRcdFx0fSlcblx0XHRcdFx0XHRcdC5zdHlsZShcInN0cm9rZVwiLCBmdW5jdGlvbihkKSB7IHJldHVybiBjb2xvcihkLm5hbWUpOyB9KTtcblxuXHRcdFx0XHR9O1xuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKCdkYXRhJywgZnVuY3Rpb24gKG5ld0RhdGEsIG9sZERhdGEpIHtcblx0XHRcdFx0XHRpZiAobmV3RGF0YSA9PSBvbGREYXRhKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHByZXBhcmVEYXRhKCk7XG5cdFx0XHRcdFx0ZHJhd0RhdGEoKVxuXHRcdFx0XHR9KTtcblx0XHRcdFx0cHJlcGFyZURhdGEoKTtcblx0XHRcdFx0ZHJhd0RhdGEoKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCl7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGFuZ3VsYXIubW9kdWxlKCAnYXBwLmNvbnRyb2xsZXJzJyApLmNvbnRyb2xsZXIoICdMaW5lY2hhcnRDdHJsJywgZnVuY3Rpb24oKXtcblx0XHQvL1xuICAgIH0pO1xuXG59KSgpO1xuIiwiKGZ1bmN0aW9uKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHRhbmd1bGFyLm1vZHVsZSgnYXBwLmRpcmVjdGl2ZXMnKS5kaXJlY3RpdmUoJ21lZGlhbicsIGZ1bmN0aW9uKCR0aW1lb3V0KSB7XG5cdFx0dmFyIGRlZmF1bHRzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRpZDogJ2dyYWRpZW50Jyxcblx0XHRcdFx0d2lkdGg6IDM0MCxcblx0XHRcdFx0aGVpZ2h0OiA0MCxcblx0XHRcdFx0bWFyZ2luOiB7XG5cdFx0XHRcdFx0bGVmdDogMjAsXG5cdFx0XHRcdFx0cmlnaHQ6IDIwLFxuXHRcdFx0XHRcdHRvcDogMTAsXG5cdFx0XHRcdFx0Ym90dG9tOiAxMFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRjb2xvcnM6IFt7XG5cdFx0XHRcdFx0cG9zaXRpb246IDAsXG5cdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDI1NSwyNTUsMjU1LDEpJyxcblx0XHRcdFx0XHRvcGFjaXR5OiAwXG5cdFx0XHRcdH0sIHtcblx0XHRcdFx0XHRwb3NpdGlvbjogNTMsXG5cdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDEyOCwgMjQzLCAxOTgsMSknLFxuXHRcdFx0XHRcdG9wYWNpdHk6IDFcblx0XHRcdFx0fSwge1xuXHRcdFx0XHRcdHBvc2l0aW9uOiAxMDAsXG5cdFx0XHRcdFx0Y29sb3I6ICdyZ2JhKDEwMiwxMDIsMTAyLDEpJyxcblx0XHRcdFx0XHRvcGFjaXR5OiAxXG5cdFx0XHRcdH1dXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0cmVzdHJpY3Q6ICdFJyxcblx0XHRcdHNjb3BlOiB7XG5cdFx0XHRcdGRhdGE6ICc9J1xuXHRcdFx0fSxcblx0XHRcdHJlcXVpcmU6ICduZ01vZGVsJyxcblx0XHRcdGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgZWxlbWVudCwgJGF0dHJzLCBuZ01vZGVsKSB7XG5cdFx0XHRcdHZhciBvcHRpb25zID0gYW5ndWxhci5leHRlbmQoZGVmYXVsdHMoKSwgJGF0dHJzKTtcblx0XHRcdFx0dmFyIHggPSBkMy5zY2FsZS5saW5lYXIoKVxuXHRcdFx0XHRcdC5kb21haW4oWzAsIDEwMF0pXG5cdFx0XHRcdFx0LnJhbmdlKFsyMCwgb3B0aW9ucy53aWR0aCAtIG9wdGlvbnMubWFyZ2luLmxlZnRdKVxuXHRcdFx0XHRcdC5jbGFtcCh0cnVlKTtcblxuXHRcdFx0XHR2YXIgYnJ1c2ggPSBkMy5zdmcuYnJ1c2goKVxuXHRcdFx0XHRcdC54KHgpXG5cdFx0XHRcdFx0LmV4dGVudChbMCwgMF0pXG5cdFx0XHRcdFx0Lm9uKFwiYnJ1c2hcIiwgYnJ1c2gpXG5cdFx0XHRcdFx0Lm9uKFwiYnJ1c2hlbmRcIiwgYnJ1c2hlZCk7XG5cblx0XHRcdFx0dmFyIHN2ZyA9IGQzLnNlbGVjdChlbGVtZW50WzBdKS5hcHBlbmQoXCJzdmdcIilcblx0XHRcdFx0XHQuYXR0cihcIndpZHRoXCIsIG9wdGlvbnMud2lkdGgpXG5cdFx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgb3B0aW9ucy5oZWlnaHQgKyBvcHRpb25zLm1hcmdpbi50b3AgKyBvcHRpb25zLm1hcmdpbi5ib3R0b20pXG5cdFx0XHRcdFx0LmFwcGVuZChcImdcIilcblx0XHRcdFx0XHQvLy5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBvcHRpb25zLm1hcmdpbi50b3AgLyAyICsgXCIpXCIpO1xuXHRcdFx0XHR2YXIgZ3JhZGllbnQgPSBzdmcuYXBwZW5kKCdzdmc6ZGVmcycpXG5cdFx0XHRcdFx0LmFwcGVuZChcInN2ZzpsaW5lYXJHcmFkaWVudFwiKVxuXHRcdFx0XHRcdC5hdHRyKCdpZCcsIG9wdGlvbnMuaWQpXG5cdFx0XHRcdFx0LmF0dHIoJ3gxJywgJzAlJylcblx0XHRcdFx0XHQuYXR0cigneTEnLCAnMCUnKVxuXHRcdFx0XHRcdC5hdHRyKCd4MicsICcxMDAlJylcblx0XHRcdFx0XHQuYXR0cigneTInLCAnMCUnKVxuXHRcdFx0XHRcdC5hdHRyKCdzcHJlYWRNZXRob2QnLCAncGFkJylcblx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKG9wdGlvbnMuY29sb3JzLCBmdW5jdGlvbihjb2xvcikge1xuXHRcdFx0XHRcdGdyYWRpZW50LmFwcGVuZCgnc3ZnOnN0b3AnKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ29mZnNldCcsIGNvbG9yLnBvc2l0aW9uICsgJyUnKVxuXHRcdFx0XHRcdFx0LmF0dHIoJ3N0b3AtY29sb3InLCBjb2xvci5jb2xvcilcblx0XHRcdFx0XHRcdC5hdHRyKCdzdG9wLW9wYWNpdHknLCBjb2xvci5vcGFjaXR5KTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHN2Zy5hcHBlbmQoJ3N2ZzpyZWN0Jylcblx0XHRcdFx0XHQuYXR0cignd2lkdGgnLCBvcHRpb25zLndpZHRoKVxuXHRcdFx0XHRcdC5hdHRyKCdoZWlnaHQnLCBvcHRpb25zLmhlaWdodClcblx0XHRcdFx0XHQuc3R5bGUoJ2ZpbGwnLCAndXJsKCMnICsgb3B0aW9ucy5pZCArICcpJyk7XG5cdFx0XHRcdHZhciBsZWdlbmQgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgb3B0aW9ucy5oZWlnaHQgLyAyICsgJywgJyArIG9wdGlvbnMuaGVpZ2h0IC8gMiArICcpJylcblx0XHRcdFx0XHQuYXR0cignY2xhc3MnLCAnc3RhcnRMYWJlbCcpXG5cdFx0XHRcdGxlZ2VuZC5hcHBlbmQoJ2NpcmNsZScpXG5cdFx0XHRcdFx0LmF0dHIoJ3InLCBvcHRpb25zLmhlaWdodCAvIDIpXG5cblx0XHRcdFx0bGVnZW5kLmFwcGVuZCgndGV4dCcpXG5cdFx0XHRcdFx0LnRleHQoMClcblx0XHRcdFx0XHQuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcblx0XHRcdFx0XHQuYXR0cigneScsICcuMzVlbScpXG5cblx0XHRcdFx0dmFyIGxlZ2VuZDIgPSBzdmcuYXBwZW5kKCdnJykuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKG9wdGlvbnMud2lkdGggLSAob3B0aW9ucy5oZWlnaHQgLyAyKSkgKyAnLCAnICsgb3B0aW9ucy5oZWlnaHQgLyAyICsgJyknKVxuXHRcdFx0XHRcdC5hdHRyKCdjbGFzcycsICdlbmRMYWJlbCcpXG5cdFx0XHRcdGxlZ2VuZDIuYXBwZW5kKCdjaXJjbGUnKVxuXHRcdFx0XHRcdC5hdHRyKCdyJywgb3B0aW9ucy5oZWlnaHQgLyAyKVxuXG5cdFx0XHRcdGxlZ2VuZDIuYXBwZW5kKCd0ZXh0Jylcblx0XHRcdFx0XHQudGV4dCgxMDApXG5cdFx0XHRcdFx0LmF0dHIoJ3RleHQtYW5jaG9yJywgJ21pZGRsZScpXG5cdFx0XHRcdFx0LmF0dHIoJ3knLCAnLjM1ZW0nKVxuXG5cdFx0XHRcdHZhciBzbGlkZXIgPSBzdmcuYXBwZW5kKFwiZ1wiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJzbGlkZXJcIilcblx0XHRcdFx0XHQuY2FsbChicnVzaCk7XG5cblx0XHRcdFx0c2xpZGVyLnNlbGVjdChcIi5iYWNrZ3JvdW5kXCIpXG5cdFx0XHRcdFx0LmF0dHIoXCJoZWlnaHRcIiwgb3B0aW9ucy5oZWlnaHQpO1xuXHRcdFx0XHRzbGlkZXIuYXBwZW5kKCdsaW5lJylcblx0XHRcdFx0XHQuYXR0cigneDEnLCBvcHRpb25zLndpZHRoIC8gMilcblx0XHRcdFx0XHQuYXR0cigneTEnLCAwKVxuXHRcdFx0XHRcdC5hdHRyKCd4MicsIG9wdGlvbnMud2lkdGggLyAyKVxuXHRcdFx0XHRcdC5hdHRyKCd5MicsIG9wdGlvbnMuaGVpZ2h0KVxuXHRcdFx0XHRcdC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgJzMsMycpXG5cdFx0XHRcdFx0LmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEpXG5cdFx0XHRcdFx0LmF0dHIoJ3N0cm9rZScsICdyZ2JhKDAsMCwwLDg3KScpO1xuXHRcdFx0XHR2YXIgaGFuZGxlQ29udCA9IHNsaWRlci5hcHBlbmQoJ2cnKVxuXHRcdFx0XHRcdC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBvcHRpb25zLmhlaWdodCAvIDIgKyBcIilcIik7XG5cdFx0XHRcdHZhciBoYW5kbGUgPSBoYW5kbGVDb250LmFwcGVuZChcImNpcmNsZVwiKVxuXHRcdFx0XHRcdC5hdHRyKFwiY2xhc3NcIiwgXCJoYW5kbGVcIilcblx0XHRcdFx0XHQuYXR0cihcInJcIiwgb3B0aW9ucy5oZWlnaHQgLyAyKTtcblx0XHRcdFx0dmFyIGhhbmRsZUxhYmVsID0gaGFuZGxlQ29udC5hcHBlbmQoJ3RleHQnKVxuXHRcdFx0XHRcdC50ZXh0KDApXG5cdFx0XHRcdFx0LmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKS5hdHRyKCd5JywgJzAuM2VtJyk7XG5cblx0XHRcdFx0c2xpZGVyXG5cdFx0XHRcdFx0LmNhbGwoYnJ1c2guZXh0ZW50KFswLCAwXSkpXG5cdFx0XHRcdFx0LmNhbGwoYnJ1c2guZXZlbnQpO1xuXG5cdFx0XHRcdGZ1bmN0aW9uIGJydXNoKCkge1xuXHRcdFx0XHRcdHZhciB2YWx1ZSA9IGJydXNoLmV4dGVudCgpWzBdO1xuXG5cdFx0XHRcdFx0aWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50KSB7IC8vIG5vdCBhIHByb2dyYW1tYXRpYyBldmVudFxuXHRcdFx0XHRcdFx0dmFsdWUgPSB4LmludmVydChkMy5tb3VzZSh0aGlzKVswXSk7XG5cdFx0XHRcdFx0XHRicnVzaC5leHRlbnQoW3ZhbHVlLCB2YWx1ZV0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRoYW5kbGVMYWJlbC50ZXh0KHBhcnNlSW50KHZhbHVlKSk7XG5cdFx0XHRcdFx0aGFuZGxlQ29udC5hdHRyKFwidHJhbnNmb3JtXCIsICd0cmFuc2xhdGUoJyArIHgodmFsdWUpICsgJywnICsgb3B0aW9ucy5oZWlnaHQgLyAyICsgJyknKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIGJydXNoZWQoKSB7XG5cdFx0XHRcdFx0dmFyIHZhbHVlID0gYnJ1c2guZXh0ZW50KClbMF0sXG5cdFx0XHRcdFx0XHRjb3VudCA9IDAsXG5cdFx0XHRcdFx0XHRmb3VuZCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0ZG8ge1xuXHRcdFx0XHRcdFx0YW5ndWxhci5mb3JFYWNoKCRzY29wZS5kYXRhLCBmdW5jdGlvbihuYXQsIGtleSkge1xuXHRcdFx0XHRcdFx0XHRpZiAocGFyc2VJbnQobmF0LnNjb3JlKSA9PSBwYXJzZUludCh2YWx1ZSkpIHtcblx0XHRcdFx0XHRcdFx0XHRuZ01vZGVsLiRzZXRWaWV3VmFsdWUobmF0KTtcblx0XHRcdFx0XHRcdFx0XHRuZ01vZGVsLiRyZW5kZXIoKTtcblx0XHRcdFx0XHRcdFx0XHRmb3VuZCA9IHRydWU7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0Y291bnQrKztcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWUgPiA1MCA/IHZhbHVlIC0gMSA6IHZhbHVlICsgMTtcblx0XHRcdFx0XHR9IHdoaWxlICghZm91bmQgJiYgY291bnQgPCAxMDApXG5cdFx0XHRcdH1cblxuXHRcdFx0XHQkc2NvcGUuJHdhdGNoKFxuXHRcdFx0XHRcdGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIG5nTW9kZWwuJG1vZGVsVmFsdWU7XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcblx0XHRcdFx0XHRcdGlmIChuZXdWYWx1ZSA9PT0gb2xkVmFsdWUpXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdGhhbmRsZUxhYmVsLnRleHQocGFyc2VJbnQobmV3VmFsdWUuc2NvcmUpKTtcblx0XHRcdFx0XHRcdGhhbmRsZUNvbnQudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCkuZWFzZSgncXVhZCcpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgJ3RyYW5zbGF0ZSgnICsgeChuZXdWYWx1ZS5zY29yZSkgKyAnLCcgKyBvcHRpb25zLmhlaWdodCAvIDIgKyAnKScpO1xuXHRcdFx0XHRcdH0sIHRydWUpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0fSk7XG5cbn0pKCk7XG4iLCIoZnVuY3Rpb24oKXtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0YW5ndWxhci5tb2R1bGUoICdhcHAuY29udHJvbGxlcnMnICkuY29udHJvbGxlciggJ01lZGlhbkN0cmwnLCBmdW5jdGlvbigpe1xuXHRcdC8vXG4gICAgfSk7XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=